   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"Sensor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.align	1
  18              		.p2align 2,,3
  19              		.global	sensor_init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	sensor_init:
  25              	.LFB0:
  26              		.file 1 "Sensor.c"
   1:Sensor.c      **** /*
   2:Sensor.c      ****  * Sensor.c
   3:Sensor.c      ****  *
   4:Sensor.c      ****  *  Created on: 21.02.2019
   5:Sensor.c      ****  *      Author: MO
   6:Sensor.c      ****  */
   7:Sensor.c      **** 
   8:Sensor.c      **** #include "Button.h"
   9:Sensor.c      **** #include "Sensor.h"
  10:Sensor.c      **** #include "LedRear.h"
  11:Sensor.c      **** #include "BLDC.h"
  12:Sensor.c      **** #include "hal/Debug.h"
  13:Sensor.c      **** #include "hal/ic/LIS2DH12.h"
  14:Sensor.c      **** 
  15:Sensor.c      **** 	u32 m_cutOffTime = 0;
  16:Sensor.c      **** 
  17:Sensor.c      **** 	// filter for torque values
  18:Sensor.c      **** 	int64_t akkuActualPedalTorque = 0;
  19:Sensor.c      **** 	s32 filteredActualPedalTorque = 0;
  20:Sensor.c      **** 	s32 fltActualTorque = 4;
  21:Sensor.c      **** 
  22:Sensor.c      **** 	int64_t akkuPedalTorqueAverage = 0;
  23:Sensor.c      **** 	s32 m_filteredPedalTorqueAverage = 0;
  24:Sensor.c      **** 
  25:Sensor.c      **** 	s32 m_filteredActualPedalVelocity = 0;
  26:Sensor.c      **** 
  27:Sensor.c      **** 	int64_t akkuActualPedalVelocitySwift = 0;
  28:Sensor.c      **** 	s32 m_filteredActualPedalVelocitySwift = 0;
  29:Sensor.c      **** 
  30:Sensor.c      **** 	int64_t akkuActualMotorVelocityFast = 0;
  31:Sensor.c      **** 	int64_t akkuActualWheelMotorVelocityFast = 0;
  32:Sensor.c      **** 
  33:Sensor.c      **** 	// min / max pedal torque
  34:Sensor.c      **** 	float m_minPedalTorque = 0;
  35:Sensor.c      **** 	float m_maxPedalTorque = 0;
  36:Sensor.c      **** 	float dT = 0.06;
  37:Sensor.c      **** 
  38:Sensor.c      **** 	// wheel velocity measurement
  39:Sensor.c      **** 	u8 m_wheelDirectionCounter = 0;
  40:Sensor.c      **** 	u8 m_wheelCounterPrev = 0;
  41:Sensor.c      **** 	s32 m_wheelVelocityTimer = 0;
  42:Sensor.c      **** 	s32 m_wheelVelocity = 0;
  43:Sensor.c      **** 
  44:Sensor.c      **** 	// wheelMotor velocity measurement
  45:Sensor.c      **** 	s32 m_wheelMotorVelocity = 0;
  46:Sensor.c      **** 	s32 m_actualWheelMotorVelocity = 0;
  47:Sensor.c      **** 
  48:Sensor.c      **** 	// pedal Counter
  49:Sensor.c      **** 	s32 m_pedalCounter = 0;
  50:Sensor.c      **** 	s8 m_pedalDirectionCounter = 0;
  51:Sensor.c      **** 	s32 m_pedalPosition = 0;
  52:Sensor.c      **** 	s32 pedalCounterPrev = 0;
  53:Sensor.c      **** 	s32 pedalCounterLast = 0;
  54:Sensor.c      **** 	s32 m_pedalCountsPer30MSecond = 0;
  55:Sensor.c      **** 
  56:Sensor.c      **** 	// min / max average
  57:Sensor.c      **** 	u16 maxPedalData[MAX_PEDAL_POSITIONS];
  58:Sensor.c      **** 	u16 minPedalData[MAX_PEDAL_POSITIONS];
  59:Sensor.c      **** 	u32 maxPedalAverage = 0;
  60:Sensor.c      **** 	u32 minPedalAverage = 0;
  61:Sensor.c      **** 
  62:Sensor.c      **** 	// torque at position
  63:Sensor.c      **** 	u16 m_pedalTorqueAverage[MAX_PEDAL_POSITIONS];
  64:Sensor.c      **** 	u16 m_leftPedalTorqueRaw[MAX_PEDAL_POSITIONS];
  65:Sensor.c      **** 	u16 m_rightPedalTorqueRaw[MAX_PEDAL_POSITIONS];
  66:Sensor.c      **** 	u16 m_minEstimatedPedalTorque[MAX_PEDAL_POSITIONS];
  67:Sensor.c      **** 	u16 m_leftPedalTorque = 0;
  68:Sensor.c      **** 	u16 m_rightPedalTorque = 0;
  69:Sensor.c      **** 	s32 targetPedalTorque = 0;
  70:Sensor.c      **** 
  71:Sensor.c      **** 	// torque/speed map
  72:Sensor.c      **** 	s32 m_mapSpeedTorque = 0;
  73:Sensor.c      **** 	u8 cutOffTimer = 0;
  74:Sensor.c      **** 
  75:Sensor.c      **** 	s32 m_actualTorque = 0;
  76:Sensor.c      **** 	int64_t akkuActualMotorTorque = 0;
  77:Sensor.c      **** 
  78:Sensor.c      **** 	// config parameter
  79:Sensor.c      **** 	s8 m_pedalDirection = 0;
  80:Sensor.c      **** 	s8 m_pedalMotorEnable = 0;
  81:Sensor.c      **** 	s32 m_averageTorque = 0;
  82:Sensor.c      **** 	s32 m_pedalVelocity = 0;
  83:Sensor.c      **** 	s32 m_motorVelocity = 0;
  84:Sensor.c      **** 	s16 m_actualGain = 0;
  85:Sensor.c      **** 	bool m_actualTorqueLimit = 0;
  86:Sensor.c      **** 
  87:Sensor.c      **** 	// brake detection
  88:Sensor.c      **** 	s32 out_Y = 0;
  89:Sensor.c      **** 	s32 minGDetection = 0;
  90:Sensor.c      **** 	s32 minGDetectionLast = 0;
  91:Sensor.c      **** 	s32 m_wheelVelocityLast = 0;
  92:Sensor.c      **** 	s32 m_brakeStartPoint = 0;
  93:Sensor.c      **** 
  94:Sensor.c      **** 	// forward declarations
  95:Sensor.c      **** 	void cutOffTime();
  96:Sensor.c      **** 	int wheelSensorDiff(u8 previousState, u8 actualState);
  97:Sensor.c      **** 	int bottomBracketDiff(u8 previousState, u8 actualState);
  98:Sensor.c      **** 
  99:Sensor.c      **** void sensor_init()
 100:Sensor.c      **** {
  27              		.loc 1 100 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
 101:Sensor.c      **** 	sensor_updateCutOffTime();
  31              		.loc 1 101 2 view .LVU1
  32              	.LBB7:
  33              	.LBI7:
 102:Sensor.c      **** 	button_updateBatteryStatusFactor();
 103:Sensor.c      **** 
 104:Sensor.c      **** 	s32 ADCTorqueValue = tmcm_getADCTorqueValue();
 105:Sensor.c      **** 	for (int i = 0; i < motorConfig.pedalPulsesPerRotation; i++)
 106:Sensor.c      **** 	{
 107:Sensor.c      **** 		maxPedalData[i] = ADCTorqueValue;
 108:Sensor.c      **** 		minPedalData[i] = ADCTorqueValue;
 109:Sensor.c      **** 
 110:Sensor.c      **** 		m_leftPedalTorqueRaw[i] = 0;
 111:Sensor.c      **** 		m_rightPedalTorqueRaw[i] = 0;
 112:Sensor.c      **** 		m_minEstimatedPedalTorque[i] = 0;
 113:Sensor.c      **** 		m_pedalTorqueAverage[i] = 0;
 114:Sensor.c      **** 	}
 115:Sensor.c      **** }
 116:Sensor.c      **** 
 117:Sensor.c      **** // ===== analog signal processing =====
 118:Sensor.c      **** 
 119:Sensor.c      **** void sensor_updatePedalTorque()
 120:Sensor.c      **** {
 121:Sensor.c      **** 	filteredActualPedalTorque = tmc_filterPT1(&akkuActualPedalTorque, tmcm_getADCTorqueValue(), filter
 122:Sensor.c      **** }
 123:Sensor.c      **** 
 124:Sensor.c      **** s32 sensor_actualPedalTorque()
 125:Sensor.c      **** {
 126:Sensor.c      **** 	return filteredActualPedalTorque;
 127:Sensor.c      **** }
 128:Sensor.c      **** 
 129:Sensor.c      **** int sensor_getFltActualTorque()
 130:Sensor.c      **** {
 131:Sensor.c      **** 	return fltActualTorque;
 132:Sensor.c      **** }
 133:Sensor.c      **** 
 134:Sensor.c      **** void sensor_setFltActualTorque(int flt)
 135:Sensor.c      **** {
 136:Sensor.c      **** 	fltActualTorque = flt;
 137:Sensor.c      **** }
 138:Sensor.c      **** 
 139:Sensor.c      **** void sensor_computePedalTorqMinMax()
 140:Sensor.c      **** {
 141:Sensor.c      **** 	int actualTorque = filteredActualPedalTorque;
 142:Sensor.c      **** 
 143:Sensor.c      **** 	if (actualTorque > m_maxPedalTorque)
 144:Sensor.c      **** 		m_maxPedalTorque = actualTorque;
 145:Sensor.c      **** 	else
 146:Sensor.c      **** 		m_maxPedalTorque -= dT;
 147:Sensor.c      **** 
 148:Sensor.c      **** 	if (actualTorque < m_minPedalTorque)
 149:Sensor.c      **** 		m_minPedalTorque = actualTorque;
 150:Sensor.c      **** 	else
 151:Sensor.c      **** 		m_minPedalTorque += dT;
 152:Sensor.c      **** 
 153:Sensor.c      **** 	if (abs(m_pedalCountsPer30MSecond) < 2)
 154:Sensor.c      **** 	{
 155:Sensor.c      **** 		m_maxPedalTorque = actualTorque;
 156:Sensor.c      **** 		m_minPedalTorque = actualTorque;
 157:Sensor.c      **** 	}
 158:Sensor.c      **** }
 159:Sensor.c      **** 
 160:Sensor.c      **** // ===== digital signal processing =====
 161:Sensor.c      **** 
 162:Sensor.c      **** s32 m_pedalPositionLast = 0;
 163:Sensor.c      **** s8 m_pedalPositionStart = 0;
 164:Sensor.c      **** s8 m_pedalPositionStartReset = 0;
 165:Sensor.c      **** 
 166:Sensor.c      **** void sensor_updatePedalCounter()
 167:Sensor.c      **** {
 168:Sensor.c      **** 	// update pedal counter
 169:Sensor.c      **** 	u8 pedalCounterActual = tmcm_getSinCosValue();
 170:Sensor.c      **** 	m_pedalDirectionCounter = bottomBracketDiff(pedalCounterPrev, pedalCounterActual);
 171:Sensor.c      **** 
 172:Sensor.c      **** 	m_pedalCounter += m_pedalDirectionCounter;
 173:Sensor.c      **** 	if (m_pedalCounter < 0)
 174:Sensor.c      **** 	{
 175:Sensor.c      **** 		m_pedalCounter = 0;
 176:Sensor.c      **** 	}
 177:Sensor.c      **** 
 178:Sensor.c      **** 	pedalCounterPrev = pedalCounterActual;
 179:Sensor.c      **** 
 180:Sensor.c      **** 	// update pedal position
 181:Sensor.c      **** 	m_pedalPosition = (int)m_pedalCounter % (int)motorConfig.pedalPulsesPerRotation;
 182:Sensor.c      **** 	if ((m_pedalPosition < 0) && (m_pedalPosition >= motorConfig.pedalPulsesPerRotation))
 183:Sensor.c      **** 	{
 184:Sensor.c      **** 		m_pedalPosition = 0;
 185:Sensor.c      **** 	}
 186:Sensor.c      **** 
 187:Sensor.c      **** 	if ((m_pedalPosition >= 0) && (m_pedalPosition < motorConfig.pedalPulsesPerRotation))
 188:Sensor.c      **** 	{
 189:Sensor.c      **** 		// estimate torque for actual position + 180°
 190:Sensor.c      **** 		s32 index = (m_pedalPosition + ((int)motorConfig.pedalPulsesPerRotation/2));
 191:Sensor.c      **** 		if (index >= motorConfig.pedalPulsesPerRotation)
 192:Sensor.c      **** 		{
 193:Sensor.c      **** 			index = index - motorConfig.pedalPulsesPerRotation;
 194:Sensor.c      **** 		}
 195:Sensor.c      **** 
 196:Sensor.c      **** 		s32 pedalTorque = motorConfig.torqueSensorOffset-filteredActualPedalTorque;
 197:Sensor.c      **** 		if (pedalTorque < 0)
 198:Sensor.c      **** 			pedalTorque = 0;
 199:Sensor.c      **** 
 200:Sensor.c      **** 		// average measured torque
 201:Sensor.c      **** 		m_pedalTorqueAverage[m_pedalPosition] = pedalTorque;
 202:Sensor.c      **** 
 203:Sensor.c      **** 		// clipping PedalTorque
 204:Sensor.c      **** 		if((pedalTorque*motorConfig.torqueSensorGain >= (s32)motorConfig.maximumCurrent) && (m_wheelMotor
 205:Sensor.c      **** 		{
 206:Sensor.c      **** 			pedalTorque = motorConfig.maximumCurrent/motorConfig.torqueSensorGain;
 207:Sensor.c      **** 		}
 208:Sensor.c      **** 
 209:Sensor.c      **** 		// starting position detection
 210:Sensor.c      **** 		if(m_pedalPosition == m_pedalPositionLast-1)
 211:Sensor.c      **** 		{
 212:Sensor.c      **** 			m_pedalPositionStart = m_pedalPosition;
 213:Sensor.c      **** 
 214:Sensor.c      **** 			//setting end of the starting point
 215:Sensor.c      **** 			m_pedalPositionStart = ((int)m_pedalPositionStart+((int)motorConfig.pedalPulsesPerRotation/4*3))
 216:Sensor.c      **** 		}
 217:Sensor.c      **** 
 218:Sensor.c      **** 		// reset start position
 219:Sensor.c      **** 		if((m_wheelMotorVelocity == 0) &&(m_wheelVelocity <= (s32)motorConfig.initialRightTorqueSpeed))
 220:Sensor.c      **** 		{
 221:Sensor.c      **** 			m_pedalPositionStartReset = 0;
 222:Sensor.c      **** 		}
 223:Sensor.c      **** 
 224:Sensor.c      **** 		// save raw torque at actual position
 225:Sensor.c      **** 		m_leftPedalTorqueRaw[m_pedalPosition] = (pedalTorque*motorConfig.leftRightRatio)/100;
 226:Sensor.c      **** 
 227:Sensor.c      **** 		if((m_pedalPosition != m_pedalPositionStart)&&(m_pedalPositionStartReset == 0))
 228:Sensor.c      **** 		{
 229:Sensor.c      **** 			m_rightPedalTorqueRaw[m_pedalPosition] = (motorConfig.initialRightTorque*(100-motorConfig.leftRi
 230:Sensor.c      **** 		}
 231:Sensor.c      **** 		else
 232:Sensor.c      **** 		{
 233:Sensor.c      **** 			m_rightPedalTorqueRaw[index] = (pedalTorque*(100-motorConfig.leftRightRatio))/100;
 234:Sensor.c      **** 		}
 235:Sensor.c      **** 
 236:Sensor.c      **** 		if (m_filteredActualPedalVelocitySwift <= motorConfig.pedalSenseDelay)
 237:Sensor.c      **** 		{
 238:Sensor.c      **** 			for (int i = 0; i < motorConfig.pedalPulsesPerRotation; i++)
 239:Sensor.c      **** 			{
 240:Sensor.c      **** 				s32 index_2 = (i + ((int)motorConfig.pedalPulsesPerRotation/2));
 241:Sensor.c      **** 				if (index_2 >= motorConfig.pedalPulsesPerRotation)
 242:Sensor.c      **** 				{
 243:Sensor.c      **** 					index_2 = index_2 - motorConfig.pedalPulsesPerRotation;
 244:Sensor.c      **** 				}
 245:Sensor.c      **** 
 246:Sensor.c      **** 				m_leftPedalTorqueRaw[i] = pedalTorque;
 247:Sensor.c      **** 				m_rightPedalTorqueRaw[index_2] = pedalTorque;
 248:Sensor.c      **** 
 249:Sensor.c      **** 				//AB Parameter Average measured Torque
 250:Sensor.c      **** 				m_pedalTorqueAverage[i] = pedalTorque;
 251:Sensor.c      **** 			}
 252:Sensor.c      **** 		}
 253:Sensor.c      **** 
 254:Sensor.c      **** 		// calculate average torque
 255:Sensor.c      **** 		u32 m_leftPedalTorqueAverage = 0;
 256:Sensor.c      **** 		u32 m_rightPedalTorqueAverage = 0;
 257:Sensor.c      **** 		u32 measuredPedalTorque = 0;
 258:Sensor.c      **** 		for (int i = 0; i < motorConfig.pedalPulsesPerRotation; i++)
 259:Sensor.c      **** 		{
 260:Sensor.c      **** 			m_leftPedalTorqueAverage += m_leftPedalTorqueRaw[i];
 261:Sensor.c      **** 			m_rightPedalTorqueAverage += m_rightPedalTorqueRaw[i];
 262:Sensor.c      **** 
 263:Sensor.c      **** 			// average measured torque
 264:Sensor.c      **** 			measuredPedalTorque += m_pedalTorqueAverage[i];
 265:Sensor.c      **** 		}
 266:Sensor.c      **** 		m_leftPedalTorqueAverage /= motorConfig.pedalPulsesPerRotation;
 267:Sensor.c      **** 		m_rightPedalTorqueAverage /= motorConfig.pedalPulsesPerRotation;
 268:Sensor.c      **** 
 269:Sensor.c      **** 		// adjusting average/sport mode
 270:Sensor.c      **** 		m_leftPedalTorque = ((m_leftPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_leftPedal
 271:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 272:Sensor.c      **** 
 273:Sensor.c      **** 		//
 274:Sensor.c      **** 		if (m_leftPedalTorqueRaw[m_pedalPosition] > m_rightPedalTorqueRaw[m_pedalPosition])
 275:Sensor.c      **** 		{
 276:Sensor.c      **** 			m_minEstimatedPedalTorque[m_pedalPosition] = m_leftPedalTorque;
 277:Sensor.c      **** 		}
 278:Sensor.c      **** 		if (m_leftPedalTorqueRaw[m_pedalPosition] < m_rightPedalTorqueRaw[m_pedalPosition])
 279:Sensor.c      **** 		{
 280:Sensor.c      **** 			m_minEstimatedPedalTorque[m_pedalPosition] = m_rightPedalTorque;
 281:Sensor.c      **** 		}
 282:Sensor.c      **** 		else if(m_leftPedalTorqueRaw[m_pedalPosition] == m_rightPedalTorqueRaw[m_pedalPosition])
 283:Sensor.c      **** 		{
 284:Sensor.c      **** 			m_minEstimatedPedalTorque[m_pedalPosition] = MAX(m_leftPedalTorque, m_rightPedalTorque);
 285:Sensor.c      **** 		}
 286:Sensor.c      **** 
 287:Sensor.c      **** 		if(motorConfig.averageSportMode <= 50)
 288:Sensor.c      **** 		{
 289:Sensor.c      **** 			m_filteredPedalTorqueAverage = tmc_filterPT1(&akkuPedalTorqueAverage, m_minEstimatedPedalTorque[
 290:Sensor.c      **** 		}
 291:Sensor.c      **** 		else
 292:Sensor.c      **** 		{
 293:Sensor.c      **** 			m_filteredPedalTorqueAverage = m_minEstimatedPedalTorque[m_pedalPosition];
 294:Sensor.c      **** 		}
 295:Sensor.c      **** 
 296:Sensor.c      **** 		m_pedalPositionLast = m_pedalPosition;
 297:Sensor.c      **** 
 298:Sensor.c      **** 		//save start Position
 299:Sensor.c      **** 		if(m_pedalPosition == m_pedalPositionStart)
 300:Sensor.c      **** 		{
 301:Sensor.c      **** 			m_pedalPositionStartReset = 1;
 302:Sensor.c      **** 		}
 303:Sensor.c      **** 
 304:Sensor.c      **** 		// average measured torque
 305:Sensor.c      **** 		measuredPedalTorque /= motorConfig.pedalPulsesPerRotation;
 306:Sensor.c      **** 		m_averageTorque = (measuredPedalTorque)*11355/100000;
 307:Sensor.c      **** 
 308:Sensor.c      **** //		debug_setTestVar6(m_rightPedalTorqueRaw[m_pedalPosition]);
 309:Sensor.c      **** //		debug_setTestVar5(m_leftPedalTorqueRaw[m_pedalPosition]);
 310:Sensor.c      **** //		debug_setTestVar4(m_rightPedalTorqueAverage);
 311:Sensor.c      **** //		debug_setTestVar3(m_leftPedalTorqueAverage);
 312:Sensor.c      **** 	}
 313:Sensor.c      **** }
 314:Sensor.c      **** 
 315:Sensor.c      **** s32 sensor_pedalCounter()
 316:Sensor.c      **** {
 317:Sensor.c      **** 	return m_pedalCounter;
 318:Sensor.c      **** }
 319:Sensor.c      **** 
 320:Sensor.c      **** s32 sensor_pedalPosition()
 321:Sensor.c      **** {
 322:Sensor.c      **** 	return m_pedalPosition;
 323:Sensor.c      **** }
 324:Sensor.c      **** 
 325:Sensor.c      **** void sensor_updatePedalVelocity()
 326:Sensor.c      **** {
 327:Sensor.c      **** 	m_pedalCountsPer30MSecond = m_pedalCounter-pedalCounterLast;
 328:Sensor.c      **** 	pedalCounterLast = m_pedalCounter;
 329:Sensor.c      **** 
 330:Sensor.c      **** 	m_pedalVelocity = (m_pedalCountsPer30MSecond*666)/(motorConfig.pedalPulsesPerRotation);	// RPM
 331:Sensor.c      **** 	m_filteredActualPedalVelocitySwift = tmc_filterPT1(&akkuActualPedalVelocitySwift, m_pedalVelocity,
 332:Sensor.c      **** 
 333:Sensor.c      **** 	if (m_pedalCountsPer30MSecond > 0)
 334:Sensor.c      **** 	{
 335:Sensor.c      **** 		m_pedalDirection = 1;
 336:Sensor.c      **** 	}
 337:Sensor.c      **** 	if (m_pedalCountsPer30MSecond == 0 )
 338:Sensor.c      **** 	{
 339:Sensor.c      **** 		m_pedalDirection = 0;
 340:Sensor.c      **** 	}
 341:Sensor.c      **** 	if (m_pedalCountsPer30MSecond < 0)
 342:Sensor.c      **** 	{
 343:Sensor.c      **** 		m_pedalDirection = -1;
 344:Sensor.c      **** 	}
 345:Sensor.c      **** //	debug_setTestVar0(m_filteredActualPedalVelocitySwift);
 346:Sensor.c      **** }
 347:Sensor.c      **** 
 348:Sensor.c      **** s32 sensor_pedalCounterPer500MSeconds()
 349:Sensor.c      **** {
 350:Sensor.c      **** 	return m_pedalCountsPer30MSecond;
 351:Sensor.c      **** }
 352:Sensor.c      **** 
 353:Sensor.c      **** void sensor_updateMotorVelocity()
 354:Sensor.c      **** {
 355:Sensor.c      **** 	s32 actualMotorVelocity = tmc4671_readInt(0, TMC4671_PID_VELOCITY_ACTUAL);
 356:Sensor.c      **** 	if(actualMotorVelocity <= 0)
 357:Sensor.c      **** 	{
 358:Sensor.c      **** 		actualMotorVelocity = 0;
 359:Sensor.c      **** 	}
 360:Sensor.c      **** 	m_motorVelocity = tmc_filterPT1(&akkuActualMotorVelocityFast, actualMotorVelocity, m_motorVelocity
 361:Sensor.c      **** 
 362:Sensor.c      **** 	m_actualWheelMotorVelocity = (actualMotorVelocity*motorConfig.wheelDiameter*47)/(motorConfig.gearR
 363:Sensor.c      **** 
 364:Sensor.c      **** 	m_wheelMotorVelocity = tmc_filterPT1(&akkuActualWheelMotorVelocityFast, m_actualWheelMotorVelocity
 365:Sensor.c      **** }
 366:Sensor.c      **** 
 367:Sensor.c      **** void sensor_updateWheelCounter()
 368:Sensor.c      **** {
 369:Sensor.c      **** 	u8 m_wheelCounterActual = tmcm_getSpeedValue();
 370:Sensor.c      **** 	m_wheelDirectionCounter = wheelSensorDiff(m_wheelCounterPrev, m_wheelCounterActual);
 371:Sensor.c      **** 	m_wheelCounterPrev = m_wheelCounterActual;
 372:Sensor.c      **** //	debug_setTestVar7(m_wheelDirectionCounter);
 373:Sensor.c      **** }
 374:Sensor.c      **** 
 375:Sensor.c      **** void sensor_updateWheelVelocity()
 376:Sensor.c      **** {
 377:Sensor.c      **** 	if (m_wheelVelocityTimer < 2500)
 378:Sensor.c      **** 	{
 379:Sensor.c      **** 		m_wheelVelocityTimer++;
 380:Sensor.c      **** 	}
 381:Sensor.c      **** 	if (m_wheelVelocityTimer >= 2500)
 382:Sensor.c      **** 	{
 383:Sensor.c      **** 		m_wheelVelocity = 0;
 384:Sensor.c      **** 	}
 385:Sensor.c      **** 	if(m_wheelDirectionCounter == 1)
 386:Sensor.c      **** 	{
 387:Sensor.c      **** 		// Wheel Velocity in 0,1km/h
 388:Sensor.c      **** 		m_wheelVelocity = ((s32)113*(s32)motorConfig.wheelDiameter)/(m_wheelVelocityTimer*(s32)motorConfi
 389:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 390:Sensor.c      **** 		m_wheelDirectionCounter = 0;
 391:Sensor.c      **** 	}
 392:Sensor.c      **** 	debug_setTestVar2(m_wheelVelocity);
 393:Sensor.c      **** }
 394:Sensor.c      **** 
 395:Sensor.c      **** void sensor_mapSpeedTorque()
 396:Sensor.c      **** {
 397:Sensor.c      **** 	s32 m_torqueDiff = 0;
 398:Sensor.c      **** 	s32 m_speedDiff = 0;
 399:Sensor.c      **** 	s32 m_speedWheelDiff = 0;
 400:Sensor.c      **** 
 401:Sensor.c      **** 	if(motorConfig.speed_0 >= m_wheelMotorVelocity)
 402:Sensor.c      **** 	{
 403:Sensor.c      **** 		m_mapSpeedTorque = motorConfig.maximumCurrent*motorConfig.torque_0/100;
 404:Sensor.c      **** 	}
 405:Sensor.c      **** 
 406:Sensor.c      **** 	if((motorConfig.speed_0 < m_wheelMotorVelocity) && (motorConfig.speed_1 >= m_wheelMotorVelocity))
 407:Sensor.c      **** 	{
 408:Sensor.c      **** 		m_speedWheelDiff = m_wheelMotorVelocity-motorConfig.speed_0;
 409:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_1 - (s16)motorConfig.torque_0;
 410:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_1-(s32)motorConfig.speed_0;
 411:Sensor.c      **** 
 412:Sensor.c      **** 		m_mapSpeedTorque = (s32)motorConfig.maximumCurrent*( (s32)motorConfig.torque_0 + (m_torqueDiff*m_
 413:Sensor.c      **** 	}
 414:Sensor.c      **** 	if((motorConfig.speed_1 < m_wheelMotorVelocity) && (motorConfig.speed_2 >= m_wheelMotorVelocity))
 415:Sensor.c      **** 	{
 416:Sensor.c      **** 		m_speedWheelDiff = m_wheelMotorVelocity-motorConfig.speed_1;
 417:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_2 - (s16)motorConfig.torque_1;
 418:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_2-(s32)motorConfig.speed_1;
 419:Sensor.c      **** 
 420:Sensor.c      **** 		m_mapSpeedTorque = (s32)motorConfig.maximumCurrent*( (s32)motorConfig.torque_1 + (m_torqueDiff*m_
 421:Sensor.c      **** 	}
 422:Sensor.c      **** 	if((motorConfig.speed_2 < m_wheelMotorVelocity) && (motorConfig.speed_3 >= m_wheelMotorVelocity))
 423:Sensor.c      **** 	{
 424:Sensor.c      **** 		m_speedWheelDiff = m_wheelMotorVelocity-motorConfig.speed_2;
 425:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_3 - (s16)motorConfig.torque_2;
 426:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_3-(s32)motorConfig.speed_2;
 427:Sensor.c      **** 
 428:Sensor.c      **** 		m_mapSpeedTorque = (s32)motorConfig.maximumCurrent*( (s32)motorConfig.torque_2 + (m_torqueDiff*m_
 429:Sensor.c      **** 	}
 430:Sensor.c      **** 	if((motorConfig.speed_3 < m_wheelMotorVelocity) && (motorConfig.speed_4 >= m_wheelMotorVelocity))
 431:Sensor.c      **** 	{
 432:Sensor.c      **** 		m_speedWheelDiff = m_wheelMotorVelocity-motorConfig.speed_3;
 433:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_4 - (s16)motorConfig.torque_3;
 434:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_4-(s32)motorConfig.speed_3;
 435:Sensor.c      **** 
 436:Sensor.c      **** 		m_mapSpeedTorque = (s32)motorConfig.maximumCurrent*( (s32)motorConfig.torque_3 + (m_torqueDiff*m_
 437:Sensor.c      **** 	}
 438:Sensor.c      **** 	if((motorConfig.speed_4 < m_wheelMotorVelocity) && (motorConfig.speed_5 >= m_wheelMotorVelocity))
 439:Sensor.c      **** 	{
 440:Sensor.c      **** 		m_speedWheelDiff = m_wheelMotorVelocity-motorConfig.speed_4;
 441:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_5 - (s16)motorConfig.torque_4;
 442:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_5-(s32)motorConfig.speed_4;
 443:Sensor.c      **** 
 444:Sensor.c      **** 		m_mapSpeedTorque = (s32)motorConfig.maximumCurrent*( (s32)motorConfig.torque_4 + (m_torqueDiff*m_
 445:Sensor.c      **** 	}
 446:Sensor.c      **** 	if((motorConfig.speed_5 < m_wheelMotorVelocity) && (motorConfig.speed_6 >= m_wheelMotorVelocity))
 447:Sensor.c      **** 	{
 448:Sensor.c      **** 		m_speedWheelDiff = m_wheelMotorVelocity-motorConfig.speed_5;
 449:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_6 - (s16)motorConfig.torque_5;
 450:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_6-(s32)motorConfig.speed_5;
 451:Sensor.c      **** 
 452:Sensor.c      **** 		m_mapSpeedTorque = (s32)motorConfig.maximumCurrent*( (s32)motorConfig.torque_5 + (m_torqueDiff*m_
 453:Sensor.c      **** 	}
 454:Sensor.c      **** 	if((motorConfig.speed_6 < m_wheelMotorVelocity) && (motorConfig.speed_7 >= m_wheelMotorVelocity))
 455:Sensor.c      **** 	{
 456:Sensor.c      **** 		m_speedWheelDiff = m_wheelMotorVelocity-motorConfig.speed_6;
 457:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_7 - (s16)motorConfig.torque_6;
 458:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_7-(s32)motorConfig.speed_6;
 459:Sensor.c      **** 
 460:Sensor.c      **** 		m_mapSpeedTorque = (s32)motorConfig.maximumCurrent*( (s32)motorConfig.torque_6 + (m_torqueDiff*m_
 461:Sensor.c      **** 	}
 462:Sensor.c      **** 	if((motorConfig.speed_7 < m_wheelMotorVelocity) && (motorConfig.speed_8 >= m_wheelMotorVelocity))
 463:Sensor.c      **** 	{
 464:Sensor.c      **** 		m_speedWheelDiff = m_wheelMotorVelocity-motorConfig.speed_7;
 465:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_8 - (s16)motorConfig.torque_7;
 466:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_8-(s32)motorConfig.speed_7;
 467:Sensor.c      **** 
 468:Sensor.c      **** 		m_mapSpeedTorque = (s32)motorConfig.maximumCurrent*( (s32)motorConfig.torque_7 + (m_torqueDiff*m_
 469:Sensor.c      **** 	}
 470:Sensor.c      **** 	if(motorConfig.speed_8 < m_wheelMotorVelocity)
 471:Sensor.c      **** 	{
 472:Sensor.c      **** 		m_mapSpeedTorque = motorConfig.maximumCurrent*motorConfig.torque_8/100;
 473:Sensor.c      **** 	}
 474:Sensor.c      **** }
 475:Sensor.c      **** 
 476:Sensor.c      **** s32 sensor_motorAssistance()
 477:Sensor.c      **** {
 478:Sensor.c      **** 	targetPedalTorque = m_filteredPedalTorqueAverage * motorConfig.torqueSensorGain;
 479:Sensor.c      **** 
 480:Sensor.c      **** 	// use only if above a minimal positive value
 481:Sensor.c      **** 	if ((targetPedalTorque <= (s16)motorConfig.torqueDeadband) || (/*m_filteredActualPedalVelocitySwif
 482:Sensor.c      **** 	{
 483:Sensor.c      **** 		targetPedalTorque = 0;
 484:Sensor.c      **** 	}
 485:Sensor.c      **** 
 486:Sensor.c      **** 	// limit to max positive value
 487:Sensor.c      **** 	if (targetPedalTorque > (s32)motorConfig.maximumCurrent)
 488:Sensor.c      **** 	{
 489:Sensor.c      **** 		targetPedalTorque = motorConfig.maximumCurrent;
 490:Sensor.c      **** 	}
 491:Sensor.c      **** 	// limit to Speed/Torque Map
 492:Sensor.c      **** 	if (targetPedalTorque > (s32)m_mapSpeedTorque)
 493:Sensor.c      **** 	{
 494:Sensor.c      **** 		targetPedalTorque = m_mapSpeedTorque;
 495:Sensor.c      **** 	}
 496:Sensor.c      **** 
 497:Sensor.c      **** 	if (m_wheelMotorVelocity > motorConfig.maximumSpeed*VelocityScaling)
 498:Sensor.c      **** 	{
 499:Sensor.c      **** 		targetPedalTorque = 0;
 500:Sensor.c      **** 	}
 501:Sensor.c      **** 
 502:Sensor.c      **** 	if (targetPedalTorque > 0)
 503:Sensor.c      **** 	{
 504:Sensor.c      **** 		m_pedalMotorEnable = 1;
 505:Sensor.c      **** 	}
 506:Sensor.c      **** 	if (targetPedalTorque <= 0)
 507:Sensor.c      **** 	{
 508:Sensor.c      **** 		m_pedalMotorEnable = 0;
 509:Sensor.c      **** 	}
 510:Sensor.c      **** 
 511:Sensor.c      **** 	return targetPedalTorque;
 512:Sensor.c      **** }
 513:Sensor.c      **** 
 514:Sensor.c      **** void sensor_updateCutOffTime()
  34              		.loc 1 514 6 view .LVU2
  35              	.LBB8:
 515:Sensor.c      **** {
 516:Sensor.c      **** 	m_cutOffTime = (motorConfig.assistCutOutDistance*3600)/motorConfig.maximumSpeed; // 3600km/h = 1m/
  36              		.loc 1 516 2 view .LVU3
  37              		.loc 1 516 50 is_stmt 0 view .LVU4
  38 0000 4FF46161 		mov	r1, #3600
  39              	.LBE8:
  40              	.LBE7:
 100:Sensor.c      **** 	sensor_updateCutOffTime();
  41              		.loc 1 100 1 view .LVU5
  42 0004 38B5     		push	{r3, r4, r5, lr}
  43              	.LCFI0:
  44              		.cfi_def_cfa_offset 16
  45              		.cfi_offset 3, -16
  46              		.cfi_offset 4, -12
  47              		.cfi_offset 5, -8
  48              		.cfi_offset 14, -4
  49              	.LBB11:
  50              	.LBB9:
  51              		.loc 1 516 29 view .LVU6
  52 0006 1B4C     		ldr	r4, .L11
  53 0008 6389     		ldrh	r3, [r4, #10]
  54              		.loc 1 516 68 view .LVU7
  55 000a E28E     		ldrh	r2, [r4, #54]
  56              		.loc 1 516 50 view .LVU8
  57 000c 01FB03F3 		mul	r3, r1, r3
  58              		.loc 1 516 56 view .LVU9
  59 0010 B3FBF2F3 		udiv	r3, r3, r2
 517:Sensor.c      **** 	if(m_cutOffTime > 100) //delay compensation of the pedal velocity filter
  60              		.loc 1 517 2 is_stmt 1 view .LVU10
 518:Sensor.c      **** 	{
 519:Sensor.c      **** 		m_cutOffTime -= 100;
  61              		.loc 1 519 16 is_stmt 0 view .LVU11
  62 0014 184A     		ldr	r2, .L11+4
 517:Sensor.c      **** 	if(m_cutOffTime > 100) //delay compensation of the pedal velocity filter
  63              		.loc 1 517 4 view .LVU12
  64 0016 642B     		cmp	r3, #100
  65              		.loc 1 519 3 is_stmt 1 view .LVU13
  66              	.LBE9:
  67              	.LBE11:
 102:Sensor.c      **** 
  68              		.loc 1 102 2 view .LVU14
  69              	.LBB12:
  70              	.LBB10:
  71              		.loc 1 519 16 is_stmt 0 view .LVU15
  72 0018 C8BF     		it	gt
  73 001a 643B     		subgt	r3, r3, #100
  74 001c 1360     		str	r3, [r2]
  75              	.LBE10:
  76              	.LBE12:
 102:Sensor.c      **** 
  77              		.loc 1 102 2 view .LVU16
  78 001e FFF7FEFF 		bl	button_updateBatteryStatusFactor
  79              	.LVL0:
 104:Sensor.c      **** 	for (int i = 0; i < motorConfig.pedalPulsesPerRotation; i++)
  80              		.loc 1 104 2 is_stmt 1 view .LVU17
 104:Sensor.c      **** 	for (int i = 0; i < motorConfig.pedalPulsesPerRotation; i++)
  81              		.loc 1 104 23 is_stmt 0 view .LVU18
  82 0022 FFF7FEFF 		bl	tmcm_getADCTorqueValue
  83              	.LVL1:
  84              	.LBB13:
 105:Sensor.c      **** 	{
  85              		.loc 1 105 33 view .LVU19
  86 0026 2488     		ldrh	r4, [r4]
  87              	.LVL2:
 105:Sensor.c      **** 	{
  88              		.loc 1 105 33 view .LVU20
  89              	.LBE13:
 105:Sensor.c      **** 	{
  90              		.loc 1 105 2 is_stmt 1 view .LVU21
  91              	.LBB14:
 105:Sensor.c      **** 	{
  92              		.loc 1 105 7 view .LVU22
 105:Sensor.c      **** 	{
  93              		.loc 1 105 18 view .LVU23
 105:Sensor.c      **** 	{
  94              		.loc 1 105 2 is_stmt 0 view .LVU24
  95 0028 14B3     		cbz	r4, .L7
  96 002a 144B     		ldr	r3, .L11+8
 107:Sensor.c      **** 		minPedalData[i] = ADCTorqueValue;
  97              		.loc 1 107 19 view .LVU25
  98 002c 80B2     		uxth	r0, r0
  99              	.LVL3:
 107:Sensor.c      **** 		minPedalData[i] = ADCTorqueValue;
 100              		.loc 1 107 19 view .LVU26
 101 002e 03F14001 		add	r1, r3, #64
 102 0032 6500     		lsls	r5, r4, #1
 103 0034 03EB440C 		add	ip, r3, r4, lsl #1
 104              	.LVL4:
 105              	.L5:
 107:Sensor.c      **** 		minPedalData[i] = ADCTorqueValue;
 106              		.loc 1 107 3 is_stmt 1 view .LVU27
 107:Sensor.c      **** 		minPedalData[i] = ADCTorqueValue;
 107              		.loc 1 107 19 is_stmt 0 view .LVU28
 108 0038 23F8020B 		strh	r0, [r3], #2	@ movhi
 108:Sensor.c      **** 
 109              		.loc 1 108 3 is_stmt 1 view .LVU29
 105:Sensor.c      **** 	{
 110              		.loc 1 105 2 is_stmt 0 view .LVU30
 111 003c 9C45     		cmp	ip, r3
 108:Sensor.c      **** 
 112              		.loc 1 108 19 view .LVU31
 113 003e 21F8020B 		strh	r0, [r1], #2	@ movhi
 110:Sensor.c      **** 		m_rightPedalTorqueRaw[i] = 0;
 114              		.loc 1 110 3 is_stmt 1 view .LVU32
 111:Sensor.c      **** 		m_minEstimatedPedalTorque[i] = 0;
 115              		.loc 1 111 3 view .LVU33
 112:Sensor.c      **** 		m_pedalTorqueAverage[i] = 0;
 116              		.loc 1 112 3 view .LVU34
 113:Sensor.c      **** 	}
 117              		.loc 1 113 3 view .LVU35
 105:Sensor.c      **** 	{
 118              		.loc 1 105 58 view .LVU36
 105:Sensor.c      **** 	{
 119              		.loc 1 105 18 view .LVU37
 105:Sensor.c      **** 	{
 120              		.loc 1 105 2 is_stmt 0 view .LVU38
 121 0042 F9D1     		bne	.L5
 113:Sensor.c      **** 	}
 122              		.loc 1 113 27 view .LVU39
 123 0044 2A46     		mov	r2, r5
 124 0046 0021     		movs	r1, #0
 125 0048 0D48     		ldr	r0, .L11+12
 126 004a FFF7FEFF 		bl	memset
 127              	.LVL5:
 110:Sensor.c      **** 		m_rightPedalTorqueRaw[i] = 0;
 128              		.loc 1 110 27 view .LVU40
 129 004e 2A46     		mov	r2, r5
 130 0050 0021     		movs	r1, #0
 131 0052 0C48     		ldr	r0, .L11+16
 132 0054 FFF7FEFF 		bl	memset
 133              	.LVL6:
 111:Sensor.c      **** 		m_minEstimatedPedalTorque[i] = 0;
 134              		.loc 1 111 28 view .LVU41
 135 0058 2A46     		mov	r2, r5
 136 005a 0021     		movs	r1, #0
 137 005c 0A48     		ldr	r0, .L11+20
 138 005e FFF7FEFF 		bl	memset
 139              	.LVL7:
 112:Sensor.c      **** 		m_pedalTorqueAverage[i] = 0;
 140              		.loc 1 112 32 view .LVU42
 141 0062 2A46     		mov	r2, r5
 142              	.LBE14:
 115:Sensor.c      **** 
 143              		.loc 1 115 1 view .LVU43
 144 0064 BDE83840 		pop	{r3, r4, r5, lr}
 145              	.LCFI1:
 146              		.cfi_remember_state
 147              		.cfi_restore 14
 148              		.cfi_restore 5
 149              		.cfi_restore 4
 150              		.cfi_restore 3
 151              		.cfi_def_cfa_offset 0
 152              	.LBB15:
 112:Sensor.c      **** 		m_pedalTorqueAverage[i] = 0;
 153              		.loc 1 112 32 view .LVU44
 154 0068 0021     		movs	r1, #0
 155 006a 0848     		ldr	r0, .L11+24
 156 006c FFF7FEBF 		b	memset
 157              	.LVL8:
 158              	.L7:
 159              	.LCFI2:
 160              		.cfi_restore_state
 112:Sensor.c      **** 		m_pedalTorqueAverage[i] = 0;
 161              		.loc 1 112 32 view .LVU45
 162              	.LBE15:
 115:Sensor.c      **** 
 163              		.loc 1 115 1 view .LVU46
 164 0070 38BD     		pop	{r3, r4, r5, pc}
 165              	.L12:
 166 0072 00BF     		.align	2
 167              	.L11:
 168 0074 00000000 		.word	motorConfig
 169 0078 00000000 		.word	.LANCHOR0
 170 007c 04000000 		.word	.LANCHOR0+4
 171 0080 84000000 		.word	.LANCHOR0+132
 172 0084 C4000000 		.word	.LANCHOR0+196
 173 0088 04010000 		.word	.LANCHOR0+260
 174 008c 44010000 		.word	.LANCHOR0+324
 175              		.cfi_endproc
 176              	.LFE0:
 178              		.align	1
 179              		.p2align 2,,3
 180              		.global	sensor_updatePedalTorque
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 185              	sensor_updatePedalTorque:
 186              	.LFB1:
 120:Sensor.c      **** 	filteredActualPedalTorque = tmc_filterPT1(&akkuActualPedalTorque, tmcm_getADCTorqueValue(), filter
 187              		.loc 1 120 1 is_stmt 1 view -0
 188              		.cfi_startproc
 189              		@ args = 0, pretend = 0, frame = 0
 190              		@ frame_needed = 0, uses_anonymous_args = 0
 121:Sensor.c      **** }
 191              		.loc 1 121 2 view .LVU48
 120:Sensor.c      **** 	filteredActualPedalTorque = tmc_filterPT1(&akkuActualPedalTorque, tmcm_getADCTorqueValue(), filter
 192              		.loc 1 120 1 is_stmt 0 view .LVU49
 193 0090 30B5     		push	{r4, r5, lr}
 194              	.LCFI3:
 195              		.cfi_def_cfa_offset 12
 196              		.cfi_offset 4, -12
 197              		.cfi_offset 5, -8
 198              		.cfi_offset 14, -4
 199 0092 83B0     		sub	sp, sp, #12
 200              	.LCFI4:
 201              		.cfi_def_cfa_offset 24
 121:Sensor.c      **** }
 202              		.loc 1 121 68 view .LVU50
 203 0094 FFF7FEFF 		bl	tmcm_getADCTorqueValue
 204              	.LVL9:
 121:Sensor.c      **** }
 205              		.loc 1 121 30 view .LVU51
 206 0098 1025     		movs	r5, #16
 207 009a 074C     		ldr	r4, .L15
 208 009c 074B     		ldr	r3, .L15+4
 121:Sensor.c      **** }
 209              		.loc 1 121 68 view .LVU52
 210 009e 0146     		mov	r1, r0
 121:Sensor.c      **** }
 211              		.loc 1 121 30 view .LVU53
 212 00a0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 213 00a2 D4F88421 		ldr	r2, [r4, #388]
 214 00a6 04F5C470 		add	r0, r4, #392
 215 00aa 0095     		str	r5, [sp]
 216 00ac FFF7FEFF 		bl	tmc_filterPT1
 217              	.LVL10:
 121:Sensor.c      **** }
 218              		.loc 1 121 28 view .LVU54
 219 00b0 C4F88401 		str	r0, [r4, #388]
 122:Sensor.c      **** 
 220              		.loc 1 122 1 view .LVU55
 221 00b4 03B0     		add	sp, sp, #12
 222              	.LCFI5:
 223              		.cfi_def_cfa_offset 12
 224              		@ sp needed
 225 00b6 30BD     		pop	{r4, r5, pc}
 226              	.L16:
 227              		.align	2
 228              	.L15:
 229 00b8 00000000 		.word	.LANCHOR0
 230 00bc 00000000 		.word	.LANCHOR1
 231              		.cfi_endproc
 232              	.LFE1:
 234              		.align	1
 235              		.p2align 2,,3
 236              		.global	sensor_actualPedalTorque
 237              		.syntax unified
 238              		.thumb
 239              		.thumb_func
 241              	sensor_actualPedalTorque:
 242              	.LFB2:
 125:Sensor.c      **** 	return filteredActualPedalTorque;
 243              		.loc 1 125 1 is_stmt 1 view -0
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 0
 246              		@ frame_needed = 0, uses_anonymous_args = 0
 247              		@ link register save eliminated.
 126:Sensor.c      **** }
 248              		.loc 1 126 2 view .LVU57
 126:Sensor.c      **** }
 249              		.loc 1 126 9 is_stmt 0 view .LVU58
 250 00c0 014B     		ldr	r3, .L18
 127:Sensor.c      **** 
 251              		.loc 1 127 1 view .LVU59
 252 00c2 D3F88401 		ldr	r0, [r3, #388]
 253 00c6 7047     		bx	lr
 254              	.L19:
 255              		.align	2
 256              	.L18:
 257 00c8 00000000 		.word	.LANCHOR0
 258              		.cfi_endproc
 259              	.LFE2:
 261              		.align	1
 262              		.p2align 2,,3
 263              		.global	sensor_getFltActualTorque
 264              		.syntax unified
 265              		.thumb
 266              		.thumb_func
 268              	sensor_getFltActualTorque:
 269              	.LFB3:
 130:Sensor.c      **** 	return fltActualTorque;
 270              		.loc 1 130 1 is_stmt 1 view -0
 271              		.cfi_startproc
 272              		@ args = 0, pretend = 0, frame = 0
 273              		@ frame_needed = 0, uses_anonymous_args = 0
 274              		@ link register save eliminated.
 131:Sensor.c      **** }
 275              		.loc 1 131 2 view .LVU61
 131:Sensor.c      **** }
 276              		.loc 1 131 9 is_stmt 0 view .LVU62
 277 00cc 014B     		ldr	r3, .L21
 132:Sensor.c      **** 
 278              		.loc 1 132 1 view .LVU63
 279 00ce 1868     		ldr	r0, [r3]
 280 00d0 7047     		bx	lr
 281              	.L22:
 282 00d2 00BF     		.align	2
 283              	.L21:
 284 00d4 00000000 		.word	.LANCHOR1
 285              		.cfi_endproc
 286              	.LFE3:
 288              		.align	1
 289              		.p2align 2,,3
 290              		.global	sensor_setFltActualTorque
 291              		.syntax unified
 292              		.thumb
 293              		.thumb_func
 295              	sensor_setFltActualTorque:
 296              	.LVL11:
 297              	.LFB4:
 135:Sensor.c      **** 	fltActualTorque = flt;
 298              		.loc 1 135 1 is_stmt 1 view -0
 299              		.cfi_startproc
 300              		@ args = 0, pretend = 0, frame = 0
 301              		@ frame_needed = 0, uses_anonymous_args = 0
 302              		@ link register save eliminated.
 136:Sensor.c      **** }
 303              		.loc 1 136 2 view .LVU65
 136:Sensor.c      **** }
 304              		.loc 1 136 18 is_stmt 0 view .LVU66
 305 00d8 014B     		ldr	r3, .L24
 306 00da 1860     		str	r0, [r3]
 137:Sensor.c      **** 
 307              		.loc 1 137 1 view .LVU67
 308 00dc 7047     		bx	lr
 309              	.L25:
 310 00de 00BF     		.align	2
 311              	.L24:
 312 00e0 00000000 		.word	.LANCHOR1
 313              		.cfi_endproc
 314              	.LFE4:
 316              		.global	__aeabi_i2f
 317              		.global	__aeabi_fcmpgt
 318              		.global	__aeabi_fsub
 319              		.global	__aeabi_fcmplt
 320              		.global	__aeabi_fadd
 321              		.align	1
 322              		.p2align 2,,3
 323              		.global	sensor_computePedalTorqMinMax
 324              		.syntax unified
 325              		.thumb
 326              		.thumb_func
 328              	sensor_computePedalTorqMinMax:
 329              	.LFB5:
 140:Sensor.c      **** 	int actualTorque = filteredActualPedalTorque;
 330              		.loc 1 140 1 is_stmt 1 view -0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 0
 333              		@ frame_needed = 0, uses_anonymous_args = 0
 141:Sensor.c      **** 
 334              		.loc 1 141 2 view .LVU69
 335              	.LVL12:
 143:Sensor.c      **** 		m_maxPedalTorque = actualTorque;
 336              		.loc 1 143 2 view .LVU70
 140:Sensor.c      **** 	int actualTorque = filteredActualPedalTorque;
 337              		.loc 1 140 1 is_stmt 0 view .LVU71
 338 00e4 70B5     		push	{r4, r5, r6, lr}
 339              	.LCFI6:
 340              		.cfi_def_cfa_offset 16
 341              		.cfi_offset 4, -16
 342              		.cfi_offset 5, -12
 343              		.cfi_offset 6, -8
 344              		.cfi_offset 14, -4
 141:Sensor.c      **** 
 345              		.loc 1 141 6 view .LVU72
 346 00e6 174C     		ldr	r4, .L33
 143:Sensor.c      **** 		m_maxPedalTorque = actualTorque;
 347              		.loc 1 143 19 view .LVU73
 348 00e8 D4F88401 		ldr	r0, [r4, #388]
 349 00ec FFF7FEFF 		bl	__aeabi_i2f
 350              	.LVL13:
 143:Sensor.c      **** 		m_maxPedalTorque = actualTorque;
 351              		.loc 1 143 19 view .LVU74
 352 00f0 D4F89061 		ldr	r6, [r4, #400]	@ float
 353 00f4 0546     		mov	r5, r0
 143:Sensor.c      **** 		m_maxPedalTorque = actualTorque;
 354              		.loc 1 143 5 view .LVU75
 355 00f6 3146     		mov	r1, r6
 356 00f8 FFF7FEFF 		bl	__aeabi_fcmpgt
 357              	.LVL14:
 358 00fc F0B9     		cbnz	r0, .L30
 146:Sensor.c      **** 
 359              		.loc 1 146 3 is_stmt 1 view .LVU76
 146:Sensor.c      **** 
 360              		.loc 1 146 20 is_stmt 0 view .LVU77
 361 00fe 124B     		ldr	r3, .L33+4
 362 0100 3046     		mov	r0, r6
 363 0102 5968     		ldr	r1, [r3, #4]	@ float
 364 0104 FFF7FEFF 		bl	__aeabi_fsub
 365              	.LVL15:
 366              	.L27:
 148:Sensor.c      **** 		m_minPedalTorque = actualTorque;
 367              		.loc 1 148 19 view .LVU78
 368 0108 D4F89461 		ldr	r6, [r4, #404]	@ float
 369 010c C4F89001 		str	r0, [r4, #400]	@ float
 148:Sensor.c      **** 		m_minPedalTorque = actualTorque;
 370              		.loc 1 148 2 is_stmt 1 view .LVU79
 148:Sensor.c      **** 		m_minPedalTorque = actualTorque;
 371              		.loc 1 148 5 is_stmt 0 view .LVU80
 372 0110 3146     		mov	r1, r6
 373 0112 2846     		mov	r0, r5
 374 0114 FFF7FEFF 		bl	__aeabi_fcmplt
 375              	.LVL16:
 376 0118 90B9     		cbnz	r0, .L31
 151:Sensor.c      **** 
 377              		.loc 1 151 3 is_stmt 1 view .LVU81
 151:Sensor.c      **** 
 378              		.loc 1 151 20 is_stmt 0 view .LVU82
 379 011a 0B4B     		ldr	r3, .L33+4
 380 011c 3046     		mov	r0, r6
 381 011e 5968     		ldr	r1, [r3, #4]	@ float
 382 0120 FFF7FEFF 		bl	__aeabi_fadd
 383              	.LVL17:
 384              	.L28:
 153:Sensor.c      **** 	{
 385              		.loc 1 153 37 view .LVU83
 386 0124 D4F89831 		ldr	r3, [r4, #408]
 387 0128 C4F89401 		str	r0, [r4, #404]	@ float
 153:Sensor.c      **** 	{
 388              		.loc 1 153 2 is_stmt 1 view .LVU84
 153:Sensor.c      **** 	{
 389              		.loc 1 153 37 is_stmt 0 view .LVU85
 390 012c 0133     		adds	r3, r3, #1
 153:Sensor.c      **** 	{
 391              		.loc 1 153 5 view .LVU86
 392 012e 022B     		cmp	r3, #2
 155:Sensor.c      **** 		m_minPedalTorque = actualTorque;
 393              		.loc 1 155 3 is_stmt 1 view .LVU87
 155:Sensor.c      **** 		m_minPedalTorque = actualTorque;
 394              		.loc 1 155 20 is_stmt 0 view .LVU88
 395 0130 9CBF     		itt	ls
 396 0132 C4F89051 		strls	r5, [r4, #400]	@ float
 156:Sensor.c      **** 	}
 397              		.loc 1 156 3 is_stmt 1 view .LVU89
 156:Sensor.c      **** 	}
 398              		.loc 1 156 20 is_stmt 0 view .LVU90
 399 0136 C4F89451 		strls	r5, [r4, #404]	@ float
 158:Sensor.c      **** 
 400              		.loc 1 158 1 view .LVU91
 401 013a 70BD     		pop	{r4, r5, r6, pc}
 402              	.L30:
 144:Sensor.c      **** 	else
 403              		.loc 1 144 20 view .LVU92
 404 013c 2846     		mov	r0, r5
 405 013e E3E7     		b	.L27
 406              	.L31:
 149:Sensor.c      **** 	else
 407              		.loc 1 149 20 view .LVU93
 408 0140 2846     		mov	r0, r5
 409 0142 EFE7     		b	.L28
 410              	.L34:
 411              		.align	2
 412              	.L33:
 413 0144 00000000 		.word	.LANCHOR0
 414 0148 00000000 		.word	.LANCHOR1
 415              		.cfi_endproc
 416              	.LFE5:
 418              		.align	1
 419              		.p2align 2,,3
 420              		.global	sensor_pedalCounter
 421              		.syntax unified
 422              		.thumb
 423              		.thumb_func
 425              	sensor_pedalCounter:
 426              	.LFB7:
 316:Sensor.c      **** 	return m_pedalCounter;
 427              		.loc 1 316 1 is_stmt 1 view -0
 428              		.cfi_startproc
 429              		@ args = 0, pretend = 0, frame = 0
 430              		@ frame_needed = 0, uses_anonymous_args = 0
 431              		@ link register save eliminated.
 317:Sensor.c      **** }
 432              		.loc 1 317 2 view .LVU95
 317:Sensor.c      **** }
 433              		.loc 1 317 9 is_stmt 0 view .LVU96
 434 014c 014B     		ldr	r3, .L36
 318:Sensor.c      **** 
 435              		.loc 1 318 1 view .LVU97
 436 014e D3F89C01 		ldr	r0, [r3, #412]
 437 0152 7047     		bx	lr
 438              	.L37:
 439              		.align	2
 440              	.L36:
 441 0154 00000000 		.word	.LANCHOR0
 442              		.cfi_endproc
 443              	.LFE7:
 445              		.align	1
 446              		.p2align 2,,3
 447              		.global	sensor_pedalPosition
 448              		.syntax unified
 449              		.thumb
 450              		.thumb_func
 452              	sensor_pedalPosition:
 453              	.LFB8:
 321:Sensor.c      **** 	return m_pedalPosition;
 454              		.loc 1 321 1 is_stmt 1 view -0
 455              		.cfi_startproc
 456              		@ args = 0, pretend = 0, frame = 0
 457              		@ frame_needed = 0, uses_anonymous_args = 0
 458              		@ link register save eliminated.
 322:Sensor.c      **** }
 459              		.loc 1 322 2 view .LVU99
 322:Sensor.c      **** }
 460              		.loc 1 322 9 is_stmt 0 view .LVU100
 461 0158 014B     		ldr	r3, .L39
 323:Sensor.c      **** 
 462              		.loc 1 323 1 view .LVU101
 463 015a D3F8A001 		ldr	r0, [r3, #416]
 464 015e 7047     		bx	lr
 465              	.L40:
 466              		.align	2
 467              	.L39:
 468 0160 00000000 		.word	.LANCHOR0
 469              		.cfi_endproc
 470              	.LFE8:
 472              		.align	1
 473              		.p2align 2,,3
 474              		.global	sensor_updatePedalVelocity
 475              		.syntax unified
 476              		.thumb
 477              		.thumb_func
 479              	sensor_updatePedalVelocity:
 480              	.LFB9:
 326:Sensor.c      **** 	m_pedalCountsPer30MSecond = m_pedalCounter-pedalCounterLast;
 481              		.loc 1 326 1 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 327:Sensor.c      **** 	pedalCounterLast = m_pedalCounter;
 485              		.loc 1 327 2 view .LVU103
 326:Sensor.c      **** 	m_pedalCountsPer30MSecond = m_pedalCounter-pedalCounterLast;
 486              		.loc 1 326 1 is_stmt 0 view .LVU104
 487 0164 30B5     		push	{r4, r5, lr}
 488              	.LCFI7:
 489              		.cfi_def_cfa_offset 12
 490              		.cfi_offset 4, -12
 491              		.cfi_offset 5, -8
 492              		.cfi_offset 14, -4
 330:Sensor.c      **** 	m_filteredActualPedalVelocitySwift = tmc_filterPT1(&akkuActualPedalVelocitySwift, m_pedalVelocity,
 493              		.loc 1 330 46 view .LVU105
 494 0166 40F29A2E 		movw	lr, #666
 327:Sensor.c      **** 	pedalCounterLast = m_pedalCounter;
 495              		.loc 1 327 44 view .LVU106
 496 016a 164C     		ldr	r4, .L47
 330:Sensor.c      **** 	m_filteredActualPedalVelocitySwift = tmc_filterPT1(&akkuActualPedalVelocitySwift, m_pedalVelocity,
 497              		.loc 1 330 64 view .LVU107
 498 016c 164A     		ldr	r2, .L47+4
 327:Sensor.c      **** 	pedalCounterLast = m_pedalCounter;
 499              		.loc 1 327 44 view .LVU108
 500 016e D4F89C31 		ldr	r3, [r4, #412]
 501 0172 D4F8A411 		ldr	r1, [r4, #420]
 330:Sensor.c      **** 	m_filteredActualPedalVelocitySwift = tmc_filterPT1(&akkuActualPedalVelocitySwift, m_pedalVelocity,
 502              		.loc 1 330 64 view .LVU109
 503 0176 B2F800C0 		ldrh	ip, [r2]
 327:Sensor.c      **** 	pedalCounterLast = m_pedalCounter;
 504              		.loc 1 327 44 view .LVU110
 505 017a 591A     		subs	r1, r3, r1
 327:Sensor.c      **** 	pedalCounterLast = m_pedalCounter;
 506              		.loc 1 327 28 view .LVU111
 507 017c C4F89811 		str	r1, [r4, #408]
 328:Sensor.c      **** 
 508              		.loc 1 328 2 is_stmt 1 view .LVU112
 330:Sensor.c      **** 	m_filteredActualPedalVelocitySwift = tmc_filterPT1(&akkuActualPedalVelocitySwift, m_pedalVelocity,
 509              		.loc 1 330 46 is_stmt 0 view .LVU113
 510 0180 0EFB01F1 		mul	r1, lr, r1
 331:Sensor.c      **** 
 511              		.loc 1 331 39 view .LVU114
 512 0184 0125     		movs	r5, #1
 330:Sensor.c      **** 	m_filteredActualPedalVelocitySwift = tmc_filterPT1(&akkuActualPedalVelocitySwift, m_pedalVelocity,
 513              		.loc 1 330 51 view .LVU115
 514 0186 91FBFCF1 		sdiv	r1, r1, ip
 326:Sensor.c      **** 	m_pedalCountsPer30MSecond = m_pedalCounter-pedalCounterLast;
 515              		.loc 1 326 1 view .LVU116
 516 018a 83B0     		sub	sp, sp, #12
 517              	.LCFI8:
 518              		.cfi_def_cfa_offset 24
 328:Sensor.c      **** 
 519              		.loc 1 328 19 view .LVU117
 520 018c C4F8A431 		str	r3, [r4, #420]
 330:Sensor.c      **** 	m_filteredActualPedalVelocitySwift = tmc_filterPT1(&akkuActualPedalVelocitySwift, m_pedalVelocity,
 521              		.loc 1 330 2 is_stmt 1 view .LVU118
 331:Sensor.c      **** 
 522              		.loc 1 331 39 is_stmt 0 view .LVU119
 523 0190 D4F8AC21 		ldr	r2, [r4, #428]
 524 0194 2B46     		mov	r3, r5
 525 0196 04F5D870 		add	r0, r4, #432
 526 019a 0095     		str	r5, [sp]
 330:Sensor.c      **** 	m_filteredActualPedalVelocitySwift = tmc_filterPT1(&akkuActualPedalVelocitySwift, m_pedalVelocity,
 527              		.loc 1 330 18 view .LVU120
 528 019c C4F8A811 		str	r1, [r4, #424]
 331:Sensor.c      **** 
 529              		.loc 1 331 2 is_stmt 1 view .LVU121
 331:Sensor.c      **** 
 530              		.loc 1 331 39 is_stmt 0 view .LVU122
 531 01a0 FFF7FEFF 		bl	tmc_filterPT1
 532              	.LVL18:
 333:Sensor.c      **** 	{
 533              		.loc 1 333 32 view .LVU123
 534 01a4 D4F89831 		ldr	r3, [r4, #408]
 331:Sensor.c      **** 
 535              		.loc 1 331 37 view .LVU124
 536 01a8 C4F8AC01 		str	r0, [r4, #428]
 333:Sensor.c      **** 	{
 537              		.loc 1 333 2 is_stmt 1 view .LVU125
 333:Sensor.c      **** 	{
 538              		.loc 1 333 5 is_stmt 0 view .LVU126
 539 01ac 002B     		cmp	r3, #0
 540 01ae 03DD     		ble	.L42
 335:Sensor.c      **** 	}
 541              		.loc 1 335 3 is_stmt 1 view .LVU127
 335:Sensor.c      **** 	}
 542              		.loc 1 335 20 is_stmt 0 view .LVU128
 543 01b0 84F8B851 		strb	r5, [r4, #440]
 337:Sensor.c      **** 	{
 544              		.loc 1 337 2 is_stmt 1 view .LVU129
 341:Sensor.c      **** 	{
 545              		.loc 1 341 2 view .LVU130
 346:Sensor.c      **** 
 546              		.loc 1 346 1 is_stmt 0 view .LVU131
 547 01b4 03B0     		add	sp, sp, #12
 548              	.LCFI9:
 549              		.cfi_remember_state
 550              		.cfi_def_cfa_offset 12
 551              		@ sp needed
 552 01b6 30BD     		pop	{r4, r5, pc}
 553              	.L42:
 554              	.LCFI10:
 555              		.cfi_restore_state
 337:Sensor.c      **** 	{
 556              		.loc 1 337 2 is_stmt 1 view .LVU132
 339:Sensor.c      **** 	}
 557              		.loc 1 339 3 view .LVU133
 341:Sensor.c      **** 	{
 558              		.loc 1 341 2 view .LVU134
 343:Sensor.c      **** 	}
 559              		.loc 1 343 3 view .LVU135
 343:Sensor.c      **** 	}
 560              		.loc 1 343 20 is_stmt 0 view .LVU136
 561 01b8 18BF     		it	ne
 562 01ba FF23     		movne	r3, #255
 563 01bc 84F8B831 		strb	r3, [r4, #440]
 346:Sensor.c      **** 
 564              		.loc 1 346 1 view .LVU137
 565 01c0 03B0     		add	sp, sp, #12
 566              	.LCFI11:
 567              		.cfi_def_cfa_offset 12
 568              		@ sp needed
 569 01c2 30BD     		pop	{r4, r5, pc}
 570              	.L48:
 571              		.align	2
 572              	.L47:
 573 01c4 00000000 		.word	.LANCHOR0
 574 01c8 00000000 		.word	motorConfig
 575              		.cfi_endproc
 576              	.LFE9:
 578              		.align	1
 579              		.p2align 2,,3
 580              		.global	sensor_pedalCounterPer500MSeconds
 581              		.syntax unified
 582              		.thumb
 583              		.thumb_func
 585              	sensor_pedalCounterPer500MSeconds:
 586              	.LFB10:
 349:Sensor.c      **** 	return m_pedalCountsPer30MSecond;
 587              		.loc 1 349 1 is_stmt 1 view -0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 0
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 591              		@ link register save eliminated.
 350:Sensor.c      **** }
 592              		.loc 1 350 2 view .LVU139
 350:Sensor.c      **** }
 593              		.loc 1 350 9 is_stmt 0 view .LVU140
 594 01cc 014B     		ldr	r3, .L50
 351:Sensor.c      **** 
 595              		.loc 1 351 1 view .LVU141
 596 01ce D3F89801 		ldr	r0, [r3, #408]
 597 01d2 7047     		bx	lr
 598              	.L51:
 599              		.align	2
 600              	.L50:
 601 01d4 00000000 		.word	.LANCHOR0
 602              		.cfi_endproc
 603              	.LFE10:
 605              		.align	1
 606              		.p2align 2,,3
 607              		.global	sensor_updateMotorVelocity
 608              		.syntax unified
 609              		.thumb
 610              		.thumb_func
 612              	sensor_updateMotorVelocity:
 613              	.LFB11:
 354:Sensor.c      **** 	s32 actualMotorVelocity = tmc4671_readInt(0, TMC4671_PID_VELOCITY_ACTUAL);
 614              		.loc 1 354 1 is_stmt 1 view -0
 615              		.cfi_startproc
 616              		@ args = 0, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 355:Sensor.c      **** 	if(actualMotorVelocity <= 0)
 618              		.loc 1 355 2 view .LVU143
 354:Sensor.c      **** 	s32 actualMotorVelocity = tmc4671_readInt(0, TMC4671_PID_VELOCITY_ACTUAL);
 619              		.loc 1 354 1 is_stmt 0 view .LVU144
 620 01d8 70B5     		push	{r4, r5, r6, lr}
 621              	.LCFI12:
 622              		.cfi_def_cfa_offset 16
 623              		.cfi_offset 4, -16
 624              		.cfi_offset 5, -12
 625              		.cfi_offset 6, -8
 626              		.cfi_offset 14, -4
 355:Sensor.c      **** 	if(actualMotorVelocity <= 0)
 627              		.loc 1 355 28 view .LVU145
 628 01da 6A21     		movs	r1, #106
 354:Sensor.c      **** 	s32 actualMotorVelocity = tmc4671_readInt(0, TMC4671_PID_VELOCITY_ACTUAL);
 629              		.loc 1 354 1 view .LVU146
 630 01dc 82B0     		sub	sp, sp, #8
 631              	.LCFI13:
 632              		.cfi_def_cfa_offset 24
 355:Sensor.c      **** 	if(actualMotorVelocity <= 0)
 633              		.loc 1 355 28 view .LVU147
 634 01de 0020     		movs	r0, #0
 635 01e0 FFF7FEFF 		bl	tmc4671_readInt
 636              	.LVL19:
 637 01e4 0546     		mov	r5, r0
 638              	.LVL20:
 356:Sensor.c      **** 	{
 639              		.loc 1 356 2 is_stmt 1 view .LVU148
 360:Sensor.c      **** 
 640              		.loc 1 360 20 is_stmt 0 view .LVU149
 641 01e6 0426     		movs	r6, #4
 642 01e8 164C     		ldr	r4, .L54
 643 01ea 25EAE575 		bic	r5, r5, r5, asr #31
 644              	.LVL21:
 360:Sensor.c      **** 
 645              		.loc 1 360 2 is_stmt 1 view .LVU150
 360:Sensor.c      **** 
 646              		.loc 1 360 20 is_stmt 0 view .LVU151
 647 01ee 2946     		mov	r1, r5
 648 01f0 D4F8BC21 		ldr	r2, [r4, #444]
 649 01f4 0223     		movs	r3, #2
 650 01f6 04F5E070 		add	r0, r4, #448
 651 01fa 0096     		str	r6, [sp]
 652 01fc FFF7FEFF 		bl	tmc_filterPT1
 653              	.LVL22:
 362:Sensor.c      **** 
 654              		.loc 1 362 63 view .LVU152
 655 0200 114A     		ldr	r2, .L54+4
 360:Sensor.c      **** 
 656              		.loc 1 360 18 view .LVU153
 657 0202 C4F8BC01 		str	r0, [r4, #444]
 362:Sensor.c      **** 
 658              		.loc 1 362 2 is_stmt 1 view .LVU154
 362:Sensor.c      **** 
 659              		.loc 1 362 63 is_stmt 0 view .LVU155
 660 0206 D38F     		ldrh	r3, [r2, #62]
 362:Sensor.c      **** 
 661              		.loc 1 362 94 view .LVU156
 662 0208 92F83D20 		ldrb	r2, [r2, #61]	@ zero_extendqisi2
 362:Sensor.c      **** 
 663              		.loc 1 362 51 view .LVU157
 664 020c 05FB03F1 		mul	r1, r5, r3
 362:Sensor.c      **** 
 665              		.loc 1 362 77 view .LVU158
 666 0210 01EB4103 		add	r3, r1, r1, lsl #1
 667 0214 C1EB0311 		rsb	r1, r1, r3, lsl #4
 362:Sensor.c      **** 
 668              		.loc 1 362 104 view .LVU159
 669 0218 46F2A813 		movw	r3, #25000
 670 021c 03FB02F2 		mul	r2, r3, r2
 364:Sensor.c      **** }
 671              		.loc 1 364 25 view .LVU160
 672 0220 1025     		movs	r5, #16
 673              	.LVL23:
 362:Sensor.c      **** 
 674              		.loc 1 362 81 view .LVU161
 675 0222 B1FBF2F1 		udiv	r1, r1, r2
 364:Sensor.c      **** }
 676              		.loc 1 364 25 view .LVU162
 677 0226 0923     		movs	r3, #9
 678 0228 D4F8CC21 		ldr	r2, [r4, #460]
 679 022c 0095     		str	r5, [sp]
 680 022e 04F5E870 		add	r0, r4, #464
 362:Sensor.c      **** 
 681              		.loc 1 362 29 view .LVU163
 682 0232 C4F8C811 		str	r1, [r4, #456]
 364:Sensor.c      **** }
 683              		.loc 1 364 2 is_stmt 1 view .LVU164
 364:Sensor.c      **** }
 684              		.loc 1 364 25 is_stmt 0 view .LVU165
 685 0236 FFF7FEFF 		bl	tmc_filterPT1
 686              	.LVL24:
 364:Sensor.c      **** }
 687              		.loc 1 364 23 view .LVU166
 688 023a C4F8CC01 		str	r0, [r4, #460]
 365:Sensor.c      **** 
 689              		.loc 1 365 1 view .LVU167
 690 023e 02B0     		add	sp, sp, #8
 691              	.LCFI14:
 692              		.cfi_def_cfa_offset 16
 693              		@ sp needed
 694 0240 70BD     		pop	{r4, r5, r6, pc}
 695              	.L55:
 696 0242 00BF     		.align	2
 697              	.L54:
 698 0244 00000000 		.word	.LANCHOR0
 699 0248 00000000 		.word	motorConfig
 700              		.cfi_endproc
 701              	.LFE11:
 703              		.align	1
 704              		.p2align 2,,3
 705              		.global	sensor_updateWheelCounter
 706              		.syntax unified
 707              		.thumb
 708              		.thumb_func
 710              	sensor_updateWheelCounter:
 711              	.LFB12:
 368:Sensor.c      **** 	u8 m_wheelCounterActual = tmcm_getSpeedValue();
 712              		.loc 1 368 1 is_stmt 1 view -0
 713              		.cfi_startproc
 714              		@ args = 0, pretend = 0, frame = 0
 715              		@ frame_needed = 0, uses_anonymous_args = 0
 369:Sensor.c      **** 	m_wheelDirectionCounter = wheelSensorDiff(m_wheelCounterPrev, m_wheelCounterActual);
 716              		.loc 1 369 2 view .LVU169
 368:Sensor.c      **** 	u8 m_wheelCounterActual = tmcm_getSpeedValue();
 717              		.loc 1 368 1 is_stmt 0 view .LVU170
 718 024c 08B5     		push	{r3, lr}
 719              	.LCFI15:
 720              		.cfi_def_cfa_offset 8
 721              		.cfi_offset 3, -8
 722              		.cfi_offset 14, -4
 369:Sensor.c      **** 	m_wheelDirectionCounter = wheelSensorDiff(m_wheelCounterPrev, m_wheelCounterActual);
 723              		.loc 1 369 28 view .LVU171
 724 024e FFF7FEFF 		bl	tmcm_getSpeedValue
 725              	.LVL25:
 370:Sensor.c      **** 	m_wheelCounterPrev = m_wheelCounterActual;
 726              		.loc 1 370 28 view .LVU172
 727 0252 074B     		ldr	r3, .L60
 728              	.LBB16:
 729              	.LBB17:
 520:Sensor.c      **** 	}
 521:Sensor.c      **** }
 522:Sensor.c      **** 
 523:Sensor.c      **** s32 sensor_cutOffDistance(s32 m_rampTargetTorque)
 524:Sensor.c      **** {
 525:Sensor.c      **** 	if(targetPedalTorque <= 0)
 526:Sensor.c      **** 	{
 527:Sensor.c      **** 		cutOffTimer++;
 528:Sensor.c      **** 		if(cutOffTimer >= m_cutOffTime )
 529:Sensor.c      **** 		{
 530:Sensor.c      **** 			m_rampTargetTorque = 0;
 531:Sensor.c      **** 		}
 532:Sensor.c      **** 	}
 533:Sensor.c      **** 	else
 534:Sensor.c      **** 	{
 535:Sensor.c      **** 		cutOffTimer = 0;
 536:Sensor.c      **** 	}
 537:Sensor.c      **** 	return m_rampTargetTorque;
 538:Sensor.c      **** }
 539:Sensor.c      **** 
 540:Sensor.c      **** void sensor_brakeDetection()
 541:Sensor.c      **** {
 542:Sensor.c      **** 	if (m_wheelVelocity <= m_wheelVelocityLast)
 543:Sensor.c      **** 	{
 544:Sensor.c      **** 		m_brakeStartPoint = m_wheelVelocity;
 545:Sensor.c      **** 	}
 546:Sensor.c      **** 
 547:Sensor.c      **** 	out_Y = (s8)LIS2DH12_spi_readInt(LIS2DH12_OUT_Y_H);
 548:Sensor.c      **** 	out_Y *= 16;		// LIS2DH12 data sheet Table 4. Mechanical characteristics	-	Low-power mode & measur
 549:Sensor.c      **** 
 550:Sensor.c      **** 	if ((m_brakeStartPoint >= MIN_BRAKE_SPEED) && (m_wheelVelocityLast*9/10 >= m_wheelVelocity))
 551:Sensor.c      **** 	{
 552:Sensor.c      **** 		minGDetection += (out_Y >= MIN_G_FORCES) ? 1 : 0;
 553:Sensor.c      **** 		if(minGDetection > minGDetectionLast)
 554:Sensor.c      **** 		{
 555:Sensor.c      **** 			rear_led_setMode(REAR_LED_MODE_BLINK);
 556:Sensor.c      **** 			rear_led_setBlinkTime(300);
 557:Sensor.c      **** 		}
 558:Sensor.c      **** 		minGDetectionLast = minGDetection;
 559:Sensor.c      **** 	}
 560:Sensor.c      **** 	else if ((m_wheelVelocity <= 0) || (m_wheelVelocityLast < m_wheelVelocity))
 561:Sensor.c      **** 	{
 562:Sensor.c      **** 		rear_led_setMode(REAR_LED_MODE_ON);
 563:Sensor.c      **** 		minGDetection = 0;
 564:Sensor.c      **** 		minGDetectionLast = 0;
 565:Sensor.c      **** 	}
 566:Sensor.c      **** 
 567:Sensor.c      **** 	m_wheelVelocityLast = m_wheelVelocity;
 568:Sensor.c      **** 
 569:Sensor.c      **** //	debug_setTestVar9(out_Y);
 570:Sensor.c      **** //	debug_setTestVar0(minGDetection);
 571:Sensor.c      **** //	debug_setTestVar1(m_brakeStartPoint);
 572:Sensor.c      **** }
 573:Sensor.c      **** 
 574:Sensor.c      **** void sensor_updateActualTorqueLimit_Gain()
 575:Sensor.c      **** {
 576:Sensor.c      **** 	s32 m_rampTargetTorque = bldc_rampTargetTorque();
 577:Sensor.c      **** 	s32 m_actualMotorTorque = tmc4671_getActualTorqueFluxSum_mA(0, motorConfig.dualShuntFactor);
 578:Sensor.c      **** 
 579:Sensor.c      **** 	m_actualTorque = tmc_filterPT1(&akkuActualMotorTorque, m_actualMotorTorque, m_actualTorque, 6, 8);
 580:Sensor.c      **** 
 581:Sensor.c      **** 	if((m_actualMotorTorque >= m_rampTargetTorque)|| (m_actualMotorTorque >= (s32)motorConfig.maximumC
 582:Sensor.c      **** 	{
 583:Sensor.c      **** 		m_actualTorqueLimit = 1;
 584:Sensor.c      **** 	}
 585:Sensor.c      **** 	else
 586:Sensor.c      **** 	{
 587:Sensor.c      **** 		m_actualTorqueLimit = 0;
 588:Sensor.c      **** 	}
 589:Sensor.c      **** }
 590:Sensor.c      **** 
 591:Sensor.c      **** int32 sensor_actualMapSpeedTorque()
 592:Sensor.c      **** {
 593:Sensor.c      **** 	return m_mapSpeedTorque;
 594:Sensor.c      **** }
 595:Sensor.c      **** 
 596:Sensor.c      **** int32 sensor_actualGain()
 597:Sensor.c      **** {
 598:Sensor.c      **** 	return m_actualGain;
 599:Sensor.c      **** }
 600:Sensor.c      **** 
 601:Sensor.c      **** int32 sensor_actualTorqueLimit()
 602:Sensor.c      **** {
 603:Sensor.c      **** 	return m_actualTorqueLimit;
 604:Sensor.c      **** }
 605:Sensor.c      **** 
 606:Sensor.c      **** int32 sensor_leftPedalTorque()
 607:Sensor.c      **** {
 608:Sensor.c      **** 	return m_leftPedalTorque;
 609:Sensor.c      **** }
 610:Sensor.c      **** 
 611:Sensor.c      **** int32 sensor_rightPedalTorque()
 612:Sensor.c      **** {
 613:Sensor.c      **** 	return m_rightPedalTorque;
 614:Sensor.c      **** }
 615:Sensor.c      **** 
 616:Sensor.c      **** int32 sensor_targetpedalTorque()
 617:Sensor.c      **** {
 618:Sensor.c      **** 	return sensor_motorAssistance();
 619:Sensor.c      **** }
 620:Sensor.c      **** 
 621:Sensor.c      **** int32 sensor_pedalVelocity()
 622:Sensor.c      **** {
 623:Sensor.c      **** 	return m_pedalVelocity;
 624:Sensor.c      **** }
 625:Sensor.c      **** 
 626:Sensor.c      **** int32 sensor_filteredPedalVelocity()
 627:Sensor.c      **** {
 628:Sensor.c      **** 	return m_filteredActualPedalVelocity;
 629:Sensor.c      **** }
 630:Sensor.c      **** 
 631:Sensor.c      **** int32 sensor_filteredPedalVelocityFast()
 632:Sensor.c      **** {
 633:Sensor.c      **** 	return m_filteredActualPedalVelocitySwift;
 634:Sensor.c      **** }
 635:Sensor.c      **** 
 636:Sensor.c      **** int8 sensor_pedalDirection()
 637:Sensor.c      **** {
 638:Sensor.c      **** 	return m_pedalDirection;
 639:Sensor.c      **** }
 640:Sensor.c      **** 
 641:Sensor.c      **** int8 sensor_pedalMotorEnable()
 642:Sensor.c      **** {
 643:Sensor.c      **** 	return m_pedalMotorEnable;
 644:Sensor.c      **** }
 645:Sensor.c      **** 
 646:Sensor.c      **** int32 sensor_averageTorque()
 647:Sensor.c      **** {
 648:Sensor.c      **** 	return m_averageTorque;
 649:Sensor.c      **** }
 650:Sensor.c      **** 
 651:Sensor.c      **** int32 sensor_motorVelocity()
 652:Sensor.c      **** {
 653:Sensor.c      **** 	return m_motorVelocity;
 654:Sensor.c      **** }
 655:Sensor.c      **** 
 656:Sensor.c      **** int32 sensor_wheelMotorVelocity()
 657:Sensor.c      **** {
 658:Sensor.c      **** 	return m_wheelMotorVelocity;
 659:Sensor.c      **** }
 660:Sensor.c      **** 
 661:Sensor.c      **** int32 sensor_wheelVelocity()
 662:Sensor.c      **** {
 663:Sensor.c      **** 	return m_wheelVelocity;
 664:Sensor.c      **** }
 665:Sensor.c      **** 
 666:Sensor.c      **** int wheelSensorDiff(u8 previousState, u8 actualState)
 667:Sensor.c      **** {
 668:Sensor.c      **** 	switch (previousState)
 730              		.loc 1 668 2 view .LVU173
 731 0254 93F8D821 		ldrb	r2, [r3, #472]	@ zero_extendqisi2
 732              	.LVL26:
 733              		.loc 1 668 2 view .LVU174
 734              	.LBE17:
 735              	.LBE16:
 370:Sensor.c      **** 	m_wheelCounterPrev = m_wheelCounterActual;
 736              		.loc 1 370 2 is_stmt 1 view .LVU175
 737              	.LBB21:
 738              	.LBI16:
 666:Sensor.c      **** {
 739              		.loc 1 666 5 view .LVU176
 740              	.LBB18:
 741              		.loc 1 668 2 view .LVU177
 669:Sensor.c      **** 	{
 670:Sensor.c      **** 		case 1:
 671:Sensor.c      **** 			return (actualState == 0) ? 1 : 0;
 742              		.loc 1 671 4 view .LVU178
 743              	.LBE18:
 744              	.LBE21:
 371:Sensor.c      **** //	debug_setTestVar7(m_wheelDirectionCounter);
 745              		.loc 1 371 21 is_stmt 0 view .LVU179
 746 0258 83F8D801 		strb	r0, [r3, #472]
 747              	.LBB22:
 748              	.LBB19:
 668:Sensor.c      **** 	{
 749              		.loc 1 668 2 view .LVU180
 750 025c 012A     		cmp	r2, #1
 751              	.LBE19:
 752              	.LBE22:
 370:Sensor.c      **** 	m_wheelCounterPrev = m_wheelCounterActual;
 753              		.loc 1 370 26 view .LVU181
 754 025e 0ABF     		itet	eq
 755 0260 B0FA80F2 		clzeq	r2, r0
 756              	.LBB23:
 757              	.LBB20:
 668:Sensor.c      **** 	{
 758              		.loc 1 668 2 view .LVU182
 759 0264 0022     		movne	r2, #0
 760              	.LVL27:
 668:Sensor.c      **** 	{
 761              		.loc 1 668 2 view .LVU183
 762              	.LBE20:
 763              	.LBE23:
 370:Sensor.c      **** 	m_wheelCounterPrev = m_wheelCounterActual;
 764              		.loc 1 370 26 view .LVU184
 765 0266 5209     		lsreq	r2, r2, #5
 766 0268 83F8D921 		strb	r2, [r3, #473]
 371:Sensor.c      **** //	debug_setTestVar7(m_wheelDirectionCounter);
 767              		.loc 1 371 2 is_stmt 1 view .LVU185
 373:Sensor.c      **** 
 768              		.loc 1 373 1 is_stmt 0 view .LVU186
 769 026c 08BD     		pop	{r3, pc}
 770              	.L61:
 771 026e 00BF     		.align	2
 772              	.L60:
 773 0270 00000000 		.word	.LANCHOR0
 774              		.cfi_endproc
 775              	.LFE12:
 777              		.align	1
 778              		.p2align 2,,3
 779              		.global	sensor_updateWheelVelocity
 780              		.syntax unified
 781              		.thumb
 782              		.thumb_func
 784              	sensor_updateWheelVelocity:
 785              	.LFB13:
 376:Sensor.c      **** 	if (m_wheelVelocityTimer < 2500)
 786              		.loc 1 376 1 is_stmt 1 view -0
 787              		.cfi_startproc
 788              		@ args = 0, pretend = 0, frame = 0
 789              		@ frame_needed = 0, uses_anonymous_args = 0
 790              		@ link register save eliminated.
 377:Sensor.c      **** 	{
 791              		.loc 1 377 2 view .LVU188
 377:Sensor.c      **** 	{
 792              		.loc 1 377 5 is_stmt 0 view .LVU189
 793 0274 40F6C312 		movw	r2, #2499
 377:Sensor.c      **** 	{
 794              		.loc 1 377 27 view .LVU190
 795 0278 164B     		ldr	r3, .L68
 796 027a D3F8DC01 		ldr	r0, [r3, #476]
 377:Sensor.c      **** 	{
 797              		.loc 1 377 5 view .LVU191
 798 027e 9042     		cmp	r0, r2
 799 0280 0EDC     		bgt	.L63
 379:Sensor.c      **** 	}
 800              		.loc 1 379 3 is_stmt 1 view .LVU192
 381:Sensor.c      **** 	{
 801              		.loc 1 381 5 is_stmt 0 view .LVU193
 802 0282 40F6C412 		movw	r2, #2500
 379:Sensor.c      **** 	}
 803              		.loc 1 379 23 view .LVU194
 804 0286 0130     		adds	r0, r0, #1
 381:Sensor.c      **** 	{
 805              		.loc 1 381 5 view .LVU195
 806 0288 9042     		cmp	r0, r2
 379:Sensor.c      **** 	}
 807              		.loc 1 379 23 view .LVU196
 808 028a C3F8DC01 		str	r0, [r3, #476]
 381:Sensor.c      **** 	{
 809              		.loc 1 381 2 is_stmt 1 view .LVU197
 381:Sensor.c      **** 	{
 810              		.loc 1 381 5 is_stmt 0 view .LVU198
 811 028e 07D0     		beq	.L63
 385:Sensor.c      **** 	{
 812              		.loc 1 385 2 is_stmt 1 view .LVU199
 385:Sensor.c      **** 	{
 813              		.loc 1 385 4 is_stmt 0 view .LVU200
 814 0290 93F8D921 		ldrb	r2, [r3, #473]	@ zero_extendqisi2
 815 0294 012A     		cmp	r2, #1
 816 0296 0AD0     		beq	.L65
 817              	.L67:
 392:Sensor.c      **** }
 818              		.loc 1 392 2 view .LVU201
 819 0298 D3F8E001 		ldr	r0, [r3, #480]
 392:Sensor.c      **** }
 820              		.loc 1 392 2 is_stmt 1 view .LVU202
 821 029c FFF7FEBF 		b	debug_setTestVar2
 822              	.LVL28:
 823              	.L63:
 383:Sensor.c      **** 	}
 824              		.loc 1 383 3 view .LVU203
 383:Sensor.c      **** 	}
 825              		.loc 1 383 19 is_stmt 0 view .LVU204
 826 02a0 0022     		movs	r2, #0
 827 02a2 C3F8E021 		str	r2, [r3, #480]
 385:Sensor.c      **** 	{
 828              		.loc 1 385 2 is_stmt 1 view .LVU205
 385:Sensor.c      **** 	{
 829              		.loc 1 385 4 is_stmt 0 view .LVU206
 830 02a6 93F8D921 		ldrb	r2, [r3, #473]	@ zero_extendqisi2
 831 02aa 012A     		cmp	r2, #1
 832 02ac F4D1     		bne	.L67
 833              	.L65:
 388:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 834              		.loc 1 388 3 is_stmt 1 view .LVU207
 388:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 835              		.loc 1 388 47 is_stmt 0 view .LVU208
 836 02ae 0A49     		ldr	r1, .L68+4
 388:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 837              		.loc 1 388 31 view .LVU209
 838 02b0 CA8F     		ldrh	r2, [r1, #62]
 388:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 839              		.loc 1 388 85 view .LVU210
 840 02b2 91F84010 		ldrb	r1, [r1, #64]	@ zero_extendqisi2
 388:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 841              		.loc 1 388 84 view .LVU211
 842 02b6 00FB01F1 		mul	r1, r0, r1
 388:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 843              		.loc 1 388 30 view .LVU212
 844 02ba C2EBC200 		rsb	r0, r2, r2, lsl #3
 845 02be 02EB0010 		add	r0, r2, r0, lsl #4
 388:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 846              		.loc 1 388 62 view .LVU213
 847 02c2 90FBF1F0 		sdiv	r0, r0, r1
 389:Sensor.c      **** 		m_wheelDirectionCounter = 0;
 848              		.loc 1 389 24 view .LVU214
 849 02c6 0022     		movs	r2, #0
 388:Sensor.c      **** 		m_wheelVelocityTimer = 0;
 850              		.loc 1 388 19 view .LVU215
 851 02c8 C3E97720 		strd	r2, r0, [r3, #476]
 389:Sensor.c      **** 		m_wheelDirectionCounter = 0;
 852              		.loc 1 389 3 is_stmt 1 view .LVU216
 390:Sensor.c      **** 	}
 853              		.loc 1 390 3 view .LVU217
 390:Sensor.c      **** 	}
 854              		.loc 1 390 27 is_stmt 0 view .LVU218
 855 02cc 83F8D921 		strb	r2, [r3, #473]
 392:Sensor.c      **** }
 856              		.loc 1 392 2 is_stmt 1 view .LVU219
 857 02d0 FFF7FEBF 		b	debug_setTestVar2
 858              	.LVL29:
 859              	.L69:
 860              		.align	2
 861              	.L68:
 862 02d4 00000000 		.word	.LANCHOR0
 863 02d8 00000000 		.word	motorConfig
 864              		.cfi_endproc
 865              	.LFE13:
 867              		.align	1
 868              		.p2align 2,,3
 869              		.global	sensor_mapSpeedTorque
 870              		.syntax unified
 871              		.thumb
 872              		.thumb_func
 874              	sensor_mapSpeedTorque:
 875              	.LFB14:
 396:Sensor.c      **** 	s32 m_torqueDiff = 0;
 876              		.loc 1 396 1 view -0
 877              		.cfi_startproc
 878              		@ args = 0, pretend = 0, frame = 0
 879              		@ frame_needed = 0, uses_anonymous_args = 0
 397:Sensor.c      **** 	s32 m_speedDiff = 0;
 880              		.loc 1 397 2 view .LVU221
 881              	.LVL30:
 398:Sensor.c      **** 	s32 m_speedWheelDiff = 0;
 882              		.loc 1 398 2 view .LVU222
 399:Sensor.c      **** 
 883              		.loc 1 399 2 view .LVU223
 401:Sensor.c      **** 	{
 884              		.loc 1 401 2 view .LVU224
 401:Sensor.c      **** 	{
 885              		.loc 1 401 16 is_stmt 0 view .LVU225
 886 02dc 954B     		ldr	r3, .L90
 401:Sensor.c      **** 	{
 887              		.loc 1 401 25 view .LVU226
 888 02de 9649     		ldr	r1, .L90+4
 401:Sensor.c      **** 	{
 889              		.loc 1 401 16 view .LVU227
 890 02e0 588B     		ldrh	r0, [r3, #26]
 401:Sensor.c      **** 	{
 891              		.loc 1 401 25 view .LVU228
 892 02e2 D1F8CC21 		ldr	r2, [r1, #460]
 396:Sensor.c      **** 	s32 m_torqueDiff = 0;
 893              		.loc 1 396 1 view .LVU229
 894 02e6 30B5     		push	{r4, r5, lr}
 895              	.LCFI16:
 896              		.cfi_def_cfa_offset 12
 897              		.cfi_offset 4, -12
 898              		.cfi_offset 5, -8
 899              		.cfi_offset 14, -4
 401:Sensor.c      **** 	{
 900              		.loc 1 401 4 view .LVU230
 901 02e8 9042     		cmp	r0, r2
 902 02ea C0F28680 		blt	.L71
 403:Sensor.c      **** 	}
 903              		.loc 1 403 3 is_stmt 1 view .LVU231
 403:Sensor.c      **** 	}
 904              		.loc 1 403 48 is_stmt 0 view .LVU232
 905 02ee 986B     		ldr	r0, [r3, #56]
 403:Sensor.c      **** 	}
 906              		.loc 1 403 60 view .LVU233
 907 02f0 93F82C40 		ldrb	r4, [r3, #44]	@ zero_extendqisi2
 414:Sensor.c      **** 	{
 908              		.loc 1 414 17 view .LVU234
 909 02f4 B3F81CC0 		ldrh	ip, [r3, #28]
 403:Sensor.c      **** 	}
 910              		.loc 1 403 48 view .LVU235
 911 02f8 00FB04F4 		mul	r4, r0, r4
 403:Sensor.c      **** 	}
 912              		.loc 1 403 69 view .LVU236
 913 02fc 8F48     		ldr	r0, .L90+8
 414:Sensor.c      **** 	{
 914              		.loc 1 414 4 view .LVU237
 915 02fe 6245     		cmp	r2, ip
 403:Sensor.c      **** 	}
 916              		.loc 1 403 69 view .LVU238
 917 0300 A0FB0404 		umull	r0, r4, r0, r4
 918 0304 4FEA5414 		lsr	r4, r4, #5
 403:Sensor.c      **** 	}
 919              		.loc 1 403 20 view .LVU239
 920 0308 C1F8E441 		str	r4, [r1, #484]
 406:Sensor.c      **** 	{
 921              		.loc 1 406 2 is_stmt 1 view .LVU240
 414:Sensor.c      **** 	{
 922              		.loc 1 414 2 view .LVU241
 414:Sensor.c      **** 	{
 923              		.loc 1 414 4 is_stmt 0 view .LVU242
 924 030c 79DC     		bgt	.L72
 414:Sensor.c      **** 	{
 925              		.loc 1 414 65 view .LVU243
 926 030e B3F81EE0 		ldrh	lr, [r3, #30]
 422:Sensor.c      **** 	{
 927              		.loc 1 422 2 is_stmt 1 view .LVU244
 422:Sensor.c      **** 	{
 928              		.loc 1 422 4 is_stmt 0 view .LVU245
 929 0312 7245     		cmp	r2, lr
 930 0314 40F39280 		ble	.L75
 931              	.LVL31:
 932              	.L74:
 422:Sensor.c      **** 	{
 933              		.loc 1 422 65 discriminator 1 view .LVU246
 934 0318 188C     		ldrh	r0, [r3, #32]
 422:Sensor.c      **** 	{
 935              		.loc 1 422 50 discriminator 1 view .LVU247
 936 031a 8242     		cmp	r2, r0
 937 031c 00F39180 		bgt	.L76
 424:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_3 - (s16)motorConfig.torque_2;
 938              		.loc 1 424 3 is_stmt 1 view .LVU248
 939              	.LVL32:
 425:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_3-(s32)motorConfig.speed_2;
 940              		.loc 1 425 3 view .LVU249
 426:Sensor.c      **** 
 941              		.loc 1 426 15 is_stmt 0 view .LVU250
 942 0320 A0EB0E04 		sub	r4, r0, lr
 425:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_3-(s32)motorConfig.speed_2;
 943              		.loc 1 425 46 view .LVU251
 944 0324 93F82EC0 		ldrb	ip, [r3, #46]	@ zero_extendqisi2
 945              	.LVL33:
 426:Sensor.c      **** 
 946              		.loc 1 426 3 is_stmt 1 view .LVU252
 428:Sensor.c      **** 	}
 947              		.loc 1 428 3 view .LVU253
 425:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_3-(s32)motorConfig.speed_2;
 948              		.loc 1 425 18 is_stmt 0 view .LVU254
 949 0328 93F82F00 		ldrb	r0, [r3, #47]	@ zero_extendqisi2
 950              	.LVL34:
 424:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_3 - (s16)motorConfig.torque_2;
 951              		.loc 1 424 20 view .LVU255
 952 032c A2EB0E0E 		sub	lr, r2, lr
 953              	.LVL35:
 425:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_3-(s32)motorConfig.speed_2;
 954              		.loc 1 425 16 view .LVU256
 955 0330 A0EB0C00 		sub	r0, r0, ip
 428:Sensor.c      **** 	}
 956              		.loc 1 428 97 view .LVU257
 957 0334 0EFB00F0 		mul	r0, lr, r0
 428:Sensor.c      **** 	}
 958              		.loc 1 428 115 view .LVU258
 959 0338 90FBF4F0 		sdiv	r0, r0, r4
 428:Sensor.c      **** 	}
 960              		.loc 1 428 53 view .LVU259
 961 033c 9D6B     		ldr	r5, [r3, #56]
 428:Sensor.c      **** 	}
 962              		.loc 1 428 82 view .LVU260
 963 033e 6044     		add	r0, r0, ip
 428:Sensor.c      **** 	}
 964              		.loc 1 428 53 view .LVU261
 965 0340 05FB00F0 		mul	r0, r5, r0
 428:Sensor.c      **** 	}
 966              		.loc 1 428 128 view .LVU262
 967 0344 7D4C     		ldr	r4, .L90+8
 968 0346 84FB0054 		smull	r5, r4, r4, r0
 969 034a C017     		asrs	r0, r0, #31
 970 034c C0EB6410 		rsb	r0, r0, r4, asr #5
 428:Sensor.c      **** 	}
 971              		.loc 1 428 20 view .LVU263
 972 0350 C1F8E401 		str	r0, [r1, #484]
 430:Sensor.c      **** 	{
 973              		.loc 1 430 2 is_stmt 1 view .LVU264
 974              	.LVL36:
 975              	.L77:
 430:Sensor.c      **** 	{
 976              		.loc 1 430 65 is_stmt 0 view .LVU265
 977 0354 B3F822C0 		ldrh	ip, [r3, #34]
 438:Sensor.c      **** 	{
 978              		.loc 1 438 2 is_stmt 1 view .LVU266
 438:Sensor.c      **** 	{
 979              		.loc 1 438 4 is_stmt 0 view .LVU267
 980 0358 6245     		cmp	r2, ip
 981 035a 40F38F80 		ble	.L79
 982              	.L78:
 438:Sensor.c      **** 	{
 983              		.loc 1 438 65 discriminator 1 view .LVU268
 984 035e 988C     		ldrh	r0, [r3, #36]
 438:Sensor.c      **** 	{
 985              		.loc 1 438 50 discriminator 1 view .LVU269
 986 0360 8242     		cmp	r2, r0
 987 0362 00F38E80 		bgt	.L80
 440:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_5 - (s16)motorConfig.torque_4;
 988              		.loc 1 440 3 is_stmt 1 view .LVU270
 989              	.LVL37:
 441:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_5-(s32)motorConfig.speed_4;
 990              		.loc 1 441 3 view .LVU271
 442:Sensor.c      **** 
 991              		.loc 1 442 15 is_stmt 0 view .LVU272
 992 0366 A0EB0C04 		sub	r4, r0, ip
 441:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_5-(s32)motorConfig.speed_4;
 993              		.loc 1 441 46 view .LVU273
 994 036a 93F830E0 		ldrb	lr, [r3, #48]	@ zero_extendqisi2
 995              	.LVL38:
 442:Sensor.c      **** 
 996              		.loc 1 442 3 is_stmt 1 view .LVU274
 444:Sensor.c      **** 	}
 997              		.loc 1 444 3 view .LVU275
 441:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_5-(s32)motorConfig.speed_4;
 998              		.loc 1 441 18 is_stmt 0 view .LVU276
 999 036e 93F83100 		ldrb	r0, [r3, #49]	@ zero_extendqisi2
 1000              	.LVL39:
 440:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_5 - (s16)motorConfig.torque_4;
 1001              		.loc 1 440 20 view .LVU277
 1002 0372 A2EB0C0C 		sub	ip, r2, ip
 1003              	.LVL40:
 441:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_5-(s32)motorConfig.speed_4;
 1004              		.loc 1 441 16 view .LVU278
 1005 0376 A0EB0E00 		sub	r0, r0, lr
 444:Sensor.c      **** 	}
 1006              		.loc 1 444 97 view .LVU279
 1007 037a 0CFB00F0 		mul	r0, ip, r0
 444:Sensor.c      **** 	}
 1008              		.loc 1 444 115 view .LVU280
 1009 037e 90FBF4F0 		sdiv	r0, r0, r4
 444:Sensor.c      **** 	}
 1010              		.loc 1 444 53 view .LVU281
 1011 0382 9D6B     		ldr	r5, [r3, #56]
 444:Sensor.c      **** 	}
 1012              		.loc 1 444 82 view .LVU282
 1013 0384 7044     		add	r0, r0, lr
 444:Sensor.c      **** 	}
 1014              		.loc 1 444 53 view .LVU283
 1015 0386 05FB00F0 		mul	r0, r5, r0
 444:Sensor.c      **** 	}
 1016              		.loc 1 444 128 view .LVU284
 1017 038a 6C4C     		ldr	r4, .L90+8
 1018 038c 84FB0054 		smull	r5, r4, r4, r0
 1019 0390 C017     		asrs	r0, r0, #31
 1020 0392 C0EB6410 		rsb	r0, r0, r4, asr #5
 444:Sensor.c      **** 	}
 1021              		.loc 1 444 20 view .LVU285
 1022 0396 C1F8E401 		str	r0, [r1, #484]
 446:Sensor.c      **** 	{
 1023              		.loc 1 446 2 is_stmt 1 view .LVU286
 1024              	.LVL41:
 1025              	.L81:
 446:Sensor.c      **** 	{
 1026              		.loc 1 446 65 is_stmt 0 view .LVU287
 1027 039a DC8C     		ldrh	r4, [r3, #38]
 454:Sensor.c      **** 	{
 1028              		.loc 1 454 2 is_stmt 1 view .LVU288
 454:Sensor.c      **** 	{
 1029              		.loc 1 454 4 is_stmt 0 view .LVU289
 1030 039c A242     		cmp	r2, r4
 1031 039e 40F38C80 		ble	.L83
 1032              	.L82:
 454:Sensor.c      **** 	{
 1033              		.loc 1 454 65 discriminator 1 view .LVU290
 1034 03a2 188D     		ldrh	r0, [r3, #40]
 454:Sensor.c      **** 	{
 1035              		.loc 1 454 50 discriminator 1 view .LVU291
 1036 03a4 8242     		cmp	r2, r0
 1037 03a6 00F38B80 		bgt	.L84
 456:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_7 - (s16)motorConfig.torque_6;
 1038              		.loc 1 456 3 is_stmt 1 view .LVU292
 1039              	.LVL42:
 457:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_7-(s32)motorConfig.speed_6;
 1040              		.loc 1 457 3 view .LVU293
 458:Sensor.c      **** 
 1041              		.loc 1 458 15 is_stmt 0 view .LVU294
 1042 03aa A0EB040C 		sub	ip, r0, r4
 457:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_7-(s32)motorConfig.speed_6;
 1043              		.loc 1 457 46 view .LVU295
 1044 03ae 93F832E0 		ldrb	lr, [r3, #50]	@ zero_extendqisi2
 1045              	.LVL43:
 458:Sensor.c      **** 
 1046              		.loc 1 458 3 is_stmt 1 view .LVU296
 460:Sensor.c      **** 	}
 1047              		.loc 1 460 3 view .LVU297
 457:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_7-(s32)motorConfig.speed_6;
 1048              		.loc 1 457 18 is_stmt 0 view .LVU298
 1049 03b2 93F83300 		ldrb	r0, [r3, #51]	@ zero_extendqisi2
 1050              	.LVL44:
 456:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_7 - (s16)motorConfig.torque_6;
 1051              		.loc 1 456 20 view .LVU299
 1052 03b6 141B     		subs	r4, r2, r4
 1053              	.LVL45:
 457:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_7-(s32)motorConfig.speed_6;
 1054              		.loc 1 457 16 view .LVU300
 1055 03b8 A0EB0E00 		sub	r0, r0, lr
 460:Sensor.c      **** 	}
 1056              		.loc 1 460 97 view .LVU301
 1057 03bc 04FB00F0 		mul	r0, r4, r0
 460:Sensor.c      **** 	}
 1058              		.loc 1 460 115 view .LVU302
 1059 03c0 90FBFCF0 		sdiv	r0, r0, ip
 460:Sensor.c      **** 	}
 1060              		.loc 1 460 53 view .LVU303
 1061 03c4 9D6B     		ldr	r5, [r3, #56]
 460:Sensor.c      **** 	}
 1062              		.loc 1 460 82 view .LVU304
 1063 03c6 7044     		add	r0, r0, lr
 460:Sensor.c      **** 	}
 1064              		.loc 1 460 53 view .LVU305
 1065 03c8 05FB00F0 		mul	r0, r5, r0
 460:Sensor.c      **** 	}
 1066              		.loc 1 460 128 view .LVU306
 1067 03cc 5B4C     		ldr	r4, .L90+8
 1068              	.LVL46:
 460:Sensor.c      **** 	}
 1069              		.loc 1 460 128 view .LVU307
 1070 03ce 84FB0054 		smull	r5, r4, r4, r0
 1071 03d2 C017     		asrs	r0, r0, #31
 1072 03d4 C0EB6410 		rsb	r0, r0, r4, asr #5
 460:Sensor.c      **** 	}
 1073              		.loc 1 460 20 view .LVU308
 1074 03d8 C1F8E401 		str	r0, [r1, #484]
 462:Sensor.c      **** 	{
 1075              		.loc 1 462 2 is_stmt 1 view .LVU309
 1076              	.LVL47:
 1077              	.L85:
 470:Sensor.c      **** 	{
 1078              		.loc 1 470 2 view .LVU310
 462:Sensor.c      **** 	{
 1079              		.loc 1 462 65 is_stmt 0 view .LVU311
 1080 03dc 588D     		ldrh	r0, [r3, #42]
 470:Sensor.c      **** 	{
 1081              		.loc 1 470 4 view .LVU312
 1082 03de 8242     		cmp	r2, r0
 1083 03e0 0ADD     		ble	.L70
 1084              	.L86:
 472:Sensor.c      **** 	}
 1085              		.loc 1 472 3 is_stmt 1 view .LVU313
 472:Sensor.c      **** 	}
 1086              		.loc 1 472 60 is_stmt 0 view .LVU314
 1087 03e2 93F83420 		ldrb	r2, [r3, #52]	@ zero_extendqisi2
 472:Sensor.c      **** 	}
 1088              		.loc 1 472 48 view .LVU315
 1089 03e6 9B6B     		ldr	r3, [r3, #56]
 472:Sensor.c      **** 	}
 1090              		.loc 1 472 69 view .LVU316
 1091 03e8 5448     		ldr	r0, .L90+8
 472:Sensor.c      **** 	}
 1092              		.loc 1 472 48 view .LVU317
 1093 03ea 02FB03F3 		mul	r3, r2, r3
 472:Sensor.c      **** 	}
 1094              		.loc 1 472 69 view .LVU318
 1095 03ee A0FB0323 		umull	r2, r3, r0, r3
 1096 03f2 5B09     		lsrs	r3, r3, #5
 472:Sensor.c      **** 	}
 1097              		.loc 1 472 20 view .LVU319
 1098 03f4 C1F8E431 		str	r3, [r1, #484]
 1099              	.L70:
 474:Sensor.c      **** 
 1100              		.loc 1 474 1 view .LVU320
 1101 03f8 30BD     		pop	{r4, r5, pc}
 1102              	.LVL48:
 1103              	.L71:
 406:Sensor.c      **** 	{
 1104              		.loc 1 406 2 is_stmt 1 view .LVU321
 406:Sensor.c      **** 	{
 1105              		.loc 1 406 65 is_stmt 0 view .LVU322
 1106 03fa B3F81CC0 		ldrh	ip, [r3, #28]
 406:Sensor.c      **** 	{
 1107              		.loc 1 406 50 view .LVU323
 1108 03fe 6245     		cmp	r2, ip
 1109 0400 79DD     		ble	.L88
 1110              	.L72:
 414:Sensor.c      **** 	{
 1111              		.loc 1 414 65 discriminator 1 view .LVU324
 1112 0402 B3F81EE0 		ldrh	lr, [r3, #30]
 414:Sensor.c      **** 	{
 1113              		.loc 1 414 50 discriminator 1 view .LVU325
 1114 0406 7245     		cmp	r2, lr
 1115 0408 86DC     		bgt	.L74
 416:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_2 - (s16)motorConfig.torque_1;
 1116              		.loc 1 416 3 is_stmt 1 view .LVU326
 1117              	.LVL49:
 417:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_2-(s32)motorConfig.speed_1;
 1118              		.loc 1 417 3 view .LVU327
 417:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_2-(s32)motorConfig.speed_1;
 1119              		.loc 1 417 46 is_stmt 0 view .LVU328
 1120 040a 93F82D50 		ldrb	r5, [r3, #45]	@ zero_extendqisi2
 417:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_2-(s32)motorConfig.speed_1;
 1121              		.loc 1 417 18 view .LVU329
 1122 040e 93F82E00 		ldrb	r0, [r3, #46]	@ zero_extendqisi2
 418:Sensor.c      **** 
 1123              		.loc 1 418 15 view .LVU330
 1124 0412 AEEB0C0E 		sub	lr, lr, ip
 1125              	.LVL50:
 418:Sensor.c      **** 
 1126              		.loc 1 418 3 is_stmt 1 view .LVU331
 420:Sensor.c      **** 	}
 1127              		.loc 1 420 3 view .LVU332
 417:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_2-(s32)motorConfig.speed_1;
 1128              		.loc 1 417 16 is_stmt 0 view .LVU333
 1129 0416 401B     		subs	r0, r0, r5
 416:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_2 - (s16)motorConfig.torque_1;
 1130              		.loc 1 416 20 view .LVU334
 1131 0418 A2EB0C0C 		sub	ip, r2, ip
 1132              	.LVL51:
 420:Sensor.c      **** 	}
 1133              		.loc 1 420 97 view .LVU335
 1134 041c 0CFB00F0 		mul	r0, ip, r0
 420:Sensor.c      **** 	}
 1135              		.loc 1 420 115 view .LVU336
 1136 0420 90FBFEF0 		sdiv	r0, r0, lr
 420:Sensor.c      **** 	}
 1137              		.loc 1 420 82 view .LVU337
 1138 0424 2844     		add	r0, r0, r5
 420:Sensor.c      **** 	}
 1139              		.loc 1 420 53 view .LVU338
 1140 0426 9D6B     		ldr	r5, [r3, #56]
 1141              	.LVL52:
 420:Sensor.c      **** 	}
 1142              		.loc 1 420 128 view .LVU339
 1143 0428 444C     		ldr	r4, .L90+8
 420:Sensor.c      **** 	}
 1144              		.loc 1 420 53 view .LVU340
 1145 042a 05FB00F0 		mul	r0, r5, r0
 420:Sensor.c      **** 	}
 1146              		.loc 1 420 128 view .LVU341
 1147 042e 84FB0054 		smull	r5, r4, r4, r0
 1148 0432 C017     		asrs	r0, r0, #31
 1149 0434 C0EB6410 		rsb	r0, r0, r4, asr #5
 420:Sensor.c      **** 	}
 1150              		.loc 1 420 20 view .LVU342
 1151 0438 C1F8E401 		str	r0, [r1, #484]
 422:Sensor.c      **** 	{
 1152              		.loc 1 422 2 is_stmt 1 view .LVU343
 1153              	.LVL53:
 1154              	.L75:
 422:Sensor.c      **** 	{
 1155              		.loc 1 422 65 is_stmt 0 view .LVU344
 1156 043c 188C     		ldrh	r0, [r3, #32]
 430:Sensor.c      **** 	{
 1157              		.loc 1 430 2 is_stmt 1 view .LVU345
 430:Sensor.c      **** 	{
 1158              		.loc 1 430 4 is_stmt 0 view .LVU346
 1159 043e 8242     		cmp	r2, r0
 1160 0440 88DD     		ble	.L77
 1161              	.L76:
 430:Sensor.c      **** 	{
 1162              		.loc 1 430 65 discriminator 1 view .LVU347
 1163 0442 B3F822C0 		ldrh	ip, [r3, #34]
 430:Sensor.c      **** 	{
 1164              		.loc 1 430 50 discriminator 1 view .LVU348
 1165 0446 6245     		cmp	r2, ip
 1166 0448 89DC     		bgt	.L78
 432:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_4 - (s16)motorConfig.torque_3;
 1167              		.loc 1 432 3 is_stmt 1 view .LVU349
 1168              	.LVL54:
 433:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_4-(s32)motorConfig.speed_3;
 1169              		.loc 1 433 3 view .LVU350
 432:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_4 - (s16)motorConfig.torque_3;
 1170              		.loc 1 432 20 is_stmt 0 view .LVU351
 1171 044a 141A     		subs	r4, r2, r0
 1172              	.LVL55:
 433:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_4-(s32)motorConfig.speed_3;
 1173              		.loc 1 433 46 view .LVU352
 1174 044c 93F82FE0 		ldrb	lr, [r3, #47]	@ zero_extendqisi2
 434:Sensor.c      **** 
 1175              		.loc 1 434 15 view .LVU353
 1176 0450 ACEB000C 		sub	ip, ip, r0
 1177              	.LVL56:
 434:Sensor.c      **** 
 1178              		.loc 1 434 3 is_stmt 1 view .LVU354
 436:Sensor.c      **** 	}
 1179              		.loc 1 436 3 view .LVU355
 433:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_4-(s32)motorConfig.speed_3;
 1180              		.loc 1 433 18 is_stmt 0 view .LVU356
 1181 0454 93F83000 		ldrb	r0, [r3, #48]	@ zero_extendqisi2
 1182              	.LVL57:
 436:Sensor.c      **** 	}
 1183              		.loc 1 436 53 view .LVU357
 1184 0458 9D6B     		ldr	r5, [r3, #56]
 433:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_4-(s32)motorConfig.speed_3;
 1185              		.loc 1 433 16 view .LVU358
 1186 045a A0EB0E00 		sub	r0, r0, lr
 436:Sensor.c      **** 	}
 1187              		.loc 1 436 97 view .LVU359
 1188 045e 04FB00F0 		mul	r0, r4, r0
 436:Sensor.c      **** 	}
 1189              		.loc 1 436 115 view .LVU360
 1190 0462 90FBFCF0 		sdiv	r0, r0, ip
 436:Sensor.c      **** 	}
 1191              		.loc 1 436 82 view .LVU361
 1192 0466 7044     		add	r0, r0, lr
 436:Sensor.c      **** 	}
 1193              		.loc 1 436 53 view .LVU362
 1194 0468 05FB00F0 		mul	r0, r5, r0
 436:Sensor.c      **** 	}
 1195              		.loc 1 436 128 view .LVU363
 1196 046c 334C     		ldr	r4, .L90+8
 1197              	.LVL58:
 436:Sensor.c      **** 	}
 1198              		.loc 1 436 128 view .LVU364
 1199 046e 84FB0054 		smull	r5, r4, r4, r0
 1200 0472 C017     		asrs	r0, r0, #31
 1201 0474 C0EB6410 		rsb	r0, r0, r4, asr #5
 436:Sensor.c      **** 	}
 1202              		.loc 1 436 20 view .LVU365
 1203 0478 C1F8E401 		str	r0, [r1, #484]
 438:Sensor.c      **** 	{
 1204              		.loc 1 438 2 is_stmt 1 view .LVU366
 1205              	.LVL59:
 1206              	.L79:
 438:Sensor.c      **** 	{
 1207              		.loc 1 438 65 is_stmt 0 view .LVU367
 1208 047c 988C     		ldrh	r0, [r3, #36]
 446:Sensor.c      **** 	{
 1209              		.loc 1 446 2 is_stmt 1 view .LVU368
 446:Sensor.c      **** 	{
 1210              		.loc 1 446 4 is_stmt 0 view .LVU369
 1211 047e 8242     		cmp	r2, r0
 1212 0480 8BDD     		ble	.L81
 1213              	.L80:
 446:Sensor.c      **** 	{
 1214              		.loc 1 446 65 discriminator 1 view .LVU370
 1215 0482 DC8C     		ldrh	r4, [r3, #38]
 446:Sensor.c      **** 	{
 1216              		.loc 1 446 50 discriminator 1 view .LVU371
 1217 0484 A242     		cmp	r2, r4
 1218 0486 8CDC     		bgt	.L82
 448:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_6 - (s16)motorConfig.torque_5;
 1219              		.loc 1 448 3 is_stmt 1 view .LVU372
 1220              	.LVL60:
 449:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_6-(s32)motorConfig.speed_5;
 1221              		.loc 1 449 3 view .LVU373
 450:Sensor.c      **** 
 1222              		.loc 1 450 15 is_stmt 0 view .LVU374
 1223 0488 241A     		subs	r4, r4, r0
 449:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_6-(s32)motorConfig.speed_5;
 1224              		.loc 1 449 46 view .LVU375
 1225 048a 93F831E0 		ldrb	lr, [r3, #49]	@ zero_extendqisi2
 1226              	.LVL61:
 450:Sensor.c      **** 
 1227              		.loc 1 450 3 is_stmt 1 view .LVU376
 452:Sensor.c      **** 	}
 1228              		.loc 1 452 3 view .LVU377
 448:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_6 - (s16)motorConfig.torque_5;
 1229              		.loc 1 448 20 is_stmt 0 view .LVU378
 1230 048e A2EB000C 		sub	ip, r2, r0
 1231              	.LVL62:
 449:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_6-(s32)motorConfig.speed_5;
 1232              		.loc 1 449 18 view .LVU379
 1233 0492 93F83200 		ldrb	r0, [r3, #50]	@ zero_extendqisi2
 1234              	.LVL63:
 452:Sensor.c      **** 	}
 1235              		.loc 1 452 53 view .LVU380
 1236 0496 9D6B     		ldr	r5, [r3, #56]
 449:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_6-(s32)motorConfig.speed_5;
 1237              		.loc 1 449 16 view .LVU381
 1238 0498 A0EB0E00 		sub	r0, r0, lr
 452:Sensor.c      **** 	}
 1239              		.loc 1 452 97 view .LVU382
 1240 049c 0CFB00F0 		mul	r0, ip, r0
 452:Sensor.c      **** 	}
 1241              		.loc 1 452 115 view .LVU383
 1242 04a0 90FBF4F0 		sdiv	r0, r0, r4
 452:Sensor.c      **** 	}
 1243              		.loc 1 452 82 view .LVU384
 1244 04a4 7044     		add	r0, r0, lr
 452:Sensor.c      **** 	}
 1245              		.loc 1 452 53 view .LVU385
 1246 04a6 05FB00F0 		mul	r0, r5, r0
 452:Sensor.c      **** 	}
 1247              		.loc 1 452 128 view .LVU386
 1248 04aa 244C     		ldr	r4, .L90+8
 1249 04ac 84FB0054 		smull	r5, r4, r4, r0
 1250 04b0 C017     		asrs	r0, r0, #31
 1251 04b2 C0EB6410 		rsb	r0, r0, r4, asr #5
 452:Sensor.c      **** 	}
 1252              		.loc 1 452 20 view .LVU387
 1253 04b6 C1F8E401 		str	r0, [r1, #484]
 454:Sensor.c      **** 	{
 1254              		.loc 1 454 2 is_stmt 1 view .LVU388
 1255              	.LVL64:
 1256              	.L83:
 454:Sensor.c      **** 	{
 1257              		.loc 1 454 65 is_stmt 0 view .LVU389
 1258 04ba 188D     		ldrh	r0, [r3, #40]
 462:Sensor.c      **** 	{
 1259              		.loc 1 462 2 is_stmt 1 view .LVU390
 462:Sensor.c      **** 	{
 1260              		.loc 1 462 4 is_stmt 0 view .LVU391
 1261 04bc 8242     		cmp	r2, r0
 1262 04be 8DDD     		ble	.L85
 1263              	.L84:
 462:Sensor.c      **** 	{
 1264              		.loc 1 462 65 discriminator 1 view .LVU392
 1265 04c0 5C8D     		ldrh	r4, [r3, #42]
 462:Sensor.c      **** 	{
 1266              		.loc 1 462 50 discriminator 1 view .LVU393
 1267 04c2 A242     		cmp	r2, r4
 1268 04c4 8DDC     		bgt	.L86
 464:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_8 - (s16)motorConfig.torque_7;
 1269              		.loc 1 464 3 is_stmt 1 view .LVU394
 1270              	.LVL65:
 465:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_8-(s32)motorConfig.speed_7;
 1271              		.loc 1 465 3 view .LVU395
 464:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_8 - (s16)motorConfig.torque_7;
 1272              		.loc 1 464 20 is_stmt 0 view .LVU396
 1273 04c6 121A     		subs	r2, r2, r0
 1274              	.LVL66:
 468:Sensor.c      **** 	}
 1275              		.loc 1 468 53 view .LVU397
 1276 04c8 9D6B     		ldr	r5, [r3, #56]
 466:Sensor.c      **** 
 1277              		.loc 1 466 15 view .LVU398
 1278 04ca 201A     		subs	r0, r4, r0
 465:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_8-(s32)motorConfig.speed_7;
 1279              		.loc 1 465 46 view .LVU399
 1280 04cc 93F83340 		ldrb	r4, [r3, #51]	@ zero_extendqisi2
 1281              	.LVL67:
 466:Sensor.c      **** 
 1282              		.loc 1 466 3 is_stmt 1 view .LVU400
 468:Sensor.c      **** 	}
 1283              		.loc 1 468 3 view .LVU401
 465:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_8-(s32)motorConfig.speed_7;
 1284              		.loc 1 465 18 is_stmt 0 view .LVU402
 1285 04d0 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 465:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_8-(s32)motorConfig.speed_7;
 1286              		.loc 1 465 16 view .LVU403
 1287 04d4 1B1B     		subs	r3, r3, r4
 468:Sensor.c      **** 	}
 1288              		.loc 1 468 97 view .LVU404
 1289 04d6 02FB03F3 		mul	r3, r2, r3
 468:Sensor.c      **** 	}
 1290              		.loc 1 468 115 view .LVU405
 1291 04da 93FBF0F3 		sdiv	r3, r3, r0
 468:Sensor.c      **** 	}
 1292              		.loc 1 468 82 view .LVU406
 1293 04de 2344     		add	r3, r3, r4
 468:Sensor.c      **** 	}
 1294              		.loc 1 468 53 view .LVU407
 1295 04e0 05FB03F3 		mul	r3, r5, r3
 468:Sensor.c      **** 	}
 1296              		.loc 1 468 128 view .LVU408
 1297 04e4 154A     		ldr	r2, .L90+8
 1298              	.LVL68:
 468:Sensor.c      **** 	}
 1299              		.loc 1 468 128 view .LVU409
 1300 04e6 82FB0302 		smull	r0, r2, r2, r3
 1301 04ea DB17     		asrs	r3, r3, #31
 1302 04ec C3EB6213 		rsb	r3, r3, r2, asr #5
 468:Sensor.c      **** 	}
 1303              		.loc 1 468 20 view .LVU410
 1304 04f0 C1F8E431 		str	r3, [r1, #484]
 470:Sensor.c      **** 	{
 1305              		.loc 1 470 2 is_stmt 1 view .LVU411
 474:Sensor.c      **** 
 1306              		.loc 1 474 1 is_stmt 0 view .LVU412
 1307 04f4 30BD     		pop	{r4, r5, pc}
 1308              	.LVL69:
 1309              	.L88:
 408:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_1 - (s16)motorConfig.torque_0;
 1310              		.loc 1 408 3 is_stmt 1 view .LVU413
 409:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_1-(s32)motorConfig.speed_0;
 1311              		.loc 1 409 3 view .LVU414
 409:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_1-(s32)motorConfig.speed_0;
 1312              		.loc 1 409 46 is_stmt 0 view .LVU415
 1313 04f6 93F82C50 		ldrb	r5, [r3, #44]	@ zero_extendqisi2
 408:Sensor.c      **** 		m_torqueDiff = (s16)motorConfig.torque_1 - (s16)motorConfig.torque_0;
 1314              		.loc 1 408 20 view .LVU416
 1315 04fa 141A     		subs	r4, r2, r0
 1316              	.LVL70:
 410:Sensor.c      **** 
 1317              		.loc 1 410 15 view .LVU417
 1318 04fc ACEB000C 		sub	ip, ip, r0
 1319              	.LVL71:
 410:Sensor.c      **** 
 1320              		.loc 1 410 3 is_stmt 1 view .LVU418
 412:Sensor.c      **** 	}
 1321              		.loc 1 412 3 view .LVU419
 409:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_1-(s32)motorConfig.speed_0;
 1322              		.loc 1 409 18 is_stmt 0 view .LVU420
 1323 0500 93F82D00 		ldrb	r0, [r3, #45]	@ zero_extendqisi2
 1324              	.LVL72:
 414:Sensor.c      **** 	{
 1325              		.loc 1 414 65 view .LVU421
 1326 0504 B3F81EE0 		ldrh	lr, [r3, #30]
 409:Sensor.c      **** 		m_speedDiff = (s32)motorConfig.speed_1-(s32)motorConfig.speed_0;
 1327              		.loc 1 409 16 view .LVU422
 1328 0508 401B     		subs	r0, r0, r5
 412:Sensor.c      **** 	}
 1329              		.loc 1 412 97 view .LVU423
 1330 050a 04FB00F0 		mul	r0, r4, r0
 412:Sensor.c      **** 	}
 1331              		.loc 1 412 115 view .LVU424
 1332 050e 90FBFCF0 		sdiv	r0, r0, ip
 412:Sensor.c      **** 	}
 1333              		.loc 1 412 82 view .LVU425
 1334 0512 2844     		add	r0, r0, r5
 412:Sensor.c      **** 	}
 1335              		.loc 1 412 53 view .LVU426
 1336 0514 9D6B     		ldr	r5, [r3, #56]
 1337              	.LVL73:
 412:Sensor.c      **** 	}
 1338              		.loc 1 412 128 view .LVU427
 1339 0516 094C     		ldr	r4, .L90+8
 1340              	.LVL74:
 412:Sensor.c      **** 	}
 1341              		.loc 1 412 53 view .LVU428
 1342 0518 05FB00F0 		mul	r0, r5, r0
 412:Sensor.c      **** 	}
 1343              		.loc 1 412 128 view .LVU429
 1344 051c 84FB0054 		smull	r5, r4, r4, r0
 1345 0520 C017     		asrs	r0, r0, #31
 1346 0522 C0EB6410 		rsb	r0, r0, r4, asr #5
 422:Sensor.c      **** 	{
 1347              		.loc 1 422 4 view .LVU430
 1348 0526 7245     		cmp	r2, lr
 412:Sensor.c      **** 	}
 1349              		.loc 1 412 20 view .LVU431
 1350 0528 C1F8E401 		str	r0, [r1, #484]
 414:Sensor.c      **** 	{
 1351              		.loc 1 414 2 is_stmt 1 view .LVU432
 422:Sensor.c      **** 	{
 1352              		.loc 1 422 2 view .LVU433
 422:Sensor.c      **** 	{
 1353              		.loc 1 422 4 is_stmt 0 view .LVU434
 1354 052c 3FF7F4AE 		bgt	.L74
 1355 0530 84E7     		b	.L75
 1356              	.L91:
 1357 0532 00BF     		.align	2
 1358              	.L90:
 1359 0534 00000000 		.word	motorConfig
 1360 0538 00000000 		.word	.LANCHOR0
 1361 053c 1F85EB51 		.word	1374389535
 1362              		.cfi_endproc
 1363              	.LFE14:
 1365              		.align	1
 1366              		.p2align 2,,3
 1367              		.global	sensor_motorAssistance
 1368              		.syntax unified
 1369              		.thumb
 1370              		.thumb_func
 1372              	sensor_motorAssistance:
 1373              	.LFB15:
 477:Sensor.c      **** 	targetPedalTorque = m_filteredPedalTorqueAverage * motorConfig.torqueSensorGain;
 1374              		.loc 1 477 1 is_stmt 1 view -0
 1375              		.cfi_startproc
 1376              		@ args = 0, pretend = 0, frame = 0
 1377              		@ frame_needed = 0, uses_anonymous_args = 0
 1378              		@ link register save eliminated.
 478:Sensor.c      **** 
 1379              		.loc 1 478 2 view .LVU436
 478:Sensor.c      **** 
 1380              		.loc 1 478 64 is_stmt 0 view .LVU437
 1381 0540 2049     		ldr	r1, .L100
 478:Sensor.c      **** 
 1382              		.loc 1 478 51 view .LVU438
 1383 0542 214B     		ldr	r3, .L100+4
 477:Sensor.c      **** 	targetPedalTorque = m_filteredPedalTorqueAverage * motorConfig.torqueSensorGain;
 1384              		.loc 1 477 1 view .LVU439
 1385 0544 10B4     		push	{r4}
 1386              	.LCFI17:
 1387              		.cfi_def_cfa_offset 4
 1388              		.cfi_offset 4, -4
 478:Sensor.c      **** 
 1389              		.loc 1 478 64 view .LVU440
 1390 0546 B1F90420 		ldrsh	r2, [r1, #4]
 478:Sensor.c      **** 
 1391              		.loc 1 478 51 view .LVU441
 1392 054a D3F8E841 		ldr	r4, [r3, #488]
 481:Sensor.c      **** 	{
 1393              		.loc 1 481 28 view .LVU442
 1394 054e B1F90800 		ldrsh	r0, [r1, #8]
 478:Sensor.c      **** 
 1395              		.loc 1 478 51 view .LVU443
 1396 0552 04FB02F2 		mul	r2, r4, r2
 481:Sensor.c      **** 	{
 1397              		.loc 1 481 5 view .LVU444
 1398 0556 8242     		cmp	r2, r0
 478:Sensor.c      **** 
 1399              		.loc 1 478 20 view .LVU445
 1400 0558 C3F8EC21 		str	r2, [r3, #492]
 481:Sensor.c      **** 	{
 1401              		.loc 1 481 2 is_stmt 1 view .LVU446
 481:Sensor.c      **** 	{
 1402              		.loc 1 481 5 is_stmt 0 view .LVU447
 1403 055c 23DD     		ble	.L93
 481:Sensor.c      **** 	{
 1404              		.loc 1 481 121 discriminator 1 view .LVU448
 1405 055e B1F902C0 		ldrsh	ip, [r1, #2]
 481:Sensor.c      **** 	{
 1406              		.loc 1 481 61 discriminator 1 view .LVU449
 1407 0562 D3F8A801 		ldr	r0, [r3, #424]
 1408 0566 8445     		cmp	ip, r0
 1409 0568 1DDA     		bge	.L93
 1410              	.L94:
 487:Sensor.c      **** 	{
 1411              		.loc 1 487 2 is_stmt 1 view .LVU450
 487:Sensor.c      **** 	{
 1412              		.loc 1 487 26 is_stmt 0 view .LVU451
 1413 056a 886B     		ldr	r0, [r1, #56]
 487:Sensor.c      **** 	{
 1414              		.loc 1 487 5 view .LVU452
 1415 056c 9042     		cmp	r0, r2
 489:Sensor.c      **** 	}
 1416              		.loc 1 489 3 is_stmt 1 view .LVU453
 489:Sensor.c      **** 	}
 1417              		.loc 1 489 21 is_stmt 0 view .LVU454
 1418 056e BCBF     		itt	lt
 1419 0570 0246     		movlt	r2, r0
 1420 0572 C3F8EC01 		strlt	r0, [r3, #492]
 492:Sensor.c      **** 	{
 1421              		.loc 1 492 2 is_stmt 1 view .LVU455
 492:Sensor.c      **** 	{
 1422              		.loc 1 492 24 is_stmt 0 view .LVU456
 1423 0576 D3F8E401 		ldr	r0, [r3, #484]
 492:Sensor.c      **** 	{
 1424              		.loc 1 492 5 view .LVU457
 1425 057a 9042     		cmp	r0, r2
 494:Sensor.c      **** 	}
 1426              		.loc 1 494 3 is_stmt 1 view .LVU458
 497:Sensor.c      **** 	{
 1427              		.loc 1 497 2 view .LVU459
 497:Sensor.c      **** 	{
 1428              		.loc 1 497 40 is_stmt 0 view .LVU460
 1429 057c CA8E     		ldrh	r2, [r1, #54]
 497:Sensor.c      **** 	{
 1430              		.loc 1 497 5 view .LVU461
 1431 057e D3F8CC11 		ldr	r1, [r3, #460]
 497:Sensor.c      **** 	{
 1432              		.loc 1 497 53 view .LVU462
 1433 0582 02EB8202 		add	r2, r2, r2, lsl #2
 494:Sensor.c      **** 	}
 1434              		.loc 1 494 21 view .LVU463
 1435 0586 B8BF     		it	lt
 1436 0588 C3F8EC01 		strlt	r0, [r3, #492]
 497:Sensor.c      **** 	{
 1437              		.loc 1 497 5 view .LVU464
 1438 058c B1EB420F 		cmp	r1, r2, lsl #1
 1439 0590 0EDC     		bgt	.L97
 502:Sensor.c      **** 	{
 1440              		.loc 1 502 24 view .LVU465
 1441 0592 D3F8EC01 		ldr	r0, [r3, #492]
 508:Sensor.c      **** 	}
 1442              		.loc 1 508 22 view .LVU466
 1443 0596 0028     		cmp	r0, #0
 1444 0598 D4BF     		ite	le
 1445 059a 0022     		movle	r2, #0
 1446 059c 0122     		movgt	r2, #1
 502:Sensor.c      **** 	{
 1447              		.loc 1 502 2 is_stmt 1 view .LVU467
 1448 059e 83F8F021 		strb	r2, [r3, #496]
 511:Sensor.c      **** }
 1449              		.loc 1 511 2 view .LVU468
 512:Sensor.c      **** 
 1450              		.loc 1 512 1 is_stmt 0 view .LVU469
 1451 05a2 10BC     		pop	{r4}
 1452              	.LCFI18:
 1453              		.cfi_remember_state
 1454              		.cfi_restore 4
 1455              		.cfi_def_cfa_offset 0
 1456 05a4 7047     		bx	lr
 1457              	.L93:
 1458              	.LCFI19:
 1459              		.cfi_restore_state
 483:Sensor.c      **** 	}
 1460              		.loc 1 483 3 is_stmt 1 view .LVU470
 483:Sensor.c      **** 	}
 1461              		.loc 1 483 21 is_stmt 0 view .LVU471
 1462 05a6 0020     		movs	r0, #0
 1463 05a8 0246     		mov	r2, r0
 1464 05aa C3F8EC01 		str	r0, [r3, #492]
 1465 05ae DCE7     		b	.L94
 1466              	.L97:
 499:Sensor.c      **** 	}
 1467              		.loc 1 499 3 is_stmt 1 view .LVU472
 499:Sensor.c      **** 	}
 1468              		.loc 1 499 21 is_stmt 0 view .LVU473
 1469 05b0 0021     		movs	r1, #0
 1470 05b2 0A46     		mov	r2, r1
 1471 05b4 83F8F021 		strb	r2, [r3, #496]
 1472 05b8 0846     		mov	r0, r1
 502:Sensor.c      **** 	{
 1473              		.loc 1 502 2 is_stmt 1 view .LVU474
 511:Sensor.c      **** }
 1474              		.loc 1 511 2 view .LVU475
 512:Sensor.c      **** 
 1475              		.loc 1 512 1 is_stmt 0 view .LVU476
 1476 05ba 10BC     		pop	{r4}
 1477              	.LCFI20:
 1478              		.cfi_restore 4
 1479              		.cfi_def_cfa_offset 0
 499:Sensor.c      **** 	}
 1480              		.loc 1 499 21 view .LVU477
 1481 05bc C3F8EC11 		str	r1, [r3, #492]
 512:Sensor.c      **** 
 1482              		.loc 1 512 1 view .LVU478
 1483 05c0 7047     		bx	lr
 1484              	.L101:
 1485 05c2 00BF     		.align	2
 1486              	.L100:
 1487 05c4 00000000 		.word	motorConfig
 1488 05c8 00000000 		.word	.LANCHOR0
 1489              		.cfi_endproc
 1490              	.LFE15:
 1492              		.align	1
 1493              		.p2align 2,,3
 1494              		.global	sensor_updateCutOffTime
 1495              		.syntax unified
 1496              		.thumb
 1497              		.thumb_func
 1499              	sensor_updateCutOffTime:
 1500              	.LFB16:
 515:Sensor.c      **** 	m_cutOffTime = (motorConfig.assistCutOutDistance*3600)/motorConfig.maximumSpeed; // 3600km/h = 1m/
 1501              		.loc 1 515 1 is_stmt 1 view -0
 1502              		.cfi_startproc
 1503              		@ args = 0, pretend = 0, frame = 0
 1504              		@ frame_needed = 0, uses_anonymous_args = 0
 1505              		@ link register save eliminated.
 516:Sensor.c      **** 	if(m_cutOffTime > 100) //delay compensation of the pedal velocity filter
 1506              		.loc 1 516 2 view .LVU480
 516:Sensor.c      **** 	if(m_cutOffTime > 100) //delay compensation of the pedal velocity filter
 1507              		.loc 1 516 50 is_stmt 0 view .LVU481
 1508 05cc 4FF46161 		mov	r1, #3600
 516:Sensor.c      **** 	if(m_cutOffTime > 100) //delay compensation of the pedal velocity filter
 1509              		.loc 1 516 29 view .LVU482
 1510 05d0 064A     		ldr	r2, .L106
 1511 05d2 5389     		ldrh	r3, [r2, #10]
 516:Sensor.c      **** 	if(m_cutOffTime > 100) //delay compensation of the pedal velocity filter
 1512              		.loc 1 516 68 view .LVU483
 1513 05d4 D28E     		ldrh	r2, [r2, #54]
 516:Sensor.c      **** 	if(m_cutOffTime > 100) //delay compensation of the pedal velocity filter
 1514              		.loc 1 516 50 view .LVU484
 1515 05d6 01FB03F3 		mul	r3, r1, r3
 516:Sensor.c      **** 	if(m_cutOffTime > 100) //delay compensation of the pedal velocity filter
 1516              		.loc 1 516 56 view .LVU485
 1517 05da B3FBF2F3 		udiv	r3, r3, r2
 517:Sensor.c      **** 	{
 1518              		.loc 1 517 2 is_stmt 1 view .LVU486
 519:Sensor.c      **** 	}
 1519              		.loc 1 519 16 is_stmt 0 view .LVU487
 1520 05de 044A     		ldr	r2, .L106+4
 517:Sensor.c      **** 	{
 1521              		.loc 1 517 4 view .LVU488
 1522 05e0 642B     		cmp	r3, #100
 519:Sensor.c      **** 	}
 1523              		.loc 1 519 3 is_stmt 1 view .LVU489
 519:Sensor.c      **** 	}
 1524              		.loc 1 519 16 is_stmt 0 view .LVU490
 1525 05e2 C8BF     		it	gt
 1526 05e4 643B     		subgt	r3, r3, #100
 1527 05e6 1360     		str	r3, [r2]
 521:Sensor.c      **** 
 1528              		.loc 1 521 1 view .LVU491
 1529 05e8 7047     		bx	lr
 1530              	.L107:
 1531 05ea 00BF     		.align	2
 1532              	.L106:
 1533 05ec 00000000 		.word	motorConfig
 1534 05f0 00000000 		.word	.LANCHOR0
 1535              		.cfi_endproc
 1536              	.LFE16:
 1538              		.align	1
 1539              		.p2align 2,,3
 1540              		.global	sensor_cutOffDistance
 1541              		.syntax unified
 1542              		.thumb
 1543              		.thumb_func
 1545              	sensor_cutOffDistance:
 1546              	.LVL75:
 1547              	.LFB17:
 524:Sensor.c      **** 	if(targetPedalTorque <= 0)
 1548              		.loc 1 524 1 is_stmt 1 view -0
 1549              		.cfi_startproc
 1550              		@ args = 0, pretend = 0, frame = 0
 1551              		@ frame_needed = 0, uses_anonymous_args = 0
 1552              		@ link register save eliminated.
 525:Sensor.c      **** 	{
 1553              		.loc 1 525 2 view .LVU493
 525:Sensor.c      **** 	{
 1554              		.loc 1 525 23 is_stmt 0 view .LVU494
 1555 05f4 094B     		ldr	r3, .L112
 525:Sensor.c      **** 	{
 1556              		.loc 1 525 4 view .LVU495
 1557 05f6 D3F8EC21 		ldr	r2, [r3, #492]
 1558 05fa 002A     		cmp	r2, #0
 1559 05fc 03DD     		ble	.L111
 535:Sensor.c      **** 	}
 1560              		.loc 1 535 3 is_stmt 1 view .LVU496
 535:Sensor.c      **** 	}
 1561              		.loc 1 535 15 is_stmt 0 view .LVU497
 1562 05fe 0022     		movs	r2, #0
 1563 0600 83F8F121 		strb	r2, [r3, #497]
 537:Sensor.c      **** }
 1564              		.loc 1 537 2 is_stmt 1 view .LVU498
 538:Sensor.c      **** 
 1565              		.loc 1 538 1 is_stmt 0 view .LVU499
 1566 0604 7047     		bx	lr
 1567              	.L111:
 527:Sensor.c      **** 		if(cutOffTimer >= m_cutOffTime )
 1568              		.loc 1 527 3 is_stmt 1 view .LVU500
 527:Sensor.c      **** 		if(cutOffTimer >= m_cutOffTime )
 1569              		.loc 1 527 14 is_stmt 0 view .LVU501
 1570 0606 93F8F121 		ldrb	r2, [r3, #497]	@ zero_extendqisi2
 528:Sensor.c      **** 		{
 1571              		.loc 1 528 5 view .LVU502
 1572 060a 1968     		ldr	r1, [r3]
 527:Sensor.c      **** 		if(cutOffTimer >= m_cutOffTime )
 1573              		.loc 1 527 14 view .LVU503
 1574 060c 0132     		adds	r2, r2, #1
 1575 060e D2B2     		uxtb	r2, r2
 530:Sensor.c      **** 		}
 1576              		.loc 1 530 23 view .LVU504
 1577 0610 8A42     		cmp	r2, r1
 1578 0612 28BF     		it	cs
 1579 0614 0020     		movcs	r0, #0
 1580              	.LVL76:
 527:Sensor.c      **** 		if(cutOffTimer >= m_cutOffTime )
 1581              		.loc 1 527 14 view .LVU505
 1582 0616 83F8F121 		strb	r2, [r3, #497]
 528:Sensor.c      **** 		{
 1583              		.loc 1 528 3 is_stmt 1 view .LVU506
 1584 061a 7047     		bx	lr
 1585              	.L113:
 1586              		.align	2
 1587              	.L112:
 1588 061c 00000000 		.word	.LANCHOR0
 1589              		.cfi_endproc
 1590              	.LFE17:
 1592              		.align	1
 1593              		.p2align 2,,3
 1594              		.global	sensor_brakeDetection
 1595              		.syntax unified
 1596              		.thumb
 1597              		.thumb_func
 1599              	sensor_brakeDetection:
 1600              	.LFB18:
 541:Sensor.c      **** 	if (m_wheelVelocity <= m_wheelVelocityLast)
 1601              		.loc 1 541 1 view -0
 1602              		.cfi_startproc
 1603              		@ args = 0, pretend = 0, frame = 0
 1604              		@ frame_needed = 0, uses_anonymous_args = 0
 542:Sensor.c      **** 	{
 1605              		.loc 1 542 2 view .LVU508
 541:Sensor.c      **** 	if (m_wheelVelocity <= m_wheelVelocityLast)
 1606              		.loc 1 541 1 is_stmt 0 view .LVU509
 1607 0620 10B5     		push	{r4, lr}
 1608              	.LCFI21:
 1609              		.cfi_def_cfa_offset 8
 1610              		.cfi_offset 4, -8
 1611              		.cfi_offset 14, -4
 542:Sensor.c      **** 	{
 1612              		.loc 1 542 22 view .LVU510
 1613 0622 274C     		ldr	r4, .L124
 547:Sensor.c      **** 	out_Y *= 16;		// LIS2DH12 data sheet Table 4. Mechanical characteristics	-	Low-power mode & measur
 1614              		.loc 1 547 14 view .LVU511
 1615 0624 2B20     		movs	r0, #43
 542:Sensor.c      **** 	{
 1616              		.loc 1 542 22 view .LVU512
 1617 0626 D4F8E031 		ldr	r3, [r4, #480]
 542:Sensor.c      **** 	{
 1618              		.loc 1 542 5 view .LVU513
 1619 062a D4F8F421 		ldr	r2, [r4, #500]
 1620 062e 9342     		cmp	r3, r2
 544:Sensor.c      **** 	}
 1621              		.loc 1 544 3 is_stmt 1 view .LVU514
 547:Sensor.c      **** 	out_Y *= 16;		// LIS2DH12 data sheet Table 4. Mechanical characteristics	-	Low-power mode & measur
 1622              		.loc 1 547 2 view .LVU515
 544:Sensor.c      **** 	}
 1623              		.loc 1 544 21 is_stmt 0 view .LVU516
 1624 0630 D8BF     		it	le
 1625 0632 C4F8F831 		strle	r3, [r4, #504]
 547:Sensor.c      **** 	out_Y *= 16;		// LIS2DH12 data sheet Table 4. Mechanical characteristics	-	Low-power mode & measur
 1626              		.loc 1 547 14 view .LVU517
 1627 0636 FFF7FEFF 		bl	LIS2DH12_spi_readInt
 1628              	.LVL77:
 548:Sensor.c      **** 
 1629              		.loc 1 548 2 is_stmt 1 view .LVU518
 550:Sensor.c      **** 	{
 1630              		.loc 1 550 5 is_stmt 0 view .LVU519
 1631 063a D4F8F831 		ldr	r3, [r4, #504]
 547:Sensor.c      **** 	out_Y *= 16;		// LIS2DH12 data sheet Table 4. Mechanical characteristics	-	Low-power mode & measur
 1632              		.loc 1 547 10 view .LVU520
 1633 063e 40B2     		sxtb	r0, r0
 548:Sensor.c      **** 
 1634              		.loc 1 548 8 view .LVU521
 1635 0640 0001     		lsls	r0, r0, #4
 550:Sensor.c      **** 	{
 1636              		.loc 1 550 5 view .LVU522
 1637 0642 0E2B     		cmp	r3, #14
 548:Sensor.c      **** 
 1638              		.loc 1 548 8 view .LVU523
 1639 0644 C4F8FC01 		str	r0, [r4, #508]
 550:Sensor.c      **** 	{
 1640              		.loc 1 550 2 is_stmt 1 view .LVU524
 550:Sensor.c      **** 	{
 1641              		.loc 1 550 5 is_stmt 0 view .LVU525
 1642 0648 20DD     		ble	.L116
 550:Sensor.c      **** 	{
 1643              		.loc 1 550 68 discriminator 1 view .LVU526
 1644 064a D4F8F431 		ldr	r3, [r4, #500]
 550:Sensor.c      **** 	{
 1645              		.loc 1 550 70 discriminator 1 view .LVU527
 1646 064e 1D49     		ldr	r1, .L124+4
 550:Sensor.c      **** 	{
 1647              		.loc 1 550 68 discriminator 1 view .LVU528
 1648 0650 03EBC303 		add	r3, r3, r3, lsl #3
 550:Sensor.c      **** 	{
 1649              		.loc 1 550 70 discriminator 1 view .LVU529
 1650 0654 81FB0321 		smull	r2, r1, r1, r3
 550:Sensor.c      **** 	{
 1651              		.loc 1 550 74 discriminator 1 view .LVU530
 1652 0658 D4F8E021 		ldr	r2, [r4, #480]
 550:Sensor.c      **** 	{
 1653              		.loc 1 550 70 discriminator 1 view .LVU531
 1654 065c DB17     		asrs	r3, r3, #31
 1655 065e C3EBA103 		rsb	r3, r3, r1, asr #2
 550:Sensor.c      **** 	{
 1656              		.loc 1 550 45 discriminator 1 view .LVU532
 1657 0662 9342     		cmp	r3, r2
 1658 0664 15DA     		bge	.L123
 1659              	.L117:
 560:Sensor.c      **** 	{
 1660              		.loc 1 560 7 is_stmt 1 view .LVU533
 560:Sensor.c      **** 	{
 1661              		.loc 1 560 10 is_stmt 0 view .LVU534
 1662 0666 002A     		cmp	r2, #0
 1663 0668 03DD     		ble	.L120
 560:Sensor.c      **** 	{
 1664              		.loc 1 560 34 discriminator 1 view .LVU535
 1665 066a D4F8F431 		ldr	r3, [r4, #500]
 1666 066e 9342     		cmp	r3, r2
 1667 0670 09DA     		bge	.L119
 1668              	.L120:
 562:Sensor.c      **** 		minGDetection = 0;
 1669              		.loc 1 562 3 is_stmt 1 view .LVU536
 1670 0672 0120     		movs	r0, #1
 1671 0674 FFF7FEFF 		bl	rear_led_setMode
 1672              	.LVL78:
 563:Sensor.c      **** 		minGDetectionLast = 0;
 1673              		.loc 1 563 3 view .LVU537
 563:Sensor.c      **** 		minGDetectionLast = 0;
 1674              		.loc 1 563 17 is_stmt 0 view .LVU538
 1675 0678 0023     		movs	r3, #0
 567:Sensor.c      **** 
 1676              		.loc 1 567 22 view .LVU539
 1677 067a D4F8E021 		ldr	r2, [r4, #480]
 563:Sensor.c      **** 		minGDetectionLast = 0;
 1678              		.loc 1 563 17 view .LVU540
 1679 067e C4F80032 		str	r3, [r4, #512]
 1680              	.L122:
 564:Sensor.c      **** 	}
 1681              		.loc 1 564 3 is_stmt 1 view .LVU541
 564:Sensor.c      **** 	}
 1682              		.loc 1 564 21 is_stmt 0 view .LVU542
 1683 0682 C4F80432 		str	r3, [r4, #516]
 1684              	.L119:
 567:Sensor.c      **** 
 1685              		.loc 1 567 2 is_stmt 1 view .LVU543
 567:Sensor.c      **** 
 1686              		.loc 1 567 22 is_stmt 0 view .LVU544
 1687 0686 C4F8F421 		str	r2, [r4, #500]
 572:Sensor.c      **** 
 1688              		.loc 1 572 1 view .LVU545
 1689 068a 10BD     		pop	{r4, pc}
 1690              	.L116:
 550:Sensor.c      **** 	{
 1691              		.loc 1 550 74 view .LVU546
 1692 068c D4F8E021 		ldr	r2, [r4, #480]
 1693 0690 E9E7     		b	.L117
 1694              	.L123:
 552:Sensor.c      **** 		if(minGDetection > minGDetectionLast)
 1695              		.loc 1 552 3 is_stmt 1 view .LVU547
 553:Sensor.c      **** 		{
 1696              		.loc 1 553 5 is_stmt 0 view .LVU548
 1697 0692 D4E98031 		ldrd	r3, r1, [r4, #512]
 552:Sensor.c      **** 		if(minGDetection > minGDetectionLast)
 1698              		.loc 1 552 17 view .LVU549
 1699 0696 B0F5C87F 		cmp	r0, #400
 1700 069a A8BF     		it	ge
 1701 069c 0133     		addge	r3, r3, #1
 553:Sensor.c      **** 		{
 1702              		.loc 1 553 5 view .LVU550
 1703 069e 8B42     		cmp	r3, r1
 552:Sensor.c      **** 		if(minGDetection > minGDetectionLast)
 1704              		.loc 1 552 17 view .LVU551
 1705 06a0 C4F80032 		str	r3, [r4, #512]
 553:Sensor.c      **** 		{
 1706              		.loc 1 553 3 is_stmt 1 view .LVU552
 553:Sensor.c      **** 		{
 1707              		.loc 1 553 5 is_stmt 0 view .LVU553
 1708 06a4 EDDD     		ble	.L122
 555:Sensor.c      **** 			rear_led_setBlinkTime(300);
 1709              		.loc 1 555 4 is_stmt 1 view .LVU554
 1710 06a6 0220     		movs	r0, #2
 1711 06a8 FFF7FEFF 		bl	rear_led_setMode
 1712              	.LVL79:
 556:Sensor.c      **** 		}
 1713              		.loc 1 556 4 view .LVU555
 1714 06ac 4FF49670 		mov	r0, #300
 1715 06b0 FFF7FEFF 		bl	rear_led_setBlinkTime
 1716              	.LVL80:
 558:Sensor.c      **** 	}
 1717              		.loc 1 558 21 is_stmt 0 view .LVU556
 1718 06b4 D4F80032 		ldr	r3, [r4, #512]
 567:Sensor.c      **** 
 1719              		.loc 1 567 22 view .LVU557
 1720 06b8 D4F8E021 		ldr	r2, [r4, #480]
 558:Sensor.c      **** 	}
 1721              		.loc 1 558 3 is_stmt 1 view .LVU558
 1722 06bc E1E7     		b	.L122
 1723              	.L125:
 1724 06be 00BF     		.align	2
 1725              	.L124:
 1726 06c0 00000000 		.word	.LANCHOR0
 1727 06c4 67666666 		.word	1717986919
 1728              		.cfi_endproc
 1729              	.LFE18:
 1731              		.align	1
 1732              		.p2align 2,,3
 1733              		.global	sensor_updateActualTorqueLimit_Gain
 1734              		.syntax unified
 1735              		.thumb
 1736              		.thumb_func
 1738              	sensor_updateActualTorqueLimit_Gain:
 1739              	.LFB19:
 575:Sensor.c      **** 	s32 m_rampTargetTorque = bldc_rampTargetTorque();
 1740              		.loc 1 575 1 view -0
 1741              		.cfi_startproc
 1742              		@ args = 0, pretend = 0, frame = 0
 1743              		@ frame_needed = 0, uses_anonymous_args = 0
 576:Sensor.c      **** 	s32 m_actualMotorTorque = tmc4671_getActualTorqueFluxSum_mA(0, motorConfig.dualShuntFactor);
 1744              		.loc 1 576 2 view .LVU560
 575:Sensor.c      **** 	s32 m_rampTargetTorque = bldc_rampTargetTorque();
 1745              		.loc 1 575 1 is_stmt 0 view .LVU561
 1746 06c8 F0B5     		push	{r4, r5, r6, r7, lr}
 1747              	.LCFI22:
 1748              		.cfi_def_cfa_offset 20
 1749              		.cfi_offset 4, -20
 1750              		.cfi_offset 5, -16
 1751              		.cfi_offset 6, -12
 1752              		.cfi_offset 7, -8
 1753              		.cfi_offset 14, -4
 1754 06ca 83B0     		sub	sp, sp, #12
 1755              	.LCFI23:
 1756              		.cfi_def_cfa_offset 32
 576:Sensor.c      **** 	s32 m_actualMotorTorque = tmc4671_getActualTorqueFluxSum_mA(0, motorConfig.dualShuntFactor);
 1757              		.loc 1 576 27 view .LVU562
 1758 06cc FFF7FEFF 		bl	bldc_rampTargetTorque
 1759              	.LVL81:
 577:Sensor.c      **** 
 1760              		.loc 1 577 28 view .LVU563
 1761 06d0 124F     		ldr	r7, .L130
 576:Sensor.c      **** 	s32 m_actualMotorTorque = tmc4671_getActualTorqueFluxSum_mA(0, motorConfig.dualShuntFactor);
 1762              		.loc 1 576 27 view .LVU564
 1763 06d2 0646     		mov	r6, r0
 577:Sensor.c      **** 
 1764              		.loc 1 577 28 view .LVU565
 1765 06d4 B7F86810 		ldrh	r1, [r7, #104]
 1766 06d8 0020     		movs	r0, #0
 1767 06da FFF7FEFF 		bl	tmc4671_getActualTorqueFluxSum_mA
 1768              	.LVL82:
 579:Sensor.c      **** 
 1769              		.loc 1 579 19 view .LVU566
 1770 06de 0821     		movs	r1, #8
 577:Sensor.c      **** 
 1771              		.loc 1 577 28 view .LVU567
 1772 06e0 0446     		mov	r4, r0
 579:Sensor.c      **** 
 1773              		.loc 1 579 19 view .LVU568
 1774 06e2 0F4D     		ldr	r5, .L130+4
 1775              	.LVL83:
 577:Sensor.c      **** 
 1776              		.loc 1 577 2 is_stmt 1 view .LVU569
 579:Sensor.c      **** 
 1777              		.loc 1 579 19 is_stmt 0 view .LVU570
 1778 06e4 0091     		str	r1, [sp]
 1779 06e6 0623     		movs	r3, #6
 1780 06e8 2146     		mov	r1, r4
 1781 06ea D5F80822 		ldr	r2, [r5, #520]
 1782 06ee 05F50470 		add	r0, r5, #528
 1783              	.LVL84:
 579:Sensor.c      **** 
 1784              		.loc 1 579 2 is_stmt 1 view .LVU571
 579:Sensor.c      **** 
 1785              		.loc 1 579 19 is_stmt 0 view .LVU572
 1786 06f2 FFF7FEFF 		bl	tmc_filterPT1
 1787              	.LVL85:
 581:Sensor.c      **** 	{
 1788              		.loc 1 581 4 view .LVU573
 1789 06f6 A642     		cmp	r6, r4
 579:Sensor.c      **** 
 1790              		.loc 1 579 17 view .LVU574
 1791 06f8 C5F80802 		str	r0, [r5, #520]
 581:Sensor.c      **** 	{
 1792              		.loc 1 581 2 is_stmt 1 view .LVU575
 581:Sensor.c      **** 	{
 1793              		.loc 1 581 4 is_stmt 0 view .LVU576
 1794 06fc 08DD     		ble	.L128
 581:Sensor.c      **** 	{
 1795              		.loc 1 581 48 discriminator 1 view .LVU577
 1796 06fe B96B     		ldr	r1, [r7, #56]
 1797 0700 A142     		cmp	r1, r4
 1798 0702 CCBF     		ite	gt
 1799 0704 0024     		movgt	r4, #0
 1800              	.LVL86:
 581:Sensor.c      **** 	{
 1801              		.loc 1 581 48 discriminator 1 view .LVU578
 1802 0706 0124     		movle	r4, #1
 1803 0708 85F81842 		strb	r4, [r5, #536]
 589:Sensor.c      **** 
 1804              		.loc 1 589 1 discriminator 1 view .LVU579
 1805 070c 03B0     		add	sp, sp, #12
 1806              	.LCFI24:
 1807              		.cfi_remember_state
 1808              		.cfi_def_cfa_offset 20
 1809              		@ sp needed
 1810 070e F0BD     		pop	{r4, r5, r6, r7, pc}
 1811              	.LVL87:
 1812              	.L128:
 1813              	.LCFI25:
 1814              		.cfi_restore_state
 583:Sensor.c      **** 	}
 1815              		.loc 1 583 23 view .LVU580
 1816 0710 0124     		movs	r4, #1
 1817              	.LVL88:
 583:Sensor.c      **** 	}
 1818              		.loc 1 583 23 view .LVU581
 1819 0712 85F81842 		strb	r4, [r5, #536]
 589:Sensor.c      **** 
 1820              		.loc 1 589 1 view .LVU582
 1821 0716 03B0     		add	sp, sp, #12
 1822              	.LCFI26:
 1823              		.cfi_def_cfa_offset 20
 1824              		@ sp needed
 1825 0718 F0BD     		pop	{r4, r5, r6, r7, pc}
 1826              	.LVL89:
 1827              	.L131:
 589:Sensor.c      **** 
 1828              		.loc 1 589 1 view .LVU583
 1829 071a 00BF     		.align	2
 1830              	.L130:
 1831 071c 00000000 		.word	motorConfig
 1832 0720 00000000 		.word	.LANCHOR0
 1833              		.cfi_endproc
 1834              	.LFE19:
 1836              		.align	1
 1837              		.p2align 2,,3
 1838              		.global	sensor_actualMapSpeedTorque
 1839              		.syntax unified
 1840              		.thumb
 1841              		.thumb_func
 1843              	sensor_actualMapSpeedTorque:
 1844              	.LFB20:
 592:Sensor.c      **** 	return m_mapSpeedTorque;
 1845              		.loc 1 592 1 is_stmt 1 view -0
 1846              		.cfi_startproc
 1847              		@ args = 0, pretend = 0, frame = 0
 1848              		@ frame_needed = 0, uses_anonymous_args = 0
 1849              		@ link register save eliminated.
 593:Sensor.c      **** }
 1850              		.loc 1 593 2 view .LVU585
 593:Sensor.c      **** }
 1851              		.loc 1 593 9 is_stmt 0 view .LVU586
 1852 0724 014B     		ldr	r3, .L133
 594:Sensor.c      **** 
 1853              		.loc 1 594 1 view .LVU587
 1854 0726 D3F8E401 		ldr	r0, [r3, #484]
 1855 072a 7047     		bx	lr
 1856              	.L134:
 1857              		.align	2
 1858              	.L133:
 1859 072c 00000000 		.word	.LANCHOR0
 1860              		.cfi_endproc
 1861              	.LFE20:
 1863              		.align	1
 1864              		.p2align 2,,3
 1865              		.global	sensor_actualGain
 1866              		.syntax unified
 1867              		.thumb
 1868              		.thumb_func
 1870              	sensor_actualGain:
 1871              	.LFB21:
 597:Sensor.c      **** 	return m_actualGain;
 1872              		.loc 1 597 1 is_stmt 1 view -0
 1873              		.cfi_startproc
 1874              		@ args = 0, pretend = 0, frame = 0
 1875              		@ frame_needed = 0, uses_anonymous_args = 0
 1876              		@ link register save eliminated.
 598:Sensor.c      **** }
 1877              		.loc 1 598 2 view .LVU589
 598:Sensor.c      **** }
 1878              		.loc 1 598 9 is_stmt 0 view .LVU590
 1879 0730 014B     		ldr	r3, .L136
 599:Sensor.c      **** 
 1880              		.loc 1 599 1 view .LVU591
 1881 0732 B3F91A02 		ldrsh	r0, [r3, #538]
 1882 0736 7047     		bx	lr
 1883              	.L137:
 1884              		.align	2
 1885              	.L136:
 1886 0738 00000000 		.word	.LANCHOR0
 1887              		.cfi_endproc
 1888              	.LFE21:
 1890              		.align	1
 1891              		.p2align 2,,3
 1892              		.global	sensor_actualTorqueLimit
 1893              		.syntax unified
 1894              		.thumb
 1895              		.thumb_func
 1897              	sensor_actualTorqueLimit:
 1898              	.LFB22:
 602:Sensor.c      **** 	return m_actualTorqueLimit;
 1899              		.loc 1 602 1 is_stmt 1 view -0
 1900              		.cfi_startproc
 1901              		@ args = 0, pretend = 0, frame = 0
 1902              		@ frame_needed = 0, uses_anonymous_args = 0
 1903              		@ link register save eliminated.
 603:Sensor.c      **** }
 1904              		.loc 1 603 2 view .LVU593
 603:Sensor.c      **** }
 1905              		.loc 1 603 9 is_stmt 0 view .LVU594
 1906 073c 014B     		ldr	r3, .L139
 604:Sensor.c      **** 
 1907              		.loc 1 604 1 view .LVU595
 1908 073e 93F81802 		ldrb	r0, [r3, #536]	@ zero_extendqisi2
 1909 0742 7047     		bx	lr
 1910              	.L140:
 1911              		.align	2
 1912              	.L139:
 1913 0744 00000000 		.word	.LANCHOR0
 1914              		.cfi_endproc
 1915              	.LFE22:
 1917              		.align	1
 1918              		.p2align 2,,3
 1919              		.global	sensor_leftPedalTorque
 1920              		.syntax unified
 1921              		.thumb
 1922              		.thumb_func
 1924              	sensor_leftPedalTorque:
 1925              	.LFB23:
 607:Sensor.c      **** 	return m_leftPedalTorque;
 1926              		.loc 1 607 1 is_stmt 1 view -0
 1927              		.cfi_startproc
 1928              		@ args = 0, pretend = 0, frame = 0
 1929              		@ frame_needed = 0, uses_anonymous_args = 0
 1930              		@ link register save eliminated.
 608:Sensor.c      **** }
 1931              		.loc 1 608 2 view .LVU597
 608:Sensor.c      **** }
 1932              		.loc 1 608 9 is_stmt 0 view .LVU598
 1933 0748 014B     		ldr	r3, .L142
 609:Sensor.c      **** 
 1934              		.loc 1 609 1 view .LVU599
 1935 074a B3F81C02 		ldrh	r0, [r3, #540]
 1936 074e 7047     		bx	lr
 1937              	.L143:
 1938              		.align	2
 1939              	.L142:
 1940 0750 00000000 		.word	.LANCHOR0
 1941              		.cfi_endproc
 1942              	.LFE23:
 1944              		.align	1
 1945              		.p2align 2,,3
 1946              		.global	sensor_rightPedalTorque
 1947              		.syntax unified
 1948              		.thumb
 1949              		.thumb_func
 1951              	sensor_rightPedalTorque:
 1952              	.LFB24:
 612:Sensor.c      **** 	return m_rightPedalTorque;
 1953              		.loc 1 612 1 is_stmt 1 view -0
 1954              		.cfi_startproc
 1955              		@ args = 0, pretend = 0, frame = 0
 1956              		@ frame_needed = 0, uses_anonymous_args = 0
 1957              		@ link register save eliminated.
 613:Sensor.c      **** }
 1958              		.loc 1 613 2 view .LVU601
 613:Sensor.c      **** }
 1959              		.loc 1 613 9 is_stmt 0 view .LVU602
 1960 0754 014B     		ldr	r3, .L145
 614:Sensor.c      **** 
 1961              		.loc 1 614 1 view .LVU603
 1962 0756 B3F81E02 		ldrh	r0, [r3, #542]
 1963 075a 7047     		bx	lr
 1964              	.L146:
 1965              		.align	2
 1966              	.L145:
 1967 075c 00000000 		.word	.LANCHOR0
 1968              		.cfi_endproc
 1969              	.LFE24:
 1971              		.align	1
 1972              		.p2align 2,,3
 1973              		.global	sensor_targetpedalTorque
 1974              		.syntax unified
 1975              		.thumb
 1976              		.thumb_func
 1978              	sensor_targetpedalTorque:
 1979              	.LFB25:
 617:Sensor.c      **** 	return sensor_motorAssistance();
 1980              		.loc 1 617 1 is_stmt 1 view -0
 1981              		.cfi_startproc
 1982              		@ args = 0, pretend = 0, frame = 0
 1983              		@ frame_needed = 0, uses_anonymous_args = 0
 1984              		@ link register save eliminated.
 618:Sensor.c      **** }
 1985              		.loc 1 618 2 view .LVU605
 618:Sensor.c      **** }
 1986              		.loc 1 618 9 is_stmt 0 view .LVU606
 1987 0760 FFF7FEBF 		b	sensor_motorAssistance
 1988              	.LVL90:
 1989              		.cfi_endproc
 1990              	.LFE25:
 1992              		.align	1
 1993              		.p2align 2,,3
 1994              		.global	sensor_pedalVelocity
 1995              		.syntax unified
 1996              		.thumb
 1997              		.thumb_func
 1999              	sensor_pedalVelocity:
 2000              	.LFB26:
 622:Sensor.c      **** 	return m_pedalVelocity;
 2001              		.loc 1 622 1 is_stmt 1 view -0
 2002              		.cfi_startproc
 2003              		@ args = 0, pretend = 0, frame = 0
 2004              		@ frame_needed = 0, uses_anonymous_args = 0
 2005              		@ link register save eliminated.
 623:Sensor.c      **** }
 2006              		.loc 1 623 2 view .LVU608
 623:Sensor.c      **** }
 2007              		.loc 1 623 9 is_stmt 0 view .LVU609
 2008 0764 014B     		ldr	r3, .L149
 624:Sensor.c      **** 
 2009              		.loc 1 624 1 view .LVU610
 2010 0766 D3F8A801 		ldr	r0, [r3, #424]
 2011 076a 7047     		bx	lr
 2012              	.L150:
 2013              		.align	2
 2014              	.L149:
 2015 076c 00000000 		.word	.LANCHOR0
 2016              		.cfi_endproc
 2017              	.LFE26:
 2019              		.align	1
 2020              		.p2align 2,,3
 2021              		.global	sensor_filteredPedalVelocity
 2022              		.syntax unified
 2023              		.thumb
 2024              		.thumb_func
 2026              	sensor_filteredPedalVelocity:
 2027              	.LFB27:
 627:Sensor.c      **** 	return m_filteredActualPedalVelocity;
 2028              		.loc 1 627 1 is_stmt 1 view -0
 2029              		.cfi_startproc
 2030              		@ args = 0, pretend = 0, frame = 0
 2031              		@ frame_needed = 0, uses_anonymous_args = 0
 2032              		@ link register save eliminated.
 628:Sensor.c      **** }
 2033              		.loc 1 628 2 view .LVU612
 628:Sensor.c      **** }
 2034              		.loc 1 628 9 is_stmt 0 view .LVU613
 2035 0770 014B     		ldr	r3, .L152
 629:Sensor.c      **** 
 2036              		.loc 1 629 1 view .LVU614
 2037 0772 D3F82002 		ldr	r0, [r3, #544]
 2038 0776 7047     		bx	lr
 2039              	.L153:
 2040              		.align	2
 2041              	.L152:
 2042 0778 00000000 		.word	.LANCHOR0
 2043              		.cfi_endproc
 2044              	.LFE27:
 2046              		.align	1
 2047              		.p2align 2,,3
 2048              		.global	sensor_filteredPedalVelocityFast
 2049              		.syntax unified
 2050              		.thumb
 2051              		.thumb_func
 2053              	sensor_filteredPedalVelocityFast:
 2054              	.LFB28:
 632:Sensor.c      **** 	return m_filteredActualPedalVelocitySwift;
 2055              		.loc 1 632 1 is_stmt 1 view -0
 2056              		.cfi_startproc
 2057              		@ args = 0, pretend = 0, frame = 0
 2058              		@ frame_needed = 0, uses_anonymous_args = 0
 2059              		@ link register save eliminated.
 633:Sensor.c      **** }
 2060              		.loc 1 633 2 view .LVU616
 633:Sensor.c      **** }
 2061              		.loc 1 633 9 is_stmt 0 view .LVU617
 2062 077c 014B     		ldr	r3, .L155
 634:Sensor.c      **** 
 2063              		.loc 1 634 1 view .LVU618
 2064 077e D3F8AC01 		ldr	r0, [r3, #428]
 2065 0782 7047     		bx	lr
 2066              	.L156:
 2067              		.align	2
 2068              	.L155:
 2069 0784 00000000 		.word	.LANCHOR0
 2070              		.cfi_endproc
 2071              	.LFE28:
 2073              		.align	1
 2074              		.p2align 2,,3
 2075              		.global	sensor_pedalDirection
 2076              		.syntax unified
 2077              		.thumb
 2078              		.thumb_func
 2080              	sensor_pedalDirection:
 2081              	.LFB29:
 637:Sensor.c      **** 	return m_pedalDirection;
 2082              		.loc 1 637 1 is_stmt 1 view -0
 2083              		.cfi_startproc
 2084              		@ args = 0, pretend = 0, frame = 0
 2085              		@ frame_needed = 0, uses_anonymous_args = 0
 2086              		@ link register save eliminated.
 638:Sensor.c      **** }
 2087              		.loc 1 638 2 view .LVU620
 638:Sensor.c      **** }
 2088              		.loc 1 638 9 is_stmt 0 view .LVU621
 2089 0788 014B     		ldr	r3, .L158
 639:Sensor.c      **** 
 2090              		.loc 1 639 1 view .LVU622
 2091 078a 93F9B801 		ldrsb	r0, [r3, #440]
 2092 078e 7047     		bx	lr
 2093              	.L159:
 2094              		.align	2
 2095              	.L158:
 2096 0790 00000000 		.word	.LANCHOR0
 2097              		.cfi_endproc
 2098              	.LFE29:
 2100              		.align	1
 2101              		.p2align 2,,3
 2102              		.global	sensor_pedalMotorEnable
 2103              		.syntax unified
 2104              		.thumb
 2105              		.thumb_func
 2107              	sensor_pedalMotorEnable:
 2108              	.LFB30:
 642:Sensor.c      **** 	return m_pedalMotorEnable;
 2109              		.loc 1 642 1 is_stmt 1 view -0
 2110              		.cfi_startproc
 2111              		@ args = 0, pretend = 0, frame = 0
 2112              		@ frame_needed = 0, uses_anonymous_args = 0
 2113              		@ link register save eliminated.
 643:Sensor.c      **** }
 2114              		.loc 1 643 2 view .LVU624
 643:Sensor.c      **** }
 2115              		.loc 1 643 9 is_stmt 0 view .LVU625
 2116 0794 014B     		ldr	r3, .L161
 644:Sensor.c      **** 
 2117              		.loc 1 644 1 view .LVU626
 2118 0796 93F9F001 		ldrsb	r0, [r3, #496]
 2119 079a 7047     		bx	lr
 2120              	.L162:
 2121              		.align	2
 2122              	.L161:
 2123 079c 00000000 		.word	.LANCHOR0
 2124              		.cfi_endproc
 2125              	.LFE30:
 2127              		.align	1
 2128              		.p2align 2,,3
 2129              		.global	sensor_averageTorque
 2130              		.syntax unified
 2131              		.thumb
 2132              		.thumb_func
 2134              	sensor_averageTorque:
 2135              	.LFB31:
 647:Sensor.c      **** 	return m_averageTorque;
 2136              		.loc 1 647 1 is_stmt 1 view -0
 2137              		.cfi_startproc
 2138              		@ args = 0, pretend = 0, frame = 0
 2139              		@ frame_needed = 0, uses_anonymous_args = 0
 2140              		@ link register save eliminated.
 648:Sensor.c      **** }
 2141              		.loc 1 648 2 view .LVU628
 648:Sensor.c      **** }
 2142              		.loc 1 648 9 is_stmt 0 view .LVU629
 2143 07a0 014B     		ldr	r3, .L164
 649:Sensor.c      **** 
 2144              		.loc 1 649 1 view .LVU630
 2145 07a2 D3F82402 		ldr	r0, [r3, #548]
 2146 07a6 7047     		bx	lr
 2147              	.L165:
 2148              		.align	2
 2149              	.L164:
 2150 07a8 00000000 		.word	.LANCHOR0
 2151              		.cfi_endproc
 2152              	.LFE31:
 2154              		.align	1
 2155              		.p2align 2,,3
 2156              		.global	sensor_motorVelocity
 2157              		.syntax unified
 2158              		.thumb
 2159              		.thumb_func
 2161              	sensor_motorVelocity:
 2162              	.LFB32:
 652:Sensor.c      **** 	return m_motorVelocity;
 2163              		.loc 1 652 1 is_stmt 1 view -0
 2164              		.cfi_startproc
 2165              		@ args = 0, pretend = 0, frame = 0
 2166              		@ frame_needed = 0, uses_anonymous_args = 0
 2167              		@ link register save eliminated.
 653:Sensor.c      **** }
 2168              		.loc 1 653 2 view .LVU632
 653:Sensor.c      **** }
 2169              		.loc 1 653 9 is_stmt 0 view .LVU633
 2170 07ac 014B     		ldr	r3, .L167
 654:Sensor.c      **** 
 2171              		.loc 1 654 1 view .LVU634
 2172 07ae D3F8BC01 		ldr	r0, [r3, #444]
 2173 07b2 7047     		bx	lr
 2174              	.L168:
 2175              		.align	2
 2176              	.L167:
 2177 07b4 00000000 		.word	.LANCHOR0
 2178              		.cfi_endproc
 2179              	.LFE32:
 2181              		.align	1
 2182              		.p2align 2,,3
 2183              		.global	sensor_wheelMotorVelocity
 2184              		.syntax unified
 2185              		.thumb
 2186              		.thumb_func
 2188              	sensor_wheelMotorVelocity:
 2189              	.LFB33:
 657:Sensor.c      **** 	return m_wheelMotorVelocity;
 2190              		.loc 1 657 1 is_stmt 1 view -0
 2191              		.cfi_startproc
 2192              		@ args = 0, pretend = 0, frame = 0
 2193              		@ frame_needed = 0, uses_anonymous_args = 0
 2194              		@ link register save eliminated.
 658:Sensor.c      **** }
 2195              		.loc 1 658 2 view .LVU636
 658:Sensor.c      **** }
 2196              		.loc 1 658 9 is_stmt 0 view .LVU637
 2197 07b8 014B     		ldr	r3, .L170
 659:Sensor.c      **** 
 2198              		.loc 1 659 1 view .LVU638
 2199 07ba D3F8CC01 		ldr	r0, [r3, #460]
 2200 07be 7047     		bx	lr
 2201              	.L171:
 2202              		.align	2
 2203              	.L170:
 2204 07c0 00000000 		.word	.LANCHOR0
 2205              		.cfi_endproc
 2206              	.LFE33:
 2208              		.align	1
 2209              		.p2align 2,,3
 2210              		.global	sensor_wheelVelocity
 2211              		.syntax unified
 2212              		.thumb
 2213              		.thumb_func
 2215              	sensor_wheelVelocity:
 2216              	.LFB34:
 662:Sensor.c      **** 	return m_wheelVelocity;
 2217              		.loc 1 662 1 is_stmt 1 view -0
 2218              		.cfi_startproc
 2219              		@ args = 0, pretend = 0, frame = 0
 2220              		@ frame_needed = 0, uses_anonymous_args = 0
 2221              		@ link register save eliminated.
 663:Sensor.c      **** }
 2222              		.loc 1 663 2 view .LVU640
 663:Sensor.c      **** }
 2223              		.loc 1 663 9 is_stmt 0 view .LVU641
 2224 07c4 014B     		ldr	r3, .L173
 664:Sensor.c      **** 
 2225              		.loc 1 664 1 view .LVU642
 2226 07c6 D3F8E001 		ldr	r0, [r3, #480]
 2227 07ca 7047     		bx	lr
 2228              	.L174:
 2229              		.align	2
 2230              	.L173:
 2231 07cc 00000000 		.word	.LANCHOR0
 2232              		.cfi_endproc
 2233              	.LFE34:
 2235              		.align	1
 2236              		.p2align 2,,3
 2237              		.global	wheelSensorDiff
 2238              		.syntax unified
 2239              		.thumb
 2240              		.thumb_func
 2242              	wheelSensorDiff:
 2243              	.LVL91:
 2244              	.LFB35:
 667:Sensor.c      **** 	switch (previousState)
 2245              		.loc 1 667 1 is_stmt 1 view -0
 2246              		.cfi_startproc
 2247              		@ args = 0, pretend = 0, frame = 0
 2248              		@ frame_needed = 0, uses_anonymous_args = 0
 2249              		@ link register save eliminated.
 668:Sensor.c      **** 	{
 2250              		.loc 1 668 2 view .LVU644
 2251              		.loc 1 671 4 view .LVU645
 668:Sensor.c      **** 	{
 2252              		.loc 1 668 2 is_stmt 0 view .LVU646
 2253 07d0 0128     		cmp	r0, #1
 2254              		.loc 1 671 34 view .LVU647
 2255 07d2 06BF     		itte	eq
 2256 07d4 B1FA81F0 		clzeq	r0, r1
 2257              	.LVL92:
 2258              		.loc 1 671 34 view .LVU648
 2259 07d8 4009     		lsreq	r0, r0, #5
 672:Sensor.c      **** 			break;
 673:Sensor.c      **** 	}
 674:Sensor.c      **** 	return 0;
 2260              		.loc 1 674 9 view .LVU649
 2261 07da 0020     		movne	r0, #0
 675:Sensor.c      **** }
 2262              		.loc 1 675 1 view .LVU650
 2263 07dc 7047     		bx	lr
 2264              		.cfi_endproc
 2265              	.LFE35:
 2267              		.align	1
 2268 07de 00BF     		.p2align 2,,3
 2269              		.global	bottomBracketDiff
 2270              		.syntax unified
 2271              		.thumb
 2272              		.thumb_func
 2274              	bottomBracketDiff:
 2275              	.LVL93:
 2276              	.LFB36:
 676:Sensor.c      **** 
 677:Sensor.c      **** int bottomBracketDiff(u8 previousState, u8 actualState)
 678:Sensor.c      **** {
 2277              		.loc 1 678 1 is_stmt 1 view -0
 2278              		.cfi_startproc
 2279              		@ args = 0, pretend = 0, frame = 0
 2280              		@ frame_needed = 0, uses_anonymous_args = 0
 2281              		@ link register save eliminated.
 679:Sensor.c      **** 	switch(previousState)
 2282              		.loc 1 679 2 view .LVU652
 2283 07e0 0328     		cmp	r0, #3
 2284 07e2 23D8     		bhi	.L185
 2285 07e4 DFE800F0 		tbb	[pc, r0]
 2286              	.L181:
 2287 07e8 18       		.byte	(.L184-.L181)/2
 2288 07e9 11       		.byte	(.L183-.L181)/2
 2289 07ea 0A       		.byte	(.L182-.L181)/2
 2290 07eb 02       		.byte	(.L180-.L181)/2
 2291              		.p2align 1
 2292              	.L180:
 680:Sensor.c      **** 	{
 681:Sensor.c      **** 		case 0:
 682:Sensor.c      **** 			if(actualState==1)
 683:Sensor.c      **** 			{
 684:Sensor.c      **** 				return 1;
 685:Sensor.c      **** 			}
 686:Sensor.c      **** 			else if(actualState==2)
 687:Sensor.c      **** 			{
 688:Sensor.c      **** 				return -1;
 689:Sensor.c      **** 			}
 690:Sensor.c      **** 			break;
 691:Sensor.c      **** 		case 1:
 692:Sensor.c      **** 			if(actualState==3)
 693:Sensor.c      **** 			{
 694:Sensor.c      **** 				return 1;
 695:Sensor.c      **** 			}
 696:Sensor.c      **** 			else if(actualState==0)
 697:Sensor.c      **** 			{
 698:Sensor.c      **** 				return -1;
 699:Sensor.c      **** 			}
 700:Sensor.c      **** 			break;
 701:Sensor.c      **** 		case 3:
 702:Sensor.c      **** 			if(actualState==2)
 2293              		.loc 1 702 4 view .LVU653
 2294              		.loc 1 702 6 is_stmt 0 view .LVU654
 2295 07ec 0229     		cmp	r1, #2
 2296 07ee 1BD0     		beq	.L189
 703:Sensor.c      **** 			{
 704:Sensor.c      **** 				return 1;
 705:Sensor.c      **** 			}
 706:Sensor.c      **** 			else if(actualState==1)
 2297              		.loc 1 706 9 is_stmt 1 view .LVU655
 2298              		.loc 1 706 11 is_stmt 0 view .LVU656
 2299 07f0 0129     		cmp	r1, #1
 2300 07f2 4FF0FF30 		mov	r0, #-1
 2301              	.LVL94:
 2302              		.loc 1 706 11 view .LVU657
 2303 07f6 18BF     		it	ne
 2304 07f8 0020     		movne	r0, #0
 2305 07fa 7047     		bx	lr
 2306              	.LVL95:
 2307              	.L182:
 707:Sensor.c      **** 			{
 708:Sensor.c      **** 				return -1;
 709:Sensor.c      **** 			}
 710:Sensor.c      **** 			break;
 711:Sensor.c      **** 		case 2:
 712:Sensor.c      **** 			if(actualState==0)
 2308              		.loc 1 712 4 is_stmt 1 view .LVU658
 2309              		.loc 1 712 6 is_stmt 0 view .LVU659
 2310 07fc A1B1     		cbz	r1, .L189
 713:Sensor.c      **** 			{
 714:Sensor.c      **** 				return 1;
 715:Sensor.c      **** 			}
 716:Sensor.c      **** 			else if(actualState==3)
 2311              		.loc 1 716 9 is_stmt 1 view .LVU660
 2312              		.loc 1 716 11 is_stmt 0 view .LVU661
 2313 07fe 0329     		cmp	r1, #3
 2314 0800 4FF0FF30 		mov	r0, #-1
 2315              	.LVL96:
 2316              		.loc 1 716 11 view .LVU662
 2317 0804 18BF     		it	ne
 2318 0806 0020     		movne	r0, #0
 2319 0808 7047     		bx	lr
 2320              	.LVL97:
 2321              	.L183:
 692:Sensor.c      **** 			{
 2322              		.loc 1 692 4 is_stmt 1 view .LVU663
 692:Sensor.c      **** 			{
 2323              		.loc 1 692 6 is_stmt 0 view .LVU664
 2324 080a 0329     		cmp	r1, #3
 2325 080c 0CD0     		beq	.L189
 696:Sensor.c      **** 			{
 2326              		.loc 1 696 9 is_stmt 1 view .LVU665
 696:Sensor.c      **** 			{
 2327              		.loc 1 696 11 is_stmt 0 view .LVU666
 2328 080e B1FA81F1 		clz	r1, r1
 2329              	.LVL98:
 696:Sensor.c      **** 			{
 2330              		.loc 1 696 11 view .LVU667
 2331 0812 4909     		lsrs	r1, r1, #5
 2332 0814 4842     		rsbs	r0, r1, #0
 2333              	.LVL99:
 696:Sensor.c      **** 			{
 2334              		.loc 1 696 11 view .LVU668
 2335 0816 7047     		bx	lr
 2336              	.LVL100:
 2337              	.L184:
 682:Sensor.c      **** 			{
 2338              		.loc 1 682 4 is_stmt 1 view .LVU669
 682:Sensor.c      **** 			{
 2339              		.loc 1 682 6 is_stmt 0 view .LVU670
 2340 0818 0129     		cmp	r1, #1
 2341 081a 05D0     		beq	.L189
 686:Sensor.c      **** 			{
 2342              		.loc 1 686 9 is_stmt 1 view .LVU671
 686:Sensor.c      **** 			{
 2343              		.loc 1 686 11 is_stmt 0 view .LVU672
 2344 081c 0229     		cmp	r1, #2
 2345 081e 4FF0FF30 		mov	r0, #-1
 2346              	.LVL101:
 686:Sensor.c      **** 			{
 2347              		.loc 1 686 11 view .LVU673
 2348 0822 18BF     		it	ne
 2349 0824 0020     		movne	r0, #0
 2350 0826 7047     		bx	lr
 2351              	.LVL102:
 2352              	.L189:
 684:Sensor.c      **** 			}
 2353              		.loc 1 684 12 view .LVU674
 2354 0828 0120     		movs	r0, #1
 2355              	.LVL103:
 717:Sensor.c      **** 			{
 718:Sensor.c      **** 				return -1;
 719:Sensor.c      **** 			}
 720:Sensor.c      **** 			break;
 721:Sensor.c      **** 	}
 722:Sensor.c      **** 	return 0;
 723:Sensor.c      **** }
 2356              		.loc 1 723 1 view .LVU675
 2357 082a 7047     		bx	lr
 2358              	.LVL104:
 2359              	.L185:
 679:Sensor.c      **** 	{
 2360              		.loc 1 679 2 view .LVU676
 2361 082c 0020     		movs	r0, #0
 2362              	.LVL105:
 679:Sensor.c      **** 	{
 2363              		.loc 1 679 2 view .LVU677
 2364 082e 7047     		bx	lr
 2365              		.cfi_endproc
 2366              	.LFE36:
 2368              		.align	1
 2369              		.p2align 2,,3
 2370              		.global	sensor_updatePedalCounter
 2371              		.syntax unified
 2372              		.thumb
 2373              		.thumb_func
 2375              	sensor_updatePedalCounter:
 2376              	.LFB6:
 167:Sensor.c      **** 	// update pedal counter
 2377              		.loc 1 167 1 is_stmt 1 view -0
 2378              		.cfi_startproc
 2379              		@ args = 0, pretend = 0, frame = 8
 2380              		@ frame_needed = 0, uses_anonymous_args = 0
 169:Sensor.c      **** 	m_pedalDirectionCounter = bottomBracketDiff(pedalCounterPrev, pedalCounterActual);
 2381              		.loc 1 169 2 view .LVU679
 167:Sensor.c      **** 	// update pedal counter
 2382              		.loc 1 167 1 is_stmt 0 view .LVU680
 2383 0830 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2384              	.LCFI27:
 2385              		.cfi_def_cfa_offset 36
 2386              		.cfi_offset 4, -36
 2387              		.cfi_offset 5, -32
 2388              		.cfi_offset 6, -28
 2389              		.cfi_offset 7, -24
 2390              		.cfi_offset 8, -20
 2391              		.cfi_offset 9, -16
 2392              		.cfi_offset 10, -12
 2393              		.cfi_offset 11, -8
 2394              		.cfi_offset 14, -4
 2395 0834 85B0     		sub	sp, sp, #20
 2396              	.LCFI28:
 2397              		.cfi_def_cfa_offset 56
 169:Sensor.c      **** 	m_pedalDirectionCounter = bottomBracketDiff(pedalCounterPrev, pedalCounterActual);
 2398              		.loc 1 169 26 view .LVU681
 2399 0836 FFF7FEFF 		bl	tmcm_getSinCosValue
 2400              	.LVL106:
 2401 083a 0246     		mov	r2, r0
 170:Sensor.c      **** 
 2402              		.loc 1 170 28 view .LVU682
 2403 083c 9D4C     		ldr	r4, .L222
 2404 083e 1146     		mov	r1, r2
 2405 0840 94F82802 		ldrb	r0, [r4, #552]	@ zero_extendqisi2
 2406              	.LVL107:
 170:Sensor.c      **** 
 2407              		.loc 1 170 2 is_stmt 1 view .LVU683
 170:Sensor.c      **** 
 2408              		.loc 1 170 28 is_stmt 0 view .LVU684
 2409 0844 FFF7FEFF 		bl	bottomBracketDiff
 2410              	.LVL108:
 172:Sensor.c      **** 	if (m_pedalCounter < 0)
 2411              		.loc 1 172 17 view .LVU685
 2412 0848 D4F89C11 		ldr	r1, [r4, #412]
 170:Sensor.c      **** 
 2413              		.loc 1 170 26 view .LVU686
 2414 084c 43B2     		sxtb	r3, r0
 2415 084e 84F82C32 		strb	r3, [r4, #556]
 172:Sensor.c      **** 	if (m_pedalCounter < 0)
 2416              		.loc 1 172 2 is_stmt 1 view .LVU687
 173:Sensor.c      **** 	{
 2417              		.loc 1 173 2 view .LVU688
 173:Sensor.c      **** 	{
 2418              		.loc 1 173 5 is_stmt 0 view .LVU689
 2419 0852 5B18     		adds	r3, r3, r1
 175:Sensor.c      **** 	}
 2420              		.loc 1 175 18 view .LVU690
 2421 0854 44BF     		itt	mi
 2422 0856 0021     		movmi	r1, #0
 2423 0858 0B46     		movmi	r3, r1
 181:Sensor.c      **** 	if ((m_pedalPosition < 0) && (m_pedalPosition >= motorConfig.pedalPulsesPerRotation))
 2424              		.loc 1 181 58 view .LVU691
 2425 085a 974E     		ldr	r6, .L222+4
 178:Sensor.c      **** 
 2426              		.loc 1 178 19 view .LVU692
 2427 085c C4F82822 		str	r2, [r4, #552]
 181:Sensor.c      **** 	if ((m_pedalPosition < 0) && (m_pedalPosition >= motorConfig.pedalPulsesPerRotation))
 2428              		.loc 1 181 58 view .LVU693
 2429 0860 3288     		ldrh	r2, [r6]
 2430              	.LVL109:
 172:Sensor.c      **** 	if (m_pedalCounter < 0)
 2431              		.loc 1 172 17 view .LVU694
 2432 0862 58BF     		it	pl
 2433 0864 C4F89C31 		strpl	r3, [r4, #412]
 175:Sensor.c      **** 	}
 2434              		.loc 1 175 3 is_stmt 1 view .LVU695
 178:Sensor.c      **** 
 2435              		.loc 1 178 2 view .LVU696
 181:Sensor.c      **** 	if ((m_pedalPosition < 0) && (m_pedalPosition >= motorConfig.pedalPulsesPerRotation))
 2436              		.loc 1 181 2 view .LVU697
 181:Sensor.c      **** 	if ((m_pedalPosition < 0) && (m_pedalPosition >= motorConfig.pedalPulsesPerRotation))
 2437              		.loc 1 181 40 is_stmt 0 view .LVU698
 2438 0868 B3FBF2F0 		udiv	r0, r3, r2
 2439 086c 02FB1033 		mls	r3, r2, r0, r3
 175:Sensor.c      **** 	}
 2440              		.loc 1 175 18 view .LVU699
 2441 0870 48BF     		it	mi
 2442 0872 C4F89C11 		strmi	r1, [r4, #412]
 187:Sensor.c      **** 	{
 2443              		.loc 1 187 29 view .LVU700
 2444 0876 9A42     		cmp	r2, r3
 2445 0878 9346     		mov	fp, r2
 181:Sensor.c      **** 	if ((m_pedalPosition < 0) && (m_pedalPosition >= motorConfig.pedalPulsesPerRotation))
 2446              		.loc 1 181 18 view .LVU701
 2447 087a C4F8A031 		str	r3, [r4, #416]
 182:Sensor.c      **** 	{
 2448              		.loc 1 182 2 is_stmt 1 view .LVU702
 187:Sensor.c      **** 	{
 2449              		.loc 1 187 2 view .LVU703
 187:Sensor.c      **** 	{
 2450              		.loc 1 187 29 is_stmt 0 view .LVU704
 2451 087e 40F2B780 		bls	.L190
 2452              	.LBB24:
 190:Sensor.c      **** 		if (index >= motorConfig.pedalPulsesPerRotation)
 2453              		.loc 1 190 3 is_stmt 1 view .LVU705
 190:Sensor.c      **** 		if (index >= motorConfig.pedalPulsesPerRotation)
 2454              		.loc 1 190 74 is_stmt 0 view .LVU706
 2455 0882 5108     		lsrs	r1, r2, #1
 196:Sensor.c      **** 		if (pedalTorque < 0)
 2456              		.loc 1 196 32 view .LVU707
 2457 0884 F088     		ldrh	r0, [r6, #6]
 190:Sensor.c      **** 		if (index >= motorConfig.pedalPulsesPerRotation)
 2458              		.loc 1 190 74 view .LVU708
 2459 0886 0291     		str	r1, [sp, #8]
 196:Sensor.c      **** 		if (pedalTorque < 0)
 2460              		.loc 1 196 7 view .LVU709
 2461 0888 D4F88411 		ldr	r1, [r4, #388]
 190:Sensor.c      **** 		if (index >= motorConfig.pedalPulsesPerRotation)
 2462              		.loc 1 190 7 view .LVU710
 2463 088c 03EB520C 		add	ip, r3, r2, lsr #1
 2464              	.LVL110:
 191:Sensor.c      **** 		{
 2465              		.loc 1 191 3 is_stmt 1 view .LVU711
 196:Sensor.c      **** 		if (pedalTorque < 0)
 2466              		.loc 1 196 7 is_stmt 0 view .LVU712
 2467 0890 411A     		subs	r1, r0, r1
 204:Sensor.c      **** 		{
 2468              		.loc 1 204 30 view .LVU713
 2469 0892 B6F90400 		ldrsh	r0, [r6, #4]
 2470 0896 21EAE171 		bic	r1, r1, r1, asr #31
 204:Sensor.c      **** 		{
 2471              		.loc 1 204 18 view .LVU714
 2472 089a 01FB00FE 		mul	lr, r1, r0
 204:Sensor.c      **** 		{
 2473              		.loc 1 204 67 view .LVU715
 2474 089e B56B     		ldr	r5, [r6, #56]
 191:Sensor.c      **** 		{
 2475              		.loc 1 191 6 view .LVU716
 2476 08a0 6245     		cmp	r2, ip
 193:Sensor.c      **** 		}
 2477              		.loc 1 193 4 is_stmt 1 view .LVU717
 201:Sensor.c      **** 
 2478              		.loc 1 201 41 is_stmt 0 view .LVU718
 2479 08a2 04EB4308 		add	r8, r4, r3, lsl #1
 193:Sensor.c      **** 		}
 2480              		.loc 1 193 10 view .LVU719
 2481 08a6 D8BF     		it	le
 2482 08a8 ACEB020C 		suble	ip, ip, r2
 2483              	.LVL111:
 196:Sensor.c      **** 		if (pedalTorque < 0)
 2484              		.loc 1 196 3 is_stmt 1 view .LVU720
 197:Sensor.c      **** 			pedalTorque = 0;
 2485              		.loc 1 197 3 view .LVU721
 201:Sensor.c      **** 
 2486              		.loc 1 201 3 view .LVU722
 201:Sensor.c      **** 
 2487              		.loc 1 201 41 is_stmt 0 view .LVU723
 2488 08ac 5F00     		lsls	r7, r3, #1
 204:Sensor.c      **** 		{
 2489              		.loc 1 204 5 view .LVU724
 2490 08ae AE45     		cmp	lr, r5
 201:Sensor.c      **** 
 2491              		.loc 1 201 41 view .LVU725
 2492 08b0 A8F88410 		strh	r1, [r8, #132]	@ movhi
 204:Sensor.c      **** 		{
 2493              		.loc 1 204 3 is_stmt 1 view .LVU726
 201:Sensor.c      **** 
 2494              		.loc 1 201 41 is_stmt 0 view .LVU727
 2495 08b4 0297     		str	r7, [sp, #8]
 204:Sensor.c      **** 		{
 2496              		.loc 1 204 109 view .LVU728
 2497 08b6 D4F8CC81 		ldr	r8, [r4, #460]
 204:Sensor.c      **** 		{
 2498              		.loc 1 204 5 view .LVU729
 2499 08ba 04DB     		blt	.L196
 204:Sensor.c      **** 		{
 2500              		.loc 1 204 84 discriminator 1 view .LVU730
 2501 08bc B8F1280F 		cmp	r8, #40
 206:Sensor.c      **** 		}
 2502              		.loc 1 206 4 is_stmt 1 discriminator 1 view .LVU731
 206:Sensor.c      **** 		}
 2503              		.loc 1 206 44 is_stmt 0 discriminator 1 view .LVU732
 2504 08c0 D8BF     		it	le
 2505 08c2 B5FBF0F1 		udivle	r1, r5, r0
 2506              	.LVL112:
 2507              	.L196:
 210:Sensor.c      **** 		{
 2508              		.loc 1 210 3 is_stmt 1 view .LVU733
 210:Sensor.c      **** 		{
 2509              		.loc 1 210 44 is_stmt 0 view .LVU734
 2510 08c6 D4F83002 		ldr	r0, [r4, #560]
 2511 08ca 0138     		subs	r0, r0, #1
 210:Sensor.c      **** 		{
 2512              		.loc 1 210 5 view .LVU735
 2513 08cc 8342     		cmp	r3, r0
 2514 08ce 00F09280 		beq	.L197
 227:Sensor.c      **** 		{
 2515              		.loc 1 227 23 view .LVU736
 2516 08d2 94F934E2 		ldrsb	lr, [r4, #564]
 2517              	.L198:
 219:Sensor.c      **** 		{
 2518              		.loc 1 219 3 is_stmt 1 view .LVU737
 219:Sensor.c      **** 		{
 2519              		.loc 1 219 5 is_stmt 0 view .LVU738
 2520 08d6 B8F1000F 		cmp	r8, #0
 2521 08da 06D1     		bne	.L199
 219:Sensor.c      **** 		{
 2522              		.loc 1 219 34 discriminator 1 view .LVU739
 2523 08dc 3569     		ldr	r5, [r6, #16]
 2524 08de D4F8E001 		ldr	r0, [r4, #480]
 2525 08e2 8542     		cmp	r5, r0
 221:Sensor.c      **** 		}
 2526              		.loc 1 221 4 is_stmt 1 discriminator 1 view .LVU740
 221:Sensor.c      **** 		}
 2527              		.loc 1 221 30 is_stmt 0 discriminator 1 view .LVU741
 2528 08e4 A8BF     		it	ge
 2529 08e6 84F83582 		strbge	r8, [r4, #565]
 2530              	.L199:
 225:Sensor.c      **** 
 2531              		.loc 1 225 3 is_stmt 1 view .LVU742
 227:Sensor.c      **** 		{
 2532              		.loc 1 227 23 is_stmt 0 view .LVU743
 2533 08ea 7746     		mov	r7, lr
 225:Sensor.c      **** 
 2534              		.loc 1 225 67 view .LVU744
 2535 08ec 307D     		ldrb	r0, [r6, #20]	@ zero_extendqisi2
 227:Sensor.c      **** 		{
 2536              		.loc 1 227 23 view .LVU745
 2537 08ee CDF80CE0 		str	lr, [sp, #12]
 225:Sensor.c      **** 
 2538              		.loc 1 225 55 view .LVU746
 2539 08f2 01FB00F8 		mul	r8, r1, r0
 225:Sensor.c      **** 
 2540              		.loc 1 225 83 view .LVU747
 2541 08f6 DFF8C4E1 		ldr	lr, .L222+8
 225:Sensor.c      **** 
 2542              		.loc 1 225 41 view .LVU748
 2543 08fa 5D00     		lsls	r5, r3, #1
 225:Sensor.c      **** 
 2544              		.loc 1 225 83 view .LVU749
 2545 08fc 8EFB08A9 		smull	r10, r9, lr, r8
 2546 0900 4FEAE878 		asr	r8, r8, #31
 2547 0904 C8EB6918 		rsb	r8, r8, r9, asr #5
 225:Sensor.c      **** 
 2548              		.loc 1 225 41 view .LVU750
 2549 0908 6519     		adds	r5, r4, r5
 2550 090a 1FFA88FA 		uxth	r10, r8
 227:Sensor.c      **** 		{
 2551              		.loc 1 227 5 view .LVU751
 2552 090e BB42     		cmp	r3, r7
 225:Sensor.c      **** 
 2553              		.loc 1 225 41 view .LVU752
 2554 0910 A5F8C4A0 		strh	r10, [r5, #196]	@ movhi
 227:Sensor.c      **** 		{
 2555              		.loc 1 227 3 is_stmt 1 view .LVU753
 227:Sensor.c      **** 		{
 2556              		.loc 1 227 5 is_stmt 0 view .LVU754
 2557 0914 7ED0     		beq	.L200
 227:Sensor.c      **** 		{
 2558              		.loc 1 227 47 discriminator 1 view .LVU755
 2559 0916 94F93582 		ldrsb	r8, [r4, #565]
 2560 091a B8F1000F 		cmp	r8, #0
 2561 091e 79D1     		bne	.L200
 229:Sensor.c      **** 		}
 2562              		.loc 1 229 4 is_stmt 1 view .LVU756
 229:Sensor.c      **** 		}
 2563              		.loc 1 229 81 is_stmt 0 view .LVU757
 2564 0920 C0F1640C 		rsb	ip, r0, #100
 2565              	.LVL113:
 229:Sensor.c      **** 		}
 2566              		.loc 1 229 76 view .LVU758
 2567 0924 F068     		ldr	r0, [r6, #12]
 2568 0926 00FB0CF0 		mul	r0, r0, ip
 229:Sensor.c      **** 		}
 2569              		.loc 1 229 110 view .LVU759
 2570 092a AEFB000E 		umull	r0, lr, lr, r0
 2571 092e 4FEA5E1E 		lsr	lr, lr, #5
 236:Sensor.c      **** 		{
 2572              		.loc 1 236 6 view .LVU760
 2573 0932 D4F8AC01 		ldr	r0, [r4, #428]
 229:Sensor.c      **** 		}
 2574              		.loc 1 229 43 view .LVU761
 2575 0936 A5F804E1 		strh	lr, [r5, #260]	@ movhi
 236:Sensor.c      **** 		{
 2576              		.loc 1 236 3 is_stmt 1 view .LVU762
 236:Sensor.c      **** 		{
 2577              		.loc 1 236 56 is_stmt 0 view .LVU763
 2578 093a 7588     		ldrh	r5, [r6, #2]
 236:Sensor.c      **** 		{
 2579              		.loc 1 236 6 view .LVU764
 2580 093c 8542     		cmp	r5, r0
 2581 093e 7CDA     		bge	.L216
 2582              	.L220:
 2583 0940 DFF87C91 		ldr	r9, .L222+12
 2584              	.LVL114:
 2585              	.L202:
 255:Sensor.c      **** 		u32 m_rightPedalTorqueAverage = 0;
 2586              		.loc 1 255 3 is_stmt 1 view .LVU765
 256:Sensor.c      **** 		u32 measuredPedalTorque = 0;
 2587              		.loc 1 256 3 view .LVU766
 257:Sensor.c      **** 		for (int i = 0; i < motorConfig.pedalPulsesPerRotation; i++)
 2588              		.loc 1 257 3 view .LVU767
 258:Sensor.c      **** 		{
 2589              		.loc 1 258 3 view .LVU768
 2590              	.LBB25:
 258:Sensor.c      **** 		{
 2591              		.loc 1 258 8 view .LVU769
 258:Sensor.c      **** 		{
 2592              		.loc 1 258 19 view .LVU770
 2593              	.LBE25:
 257:Sensor.c      **** 		for (int i = 0; i < motorConfig.pedalPulsesPerRotation; i++)
 2594              		.loc 1 257 7 is_stmt 0 view .LVU771
 2595 0944 0025     		movs	r5, #0
 256:Sensor.c      **** 		u32 measuredPedalTorque = 0;
 2596              		.loc 1 256 7 view .LVU772
 2597 0946 2846     		mov	r0, r5
 255:Sensor.c      **** 		u32 m_rightPedalTorqueAverage = 0;
 2598              		.loc 1 255 7 view .LVU773
 2599 0948 AC46     		mov	ip, r5
 2600 094a 5D49     		ldr	r1, .L222+12
 2601 094c 09EB4209 		add	r9, r9, r2, lsl #1
 2602 0950 01F14007 		add	r7, r1, #64
 2603 0954 A1F1400E 		sub	lr, r1, #64
 2604              	.LVL115:
 2605              	.L205:
 2606              	.LBB26:
 260:Sensor.c      **** 			m_rightPedalTorqueAverage += m_rightPedalTorqueRaw[i];
 2607              		.loc 1 260 4 is_stmt 1 discriminator 3 view .LVU774
 260:Sensor.c      **** 			m_rightPedalTorqueAverage += m_rightPedalTorqueRaw[i];
 2608              		.loc 1 260 52 is_stmt 0 discriminator 3 view .LVU775
 2609 0958 31F8028B 		ldrh	r8, [r1], #2
 260:Sensor.c      **** 			m_rightPedalTorqueAverage += m_rightPedalTorqueRaw[i];
 2610              		.loc 1 260 29 discriminator 3 view .LVU776
 2611 095c C444     		add	ip, ip, r8
 2612              	.LVL116:
 261:Sensor.c      **** 
 2613              		.loc 1 261 4 is_stmt 1 discriminator 3 view .LVU777
 261:Sensor.c      **** 
 2614              		.loc 1 261 54 is_stmt 0 discriminator 3 view .LVU778
 2615 095e 37F8028B 		ldrh	r8, [r7], #2
 258:Sensor.c      **** 		{
 2616              		.loc 1 258 3 discriminator 3 view .LVU779
 2617 0962 8945     		cmp	r9, r1
 261:Sensor.c      **** 
 2618              		.loc 1 261 30 discriminator 3 view .LVU780
 2619 0964 4044     		add	r0, r0, r8
 2620              	.LVL117:
 264:Sensor.c      **** 		}
 2621              		.loc 1 264 4 is_stmt 1 discriminator 3 view .LVU781
 264:Sensor.c      **** 		}
 2622              		.loc 1 264 47 is_stmt 0 discriminator 3 view .LVU782
 2623 0966 3EF8028B 		ldrh	r8, [lr], #2
 264:Sensor.c      **** 		}
 2624              		.loc 1 264 24 discriminator 3 view .LVU783
 2625 096a 4544     		add	r5, r5, r8
 2626              	.LVL118:
 258:Sensor.c      **** 		{
 2627              		.loc 1 258 59 is_stmt 1 discriminator 3 view .LVU784
 258:Sensor.c      **** 		{
 2628              		.loc 1 258 19 discriminator 3 view .LVU785
 258:Sensor.c      **** 		{
 2629              		.loc 1 258 3 is_stmt 0 discriminator 3 view .LVU786
 2630 096c F4D1     		bne	.L205
 2631              	.LBE26:
 266:Sensor.c      **** 		m_rightPedalTorqueAverage /= motorConfig.pedalPulsesPerRotation;
 2632              		.loc 1 266 3 is_stmt 1 view .LVU787
 2633              	.LVL119:
 267:Sensor.c      **** 
 2634              		.loc 1 267 3 view .LVU788
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2635              		.loc 1 270 3 view .LVU789
 266:Sensor.c      **** 		m_rightPedalTorqueAverage /= motorConfig.pedalPulsesPerRotation;
 2636              		.loc 1 266 28 is_stmt 0 view .LVU790
 2637 096e BCFBF2FC 		udiv	ip, ip, r2
 2638              	.LVL120:
 267:Sensor.c      **** 
 2639              		.loc 1 267 29 view .LVU791
 2640 0972 B0FBF2F2 		udiv	r2, r0, r2
 2641              	.LVL121:
 271:Sensor.c      **** 
 2642              		.loc 1 271 112 view .LVU792
 2643 0976 DDF808E0 		ldr	lr, [sp, #8]
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2644              		.loc 1 270 66 view .LVU793
 2645 097a 96F81580 		ldrb	r8, [r6, #21]	@ zero_extendqisi2
 271:Sensor.c      **** 
 2646              		.loc 1 271 112 view .LVU794
 2647 097e A644     		add	lr, lr, r4
 2648 0980 BEF80491 		ldrh	r9, [lr, #260]
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2649              		.loc 1 270 126 view .LVU795
 2650 0984 08FB0AF7 		mul	r7, r8, r10
 271:Sensor.c      **** 
 2651              		.loc 1 271 129 view .LVU796
 2652 0988 08FB09F1 		mul	r1, r8, r9
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2653              		.loc 1 270 54 view .LVU797
 2654 098c C8F16400 		rsb	r0, r8, #100
 271:Sensor.c      **** 
 2655              		.loc 1 271 88 view .LVU798
 2656 0990 00FB0211 		mla	r1, r0, r2, r1
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2657              		.loc 1 270 86 view .LVU799
 2658 0994 00FB0C7C 		mla	ip, r0, ip, r7
 2659              	.LVL122:
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2660              		.loc 1 270 157 view .LVU800
 2661 0998 4848     		ldr	r0, .L222+8
 274:Sensor.c      **** 		{
 2662              		.loc 1 274 6 view .LVU801
 2663 099a D145     		cmp	r9, r10
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2664              		.loc 1 270 157 view .LVU802
 2665 099c A0FB0C2C 		umull	r2, ip, r0, ip
 2666              	.LVL123:
 271:Sensor.c      **** 
 2667              		.loc 1 271 160 view .LVU803
 2668 09a0 A0FB0121 		umull	r2, r1, r0, r1
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2669              		.loc 1 270 21 view .LVU804
 2670 09a4 CCF34F1C 		ubfx	ip, ip, #5, #16
 271:Sensor.c      **** 
 2671              		.loc 1 271 22 view .LVU805
 2672 09a8 C1F34F11 		ubfx	r1, r1, #5, #16
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2673              		.loc 1 270 21 view .LVU806
 2674 09ac A4F81CC2 		strh	ip, [r4, #540]	@ movhi
 271:Sensor.c      **** 
 2675              		.loc 1 271 3 is_stmt 1 view .LVU807
 271:Sensor.c      **** 
 2676              		.loc 1 271 22 is_stmt 0 view .LVU808
 2677 09b0 A4F81E12 		strh	r1, [r4, #542]	@ movhi
 274:Sensor.c      **** 		{
 2678              		.loc 1 274 3 is_stmt 1 view .LVU809
 274:Sensor.c      **** 		{
 2679              		.loc 1 274 6 is_stmt 0 view .LVU810
 2680 09b4 60D2     		bcs	.L206
 276:Sensor.c      **** 		}
 2681              		.loc 1 276 4 is_stmt 1 view .LVU811
 276:Sensor.c      **** 		}
 2682              		.loc 1 276 47 is_stmt 0 view .LVU812
 2683 09b6 6146     		mov	r1, ip
 2684 09b8 AEF844C1 		strh	ip, [lr, #324]	@ movhi
 278:Sensor.c      **** 		{
 2685              		.loc 1 278 3 is_stmt 1 view .LVU813
 2686              	.L207:
 287:Sensor.c      **** 		{
 2687              		.loc 1 287 3 view .LVU814
 287:Sensor.c      **** 		{
 2688              		.loc 1 287 5 is_stmt 0 view .LVU815
 2689 09bc B8F1320F 		cmp	r8, #50
 2690 09c0 62D9     		bls	.L219
 293:Sensor.c      **** 		}
 2691              		.loc 1 293 4 is_stmt 1 view .LVU816
 293:Sensor.c      **** 		}
 2692              		.loc 1 293 60 is_stmt 0 view .LVU817
 2693 09c2 C4F8E811 		str	r1, [r4, #488]
 2694              	.LVL124:
 2695              	.L211:
 296:Sensor.c      **** 
 2696              		.loc 1 296 3 is_stmt 1 view .LVU818
 299:Sensor.c      **** 		{
 2697              		.loc 1 299 5 is_stmt 0 view .LVU819
 2698 09c6 039A     		ldr	r2, [sp, #12]
 296:Sensor.c      **** 
 2699              		.loc 1 296 23 view .LVU820
 2700 09c8 C4F83032 		str	r3, [r4, #560]
 299:Sensor.c      **** 		{
 2701              		.loc 1 299 3 is_stmt 1 view .LVU821
 299:Sensor.c      **** 		{
 2702              		.loc 1 299 5 is_stmt 0 view .LVU822
 2703 09cc 9342     		cmp	r3, r2
 301:Sensor.c      **** 		}
 2704              		.loc 1 301 4 is_stmt 1 view .LVU823
 301:Sensor.c      **** 		}
 2705              		.loc 1 301 30 is_stmt 0 view .LVU824
 2706 09ce 04BF     		itt	eq
 2707 09d0 0123     		moveq	r3, #1
 2708 09d2 84F83532 		strbeq	r3, [r4, #565]
 305:Sensor.c      **** 		m_averageTorque = (measuredPedalTorque)*11355/100000;
 2709              		.loc 1 305 3 is_stmt 1 view .LVU825
 2710              	.LVL125:
 306:Sensor.c      **** 
 2711              		.loc 1 306 3 view .LVU826
 305:Sensor.c      **** 		m_averageTorque = (measuredPedalTorque)*11355/100000;
 2712              		.loc 1 305 23 is_stmt 0 view .LVU827
 2713 09d6 B5FBFBF3 		udiv	r3, r5, fp
 2714              	.LVL126:
 306:Sensor.c      **** 
 2715              		.loc 1 306 42 view .LVU828
 2716 09da 42F65B45 		movw	r5, #11355
 2717 09de 05FB03F3 		mul	r3, r5, r3
 2718              	.LVL127:
 306:Sensor.c      **** 
 2719              		.loc 1 306 48 view .LVU829
 2720 09e2 384A     		ldr	r2, .L222+16
 2721 09e4 5B09     		lsrs	r3, r3, #5
 2722 09e6 A2FB0323 		umull	r2, r3, r2, r3
 2723 09ea DB09     		lsrs	r3, r3, #7
 306:Sensor.c      **** 
 2724              		.loc 1 306 19 view .LVU830
 2725 09ec C4F82432 		str	r3, [r4, #548]
 2726              	.L190:
 306:Sensor.c      **** 
 2727              		.loc 1 306 19 view .LVU831
 2728              	.LBE24:
 313:Sensor.c      **** 
 2729              		.loc 1 313 1 view .LVU832
 2730 09f0 05B0     		add	sp, sp, #20
 2731              	.LCFI29:
 2732              		.cfi_remember_state
 2733              		.cfi_def_cfa_offset 36
 2734              		@ sp needed
 2735 09f2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2736              	.LVL128:
 2737              	.L197:
 2738              	.LCFI30:
 2739              		.cfi_restore_state
 2740              	.LBB32:
 212:Sensor.c      **** 
 2741              		.loc 1 212 4 is_stmt 1 view .LVU833
 215:Sensor.c      **** 		}
 2742              		.loc 1 215 4 view .LVU834
 215:Sensor.c      **** 		}
 2743              		.loc 1 215 94 is_stmt 0 view .LVU835
 2744 09f6 4FEA920E 		lsr	lr, r2, #2
 215:Sensor.c      **** 		}
 2745              		.loc 1 215 28 view .LVU836
 2746 09fa 58B2     		sxtb	r0, r3
 215:Sensor.c      **** 		}
 2747              		.loc 1 215 96 view .LVU837
 2748 09fc 0EEB4E0E 		add	lr, lr, lr, lsl #1
 215:Sensor.c      **** 		}
 2749              		.loc 1 215 53 view .LVU838
 2750 0a00 8644     		add	lr, lr, r0
 215:Sensor.c      **** 		}
 2751              		.loc 1 215 100 view .LVU839
 2752 0a02 9EFBF2F0 		sdiv	r0, lr, r2
 2753 0a06 02FB10EE 		mls	lr, r2, r0, lr
 215:Sensor.c      **** 		}
 2754              		.loc 1 215 25 view .LVU840
 2755 0a0a 4FFA8EFE 		sxtb	lr, lr
 2756 0a0e 84F834E2 		strb	lr, [r4, #564]
 2757 0a12 60E7     		b	.L198
 2758              	.L200:
 233:Sensor.c      **** 		}
 2759              		.loc 1 233 4 is_stmt 1 view .LVU841
 233:Sensor.c      **** 		}
 2760              		.loc 1 233 52 is_stmt 0 view .LVU842
 2761 0a14 C0F16400 		rsb	r0, r0, #100
 233:Sensor.c      **** 		}
 2762              		.loc 1 233 47 view .LVU843
 2763 0a18 01FB00F0 		mul	r0, r1, r0
 233:Sensor.c      **** 		}
 2764              		.loc 1 233 81 view .LVU844
 2765 0a1c 274D     		ldr	r5, .L222+8
 233:Sensor.c      **** 		}
 2766              		.loc 1 233 33 view .LVU845
 2767 0a1e 04EB4C0C 		add	ip, r4, ip, lsl #1
 2768              	.LVL129:
 233:Sensor.c      **** 		}
 2769              		.loc 1 233 81 view .LVU846
 2770 0a22 85FB0075 		smull	r7, r5, r5, r0
 2771 0a26 C017     		asrs	r0, r0, #31
 2772 0a28 C0EB6510 		rsb	r0, r0, r5, asr #5
 233:Sensor.c      **** 		}
 2773              		.loc 1 233 33 view .LVU847
 2774 0a2c ACF80401 		strh	r0, [ip, #260]	@ movhi
 236:Sensor.c      **** 		{
 2775              		.loc 1 236 3 is_stmt 1 view .LVU848
 236:Sensor.c      **** 		{
 2776              		.loc 1 236 56 is_stmt 0 view .LVU849
 2777 0a30 7588     		ldrh	r5, [r6, #2]
 236:Sensor.c      **** 		{
 2778              		.loc 1 236 6 view .LVU850
 2779 0a32 D4F8AC01 		ldr	r0, [r4, #428]
 2780 0a36 8542     		cmp	r5, r0
 2781 0a38 82DB     		blt	.L220
 2782              	.L216:
 236:Sensor.c      **** 		{
 2783              		.loc 1 236 6 view .LVU851
 2784 0a3a DFF88490 		ldr	r9, .L222+12
 2785              	.LBB27:
 2786              	.LBB28:
 246:Sensor.c      **** 				m_rightPedalTorqueRaw[index_2] = pedalTorque;
 2787              		.loc 1 246 29 view .LVU852
 2788 0a3e 5708     		lsrs	r7, r2, #1
 2789 0a40 3D46     		mov	r5, r7
 2790 0a42 C846     		mov	r8, r9
 2791 0a44 89B2     		uxth	r1, r1
 2792              	.LVL130:
 246:Sensor.c      **** 				m_rightPedalTorqueRaw[index_2] = pedalTorque;
 2793              		.loc 1 246 29 view .LVU853
 2794 0a46 B81A     		subs	r0, r7, r2
 2795 0a48 A9F1400E 		sub	lr, r9, #64
 2796              	.L204:
 2797              	.LVL131:
 240:Sensor.c      **** 				if (index_2 >= motorConfig.pedalPulsesPerRotation)
 2798              		.loc 1 240 5 is_stmt 1 view .LVU854
 241:Sensor.c      **** 				{
 2799              		.loc 1 241 5 view .LVU855
 243:Sensor.c      **** 				}
 2800              		.loc 1 243 14 is_stmt 0 view .LVU856
 2801 0a4c AA42     		cmp	r2, r5
 2802 0a4e CCBF     		ite	gt
 2803 0a50 AC46     		movgt	ip, r5
 2804 0a52 8446     		movle	ip, r0
 2805              	.LVL132:
 246:Sensor.c      **** 				m_rightPedalTorqueRaw[index_2] = pedalTorque;
 2806              		.loc 1 246 5 is_stmt 1 view .LVU857
 247:Sensor.c      **** 
 2807              		.loc 1 247 5 view .LVU858
 2808              	.LBE28:
 238:Sensor.c      **** 			{
 2809              		.loc 1 238 4 is_stmt 0 view .LVU859
 2810 0a54 0130     		adds	r0, r0, #1
 2811              	.LBB29:
 247:Sensor.c      **** 
 2812              		.loc 1 247 36 view .LVU860
 2813 0a56 04EB4C0C 		add	ip, r4, ip, lsl #1
 2814              	.LVL133:
 247:Sensor.c      **** 
 2815              		.loc 1 247 36 view .LVU861
 2816              	.LBE29:
 238:Sensor.c      **** 			{
 2817              		.loc 1 238 4 view .LVU862
 2818 0a5a B842     		cmp	r0, r7
 2819              	.LBB30:
 246:Sensor.c      **** 				m_rightPedalTorqueRaw[index_2] = pedalTorque;
 2820              		.loc 1 246 29 view .LVU863
 2821 0a5c 28F8021B 		strh	r1, [r8], #2	@ movhi
 250:Sensor.c      **** 			}
 2822              		.loc 1 250 29 view .LVU864
 2823 0a60 2EF8021B 		strh	r1, [lr], #2	@ movhi
 2824              	.LBE30:
 238:Sensor.c      **** 			{
 2825              		.loc 1 238 4 view .LVU865
 2826 0a64 05F10105 		add	r5, r5, #1
 2827              	.LVL134:
 2828              	.LBB31:
 247:Sensor.c      **** 
 2829              		.loc 1 247 36 view .LVU866
 2830 0a68 ACF80411 		strh	r1, [ip, #260]	@ movhi
 250:Sensor.c      **** 			}
 2831              		.loc 1 250 5 is_stmt 1 view .LVU867
 2832              	.LBE31:
 238:Sensor.c      **** 			{
 2833              		.loc 1 238 60 view .LVU868
 2834              	.LVL135:
 238:Sensor.c      **** 			{
 2835              		.loc 1 238 20 view .LVU869
 238:Sensor.c      **** 			{
 2836              		.loc 1 238 4 is_stmt 0 view .LVU870
 2837 0a6c EED1     		bne	.L204
 2838              	.LBE27:
 270:Sensor.c      **** 		m_rightPedalTorque = ((m_rightPedalTorqueAverage*(100-motorConfig.averageSportMode)) + (m_rightPe
 2839              		.loc 1 270 109 view .LVU871
 2840 0a6e 0299     		ldr	r1, [sp, #8]
 2841 0a70 6118     		adds	r1, r4, r1
 2842 0a72 B1F8C4A0 		ldrh	r10, [r1, #196]
 2843 0a76 65E7     		b	.L202
 2844              	.LVL136:
 2845              	.L206:
 278:Sensor.c      **** 		{
 2846              		.loc 1 278 3 is_stmt 1 view .LVU872
 278:Sensor.c      **** 		{
 2847              		.loc 1 278 6 is_stmt 0 view .LVU873
 2848 0a78 03D8     		bhi	.L218
 282:Sensor.c      **** 		{
 2849              		.loc 1 282 8 is_stmt 1 view .LVU874
 282:Sensor.c      **** 		{
 2850              		.loc 1 282 10 is_stmt 0 view .LVU875
 2851 0a7a 17D1     		bne	.L221
 284:Sensor.c      **** 		}
 2852              		.loc 1 284 4 is_stmt 1 view .LVU876
 284:Sensor.c      **** 		}
 2853              		.loc 1 284 49 is_stmt 0 view .LVU877
 2854 0a7c 6145     		cmp	r1, ip
 2855 0a7e 38BF     		it	cc
 2856 0a80 6146     		movcc	r1, ip
 2857              	.L218:
 284:Sensor.c      **** 		}
 2858              		.loc 1 284 47 view .LVU878
 2859 0a82 AEF84411 		strh	r1, [lr, #324]	@ movhi
 2860 0a86 99E7     		b	.L207
 2861              	.L219:
 289:Sensor.c      **** 		}
 2862              		.loc 1 289 4 is_stmt 1 view .LVU879
 289:Sensor.c      **** 		}
 2863              		.loc 1 289 35 is_stmt 0 view .LVU880
 2864 0a88 0C27     		movs	r7, #12
 2865 0a8a 0623     		movs	r3, #6
 2866              	.LVL137:
 289:Sensor.c      **** 		}
 2867              		.loc 1 289 35 view .LVU881
 2868 0a8c D4F8E821 		ldr	r2, [r4, #488]
 2869 0a90 0D48     		ldr	r0, .L222+20
 2870 0a92 0097     		str	r7, [sp]
 2871 0a94 FFF7FEFF 		bl	tmc_filterPT1
 2872              	.LVL138:
 299:Sensor.c      **** 		{
 2873              		.loc 1 299 22 view .LVU882
 2874 0a98 94F93422 		ldrsb	r2, [r4, #564]
 296:Sensor.c      **** 
 2875              		.loc 1 296 23 view .LVU883
 2876 0a9c D4F8A031 		ldr	r3, [r4, #416]
 305:Sensor.c      **** 		m_averageTorque = (measuredPedalTorque)*11355/100000;
 2877              		.loc 1 305 37 view .LVU884
 2878 0aa0 B6F800B0 		ldrh	fp, [r6]
 299:Sensor.c      **** 		{
 2879              		.loc 1 299 22 view .LVU885
 2880 0aa4 0392     		str	r2, [sp, #12]
 289:Sensor.c      **** 		}
 2881              		.loc 1 289 33 view .LVU886
 2882 0aa6 C4F8E801 		str	r0, [r4, #488]
 2883 0aaa 8CE7     		b	.L211
 2884              	.LVL139:
 2885              	.L221:
 289:Sensor.c      **** 		}
 2886              		.loc 1 289 99 view .LVU887
 2887 0aac BEF84411 		ldrh	r1, [lr, #324]
 2888 0ab0 84E7     		b	.L207
 2889              	.L223:
 2890 0ab2 00BF     		.align	2
 2891              	.L222:
 2892 0ab4 00000000 		.word	.LANCHOR0
 2893 0ab8 00000000 		.word	motorConfig
 2894 0abc 1F85EB51 		.word	1374389535
 2895 0ac0 C4000000 		.word	.LANCHOR0+196
 2896 0ac4 C55A7C0A 		.word	175921861
 2897 0ac8 38020000 		.word	.LANCHOR0+568
 2898              	.LBE32:
 2899              		.cfi_endproc
 2900              	.LFE6:
 2902              		.global	m_pedalPositionStartReset
 2903              		.global	m_pedalPositionStart
 2904              		.global	m_pedalPositionLast
 2905              		.global	m_brakeStartPoint
 2906              		.global	m_wheelVelocityLast
 2907              		.global	minGDetectionLast
 2908              		.global	minGDetection
 2909              		.global	out_Y
 2910              		.global	m_actualTorqueLimit
 2911              		.global	m_actualGain
 2912              		.global	m_motorVelocity
 2913              		.global	m_pedalVelocity
 2914              		.global	m_averageTorque
 2915              		.global	m_pedalMotorEnable
 2916              		.global	m_pedalDirection
 2917              		.global	akkuActualMotorTorque
 2918              		.global	m_actualTorque
 2919              		.global	cutOffTimer
 2920              		.global	m_mapSpeedTorque
 2921              		.global	targetPedalTorque
 2922              		.global	m_rightPedalTorque
 2923              		.global	m_leftPedalTorque
 2924              		.global	m_minEstimatedPedalTorque
 2925              		.global	m_rightPedalTorqueRaw
 2926              		.global	m_leftPedalTorqueRaw
 2927              		.global	m_pedalTorqueAverage
 2928              		.global	minPedalAverage
 2929              		.global	maxPedalAverage
 2930              		.global	minPedalData
 2931              		.global	maxPedalData
 2932              		.global	m_pedalCountsPer30MSecond
 2933              		.global	pedalCounterLast
 2934              		.global	pedalCounterPrev
 2935              		.global	m_pedalPosition
 2936              		.global	m_pedalDirectionCounter
 2937              		.global	m_pedalCounter
 2938              		.global	m_actualWheelMotorVelocity
 2939              		.global	m_wheelMotorVelocity
 2940              		.global	m_wheelVelocity
 2941              		.global	m_wheelVelocityTimer
 2942              		.global	m_wheelCounterPrev
 2943              		.global	m_wheelDirectionCounter
 2944              		.global	dT
 2945              		.global	m_maxPedalTorque
 2946              		.global	m_minPedalTorque
 2947              		.global	akkuActualWheelMotorVelocityFast
 2948              		.global	akkuActualMotorVelocityFast
 2949              		.global	m_filteredActualPedalVelocitySwift
 2950              		.global	akkuActualPedalVelocitySwift
 2951              		.global	m_filteredActualPedalVelocity
 2952              		.global	m_filteredPedalTorqueAverage
 2953              		.global	akkuPedalTorqueAverage
 2954              		.global	fltActualTorque
 2955              		.global	filteredActualPedalTorque
 2956              		.global	akkuActualPedalTorque
 2957              		.global	m_cutOffTime
 2958              		.data
 2959              		.align	2
 2960              		.set	.LANCHOR1,. + 0
 2963              	fltActualTorque:
 2964 0000 04000000 		.word	4
 2967              	dT:
 2968 0004 8FC2753D 		.word	1031127695
 2969              		.bss
 2970              		.align	3
 2971              		.set	.LANCHOR0,. + 0
 2974              	m_cutOffTime:
 2975 0000 00000000 		.space	4
 2978              	maxPedalData:
 2979 0004 00000000 		.space	64
 2979      00000000 
 2979      00000000 
 2979      00000000 
 2979      00000000 
 2982              	minPedalData:
 2983 0044 00000000 		.space	64
 2983      00000000 
 2983      00000000 
 2983      00000000 
 2983      00000000 
 2986              	m_pedalTorqueAverage:
 2987 0084 00000000 		.space	64
 2987      00000000 
 2987      00000000 
 2987      00000000 
 2987      00000000 
 2990              	m_leftPedalTorqueRaw:
 2991 00c4 00000000 		.space	64
 2991      00000000 
 2991      00000000 
 2991      00000000 
 2991      00000000 
 2994              	m_rightPedalTorqueRaw:
 2995 0104 00000000 		.space	64
 2995      00000000 
 2995      00000000 
 2995      00000000 
 2995      00000000 
 2998              	m_minEstimatedPedalTorque:
 2999 0144 00000000 		.space	64
 2999      00000000 
 2999      00000000 
 2999      00000000 
 2999      00000000 
 3002              	filteredActualPedalTorque:
 3003 0184 00000000 		.space	4
 3006              	akkuActualPedalTorque:
 3007 0188 00000000 		.space	8
 3007      00000000 
 3010              	m_maxPedalTorque:
 3011 0190 00000000 		.space	4
 3014              	m_minPedalTorque:
 3015 0194 00000000 		.space	4
 3018              	m_pedalCountsPer30MSecond:
 3019 0198 00000000 		.space	4
 3022              	m_pedalCounter:
 3023 019c 00000000 		.space	4
 3026              	m_pedalPosition:
 3027 01a0 00000000 		.space	4
 3030              	pedalCounterLast:
 3031 01a4 00000000 		.space	4
 3034              	m_pedalVelocity:
 3035 01a8 00000000 		.space	4
 3038              	m_filteredActualPedalVelocitySwift:
 3039 01ac 00000000 		.space	4
 3042              	akkuActualPedalVelocitySwift:
 3043 01b0 00000000 		.space	8
 3043      00000000 
 3046              	m_pedalDirection:
 3047 01b8 00       		.space	1
 3048 01b9 000000   		.space	3
 3051              	m_motorVelocity:
 3052 01bc 00000000 		.space	4
 3055              	akkuActualMotorVelocityFast:
 3056 01c0 00000000 		.space	8
 3056      00000000 
 3059              	m_actualWheelMotorVelocity:
 3060 01c8 00000000 		.space	4
 3063              	m_wheelMotorVelocity:
 3064 01cc 00000000 		.space	4
 3067              	akkuActualWheelMotorVelocityFast:
 3068 01d0 00000000 		.space	8
 3068      00000000 
 3071              	m_wheelCounterPrev:
 3072 01d8 00       		.space	1
 3075              	m_wheelDirectionCounter:
 3076 01d9 00       		.space	1
 3077 01da 0000     		.space	2
 3080              	m_wheelVelocityTimer:
 3081 01dc 00000000 		.space	4
 3084              	m_wheelVelocity:
 3085 01e0 00000000 		.space	4
 3088              	m_mapSpeedTorque:
 3089 01e4 00000000 		.space	4
 3092              	m_filteredPedalTorqueAverage:
 3093 01e8 00000000 		.space	4
 3096              	targetPedalTorque:
 3097 01ec 00000000 		.space	4
 3100              	m_pedalMotorEnable:
 3101 01f0 00       		.space	1
 3104              	cutOffTimer:
 3105 01f1 00       		.space	1
 3106 01f2 0000     		.space	2
 3109              	m_wheelVelocityLast:
 3110 01f4 00000000 		.space	4
 3113              	m_brakeStartPoint:
 3114 01f8 00000000 		.space	4
 3117              	out_Y:
 3118 01fc 00000000 		.space	4
 3121              	minGDetection:
 3122 0200 00000000 		.space	4
 3125              	minGDetectionLast:
 3126 0204 00000000 		.space	4
 3129              	m_actualTorque:
 3130 0208 00000000 		.space	4
 3131 020c 00000000 		.space	4
 3134              	akkuActualMotorTorque:
 3135 0210 00000000 		.space	8
 3135      00000000 
 3138              	m_actualTorqueLimit:
 3139 0218 00       		.space	1
 3140 0219 00       		.space	1
 3143              	m_actualGain:
 3144 021a 0000     		.space	2
 3147              	m_leftPedalTorque:
 3148 021c 0000     		.space	2
 3151              	m_rightPedalTorque:
 3152 021e 0000     		.space	2
 3155              	m_filteredActualPedalVelocity:
 3156 0220 00000000 		.space	4
 3159              	m_averageTorque:
 3160 0224 00000000 		.space	4
 3163              	pedalCounterPrev:
 3164 0228 00000000 		.space	4
 3167              	m_pedalDirectionCounter:
 3168 022c 00       		.space	1
 3169 022d 000000   		.space	3
 3172              	m_pedalPositionLast:
 3173 0230 00000000 		.space	4
 3176              	m_pedalPositionStart:
 3177 0234 00       		.space	1
 3180              	m_pedalPositionStartReset:
 3181 0235 00       		.space	1
 3182 0236 0000     		.space	2
 3185              	akkuPedalTorqueAverage:
 3186 0238 00000000 		.space	8
 3186      00000000 
 3189              	minPedalAverage:
 3190 0240 00000000 		.space	4
 3193              	maxPedalAverage:
 3194 0244 00000000 		.space	4
 3195              		.text
 3196              	.Letext0:
 3197              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 3198              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 3199              		.file 4 "TMC-API/tmc/helpers/Types.h"
 3200              		.file 5 "Definitions.h"
 3201              		.file 6 "BLDC.h"
 3202              		.file 7 "./TMC-API/tmc/ic/TMC4671/TMC4671.h"
 3203              		.file 8 "./TMC-API/tmc/helpers/Functions.h"
 3204              		.file 9 "hal/ic/LIS2DH12.h"
 3205              		.file 10 "LedRear.h"
 3206              		.file 11 "hal/Debug.h"
 3207              		.file 12 "Button.h"
 3208              		.file 13 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:00000000 Sensor.c
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:17     .text:00000000 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:24     .text:00000000 sensor_init
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:168    .text:00000074 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:178    .text:00000090 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:185    .text:00000090 sensor_updatePedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:229    .text:000000b8 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:234    .text:000000c0 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:241    .text:000000c0 sensor_actualPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:257    .text:000000c8 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:261    .text:000000cc $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:268    .text:000000cc sensor_getFltActualTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:284    .text:000000d4 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:288    .text:000000d8 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:295    .text:000000d8 sensor_setFltActualTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:312    .text:000000e0 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:321    .text:000000e4 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:328    .text:000000e4 sensor_computePedalTorqMinMax
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:413    .text:00000144 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:418    .text:0000014c $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:425    .text:0000014c sensor_pedalCounter
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:441    .text:00000154 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:445    .text:00000158 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:452    .text:00000158 sensor_pedalPosition
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:468    .text:00000160 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:472    .text:00000164 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:479    .text:00000164 sensor_updatePedalVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:573    .text:000001c4 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:578    .text:000001cc $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:585    .text:000001cc sensor_pedalCounterPer500MSeconds
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:601    .text:000001d4 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:605    .text:000001d8 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:612    .text:000001d8 sensor_updateMotorVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:698    .text:00000244 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:703    .text:0000024c $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:710    .text:0000024c sensor_updateWheelCounter
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:773    .text:00000270 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:777    .text:00000274 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:784    .text:00000274 sensor_updateWheelVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:862    .text:000002d4 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:867    .text:000002dc $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:874    .text:000002dc sensor_mapSpeedTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1359   .text:00000534 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1365   .text:00000540 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1372   .text:00000540 sensor_motorAssistance
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1487   .text:000005c4 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1492   .text:000005cc $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1499   .text:000005cc sensor_updateCutOffTime
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1533   .text:000005ec $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1538   .text:000005f4 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1545   .text:000005f4 sensor_cutOffDistance
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1588   .text:0000061c $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1592   .text:00000620 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1599   .text:00000620 sensor_brakeDetection
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1726   .text:000006c0 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1731   .text:000006c8 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1738   .text:000006c8 sensor_updateActualTorqueLimit_Gain
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1831   .text:0000071c $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1836   .text:00000724 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1843   .text:00000724 sensor_actualMapSpeedTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1859   .text:0000072c $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1863   .text:00000730 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1870   .text:00000730 sensor_actualGain
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1886   .text:00000738 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1890   .text:0000073c $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1897   .text:0000073c sensor_actualTorqueLimit
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1913   .text:00000744 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1917   .text:00000748 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1924   .text:00000748 sensor_leftPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1940   .text:00000750 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1944   .text:00000754 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1951   .text:00000754 sensor_rightPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1967   .text:0000075c $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1971   .text:00000760 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1978   .text:00000760 sensor_targetpedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:1999   .text:00000764 sensor_pedalVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2015   .text:0000076c $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2019   .text:00000770 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2026   .text:00000770 sensor_filteredPedalVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2042   .text:00000778 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2046   .text:0000077c $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2053   .text:0000077c sensor_filteredPedalVelocityFast
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2069   .text:00000784 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2073   .text:00000788 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2080   .text:00000788 sensor_pedalDirection
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2096   .text:00000790 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2100   .text:00000794 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2107   .text:00000794 sensor_pedalMotorEnable
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2123   .text:0000079c $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2127   .text:000007a0 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2134   .text:000007a0 sensor_averageTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2150   .text:000007a8 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2154   .text:000007ac $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2161   .text:000007ac sensor_motorVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2177   .text:000007b4 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2181   .text:000007b8 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2188   .text:000007b8 sensor_wheelMotorVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2204   .text:000007c0 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2208   .text:000007c4 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2215   .text:000007c4 sensor_wheelVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2231   .text:000007cc $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2235   .text:000007d0 $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2242   .text:000007d0 wheelSensorDiff
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2274   .text:000007e0 bottomBracketDiff
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2287   .text:000007e8 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2291   .text:000007ec $t
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2375   .text:00000830 sensor_updatePedalCounter
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2892   .text:00000ab4 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3180   .bss:00000235 m_pedalPositionStartReset
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3176   .bss:00000234 m_pedalPositionStart
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3172   .bss:00000230 m_pedalPositionLast
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3113   .bss:000001f8 m_brakeStartPoint
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3109   .bss:000001f4 m_wheelVelocityLast
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3125   .bss:00000204 minGDetectionLast
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3121   .bss:00000200 minGDetection
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3117   .bss:000001fc out_Y
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3138   .bss:00000218 m_actualTorqueLimit
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3143   .bss:0000021a m_actualGain
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3051   .bss:000001bc m_motorVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3034   .bss:000001a8 m_pedalVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3159   .bss:00000224 m_averageTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3100   .bss:000001f0 m_pedalMotorEnable
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3046   .bss:000001b8 m_pedalDirection
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3134   .bss:00000210 akkuActualMotorTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3129   .bss:00000208 m_actualTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3104   .bss:000001f1 cutOffTimer
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3088   .bss:000001e4 m_mapSpeedTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3096   .bss:000001ec targetPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3151   .bss:0000021e m_rightPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3147   .bss:0000021c m_leftPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2998   .bss:00000144 m_minEstimatedPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2994   .bss:00000104 m_rightPedalTorqueRaw
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2990   .bss:000000c4 m_leftPedalTorqueRaw
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2986   .bss:00000084 m_pedalTorqueAverage
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3189   .bss:00000240 minPedalAverage
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3193   .bss:00000244 maxPedalAverage
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2982   .bss:00000044 minPedalData
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2978   .bss:00000004 maxPedalData
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3018   .bss:00000198 m_pedalCountsPer30MSecond
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3030   .bss:000001a4 pedalCounterLast
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3163   .bss:00000228 pedalCounterPrev
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3026   .bss:000001a0 m_pedalPosition
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3167   .bss:0000022c m_pedalDirectionCounter
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3022   .bss:0000019c m_pedalCounter
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3059   .bss:000001c8 m_actualWheelMotorVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3063   .bss:000001cc m_wheelMotorVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3084   .bss:000001e0 m_wheelVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3080   .bss:000001dc m_wheelVelocityTimer
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3071   .bss:000001d8 m_wheelCounterPrev
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3075   .bss:000001d9 m_wheelDirectionCounter
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2967   .data:00000004 dT
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3010   .bss:00000190 m_maxPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3014   .bss:00000194 m_minPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3067   .bss:000001d0 akkuActualWheelMotorVelocityFast
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3055   .bss:000001c0 akkuActualMotorVelocityFast
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3038   .bss:000001ac m_filteredActualPedalVelocitySwift
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3042   .bss:000001b0 akkuActualPedalVelocitySwift
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3155   .bss:00000220 m_filteredActualPedalVelocity
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3092   .bss:000001e8 m_filteredPedalTorqueAverage
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3185   .bss:00000238 akkuPedalTorqueAverage
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2963   .data:00000000 fltActualTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3002   .bss:00000184 filteredActualPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:3006   .bss:00000188 akkuActualPedalTorque
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2974   .bss:00000000 m_cutOffTime
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2959   .data:00000000 $d
C:\Users\forre\AppData\Local\Temp\cchrOWGL.s:2970   .bss:00000000 $d

UNDEFINED SYMBOLS
button_updateBatteryStatusFactor
tmcm_getADCTorqueValue
memset
motorConfig
tmc_filterPT1
__aeabi_i2f
__aeabi_fcmpgt
__aeabi_fsub
__aeabi_fcmplt
__aeabi_fadd
tmc4671_readInt
tmcm_getSpeedValue
debug_setTestVar2
LIS2DH12_spi_readInt
rear_led_setMode
rear_led_setBlinkTime
bldc_rampTargetTorque
tmc4671_getActualTorqueFluxSum_mA
tmcm_getSinCosValue
