   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f10x_can.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.align	1
  18              		.p2align 2,,3
  19              		.global	CAN_DeInit
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	CAN_DeInit:
  25              	.LFB0:
  26              		.file 1 "cpu/STM32F103/stm32f10x_can.c"
   1:cpu/STM32F103/stm32f10x_can.c **** /******************** (C) COPYRIGHT 2008 STMicroelectronics ********************
   2:cpu/STM32F103/stm32f10x_can.c **** * File Name          : stm32f10x_can.c
   3:cpu/STM32F103/stm32f10x_can.c **** * Author             : MCD Application Team
   4:cpu/STM32F103/stm32f10x_can.c **** * Version            : V2.0
   5:cpu/STM32F103/stm32f10x_can.c **** * Date               : 05/23/2008
   6:cpu/STM32F103/stm32f10x_can.c **** * Description        : This file provides all the CAN firmware functions.
   7:cpu/STM32F103/stm32f10x_can.c **** ********************************************************************************
   8:cpu/STM32F103/stm32f10x_can.c **** * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
   9:cpu/STM32F103/stm32f10x_can.c **** * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE TIME.
  10:cpu/STM32F103/stm32f10x_can.c **** * AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY DIRECT,
  11:cpu/STM32F103/stm32f10x_can.c **** * INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING FROM THE
  12:cpu/STM32F103/stm32f10x_can.c **** * CONTENT OF SUCH SOFTWARE AND/OR THE USE MADE BY CUSTOMERS OF THE CODING
  13:cpu/STM32F103/stm32f10x_can.c **** * INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  14:cpu/STM32F103/stm32f10x_can.c **** * FOR MORE INFORMATION PLEASE CAREFULLY READ THE LICENSE AGREEMENT FILE LOCATED 
  15:cpu/STM32F103/stm32f10x_can.c **** * IN THE ROOT DIRECTORY OF THIS FIRMWARE PACKAGE.
  16:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
  17:cpu/STM32F103/stm32f10x_can.c **** 
  18:cpu/STM32F103/stm32f10x_can.c **** /* Includes ------------------------------------------------------------------*/
  19:cpu/STM32F103/stm32f10x_can.c **** #include "stm32f10x_can.h"
  20:cpu/STM32F103/stm32f10x_can.c **** #include "stm32f10x_rcc.h"
  21:cpu/STM32F103/stm32f10x_can.c **** 
  22:cpu/STM32F103/stm32f10x_can.c **** /* Private typedef -----------------------------------------------------------*/
  23:cpu/STM32F103/stm32f10x_can.c **** 
  24:cpu/STM32F103/stm32f10x_can.c **** /* Private define ------------------------------------------------------------*/
  25:cpu/STM32F103/stm32f10x_can.c **** /* CAN Master Control Register bits */
  26:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MCR_INRQ     ((u32)0x00000001) /* Initialization request */
  27:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MCR_SLEEP    ((u32)0x00000002) /* Sleep mode request */
  28:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MCR_TXFP     ((u32)0x00000004) /* Transmit FIFO priority */
  29:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MCR_RFLM     ((u32)0x00000008) /* Receive FIFO locked mode */
  30:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MCR_NART     ((u32)0x00000010) /* No automatic retransmission */
  31:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MCR_AWUM     ((u32)0x00000020) /* Automatic wake up mode */
  32:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MCR_ABOM     ((u32)0x00000040) /* Automatic bus-off management */
  33:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MCR_TTCM     ((u32)0x00000080) /* time triggered communication */
  34:cpu/STM32F103/stm32f10x_can.c **** 
  35:cpu/STM32F103/stm32f10x_can.c **** /* CAN Master Status Register bits */
  36:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MSR_INAK     ((u32)0x00000001)    /* Initialization acknowledge */
  37:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MSR_WKUI     ((u32)0x00000008)    /* Wake-up interrupt */
  38:cpu/STM32F103/stm32f10x_can.c **** #define CAN_MSR_SLAKI    ((u32)0x00000010)    /* Sleep acknowledge interrupt */
  39:cpu/STM32F103/stm32f10x_can.c **** 
  40:cpu/STM32F103/stm32f10x_can.c **** /* CAN Transmit Status Register bits */
  41:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_RQCP0    ((u32)0x00000001)    /* Request completed mailbox0 */
  42:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_TXOK0    ((u32)0x00000002)    /* Transmission OK of mailbox0 */
  43:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_ABRQ0    ((u32)0x00000080)    /* Abort request for mailbox0 */
  44:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_RQCP1    ((u32)0x00000100)    /* Request completed mailbox1 */
  45:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_TXOK1    ((u32)0x00000200)    /* Transmission OK of mailbox1 */
  46:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_ABRQ1    ((u32)0x00008000)    /* Abort request for mailbox1 */
  47:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_RQCP2    ((u32)0x00010000)    /* Request completed mailbox2 */
  48:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_TXOK2    ((u32)0x00020000)    /* Transmission OK of mailbox2 */
  49:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_ABRQ2    ((u32)0x00800000)    /* Abort request for mailbox2 */
  50:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_TME0     ((u32)0x04000000)    /* Transmit mailbox 0 empty */
  51:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_TME1     ((u32)0x08000000)    /* Transmit mailbox 1 empty */
  52:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TSR_TME2     ((u32)0x10000000)    /* Transmit mailbox 2 empty */
  53:cpu/STM32F103/stm32f10x_can.c **** 
  54:cpu/STM32F103/stm32f10x_can.c **** /* CAN Receive FIFO 0 Register bits */
  55:cpu/STM32F103/stm32f10x_can.c **** #define CAN_RF0R_FULL0   ((u32)0x00000008)    /* FIFO 0 full */
  56:cpu/STM32F103/stm32f10x_can.c **** #define CAN_RF0R_FOVR0   ((u32)0x00000010)    /* FIFO 0 overrun */
  57:cpu/STM32F103/stm32f10x_can.c **** #define CAN_RF0R_RFOM0   ((u32)0x00000020)    /* Release FIFO 0 output mailbox */
  58:cpu/STM32F103/stm32f10x_can.c **** 
  59:cpu/STM32F103/stm32f10x_can.c **** /* CAN Receive FIFO 1 Register bits */
  60:cpu/STM32F103/stm32f10x_can.c **** #define CAN_RF1R_FULL1   ((u32)0x00000008)    /* FIFO 1 full */
  61:cpu/STM32F103/stm32f10x_can.c **** #define CAN_RF1R_FOVR1   ((u32)0x00000010)    /* FIFO 1 overrun */
  62:cpu/STM32F103/stm32f10x_can.c **** #define CAN_RF1R_RFOM1   ((u32)0x00000020)    /* Release FIFO 1 output mailbox */
  63:cpu/STM32F103/stm32f10x_can.c **** 
  64:cpu/STM32F103/stm32f10x_can.c **** /* CAN Error Status Register bits */
  65:cpu/STM32F103/stm32f10x_can.c **** #define CAN_ESR_EWGF     ((u32)0x00000001)    /* Error warning flag */
  66:cpu/STM32F103/stm32f10x_can.c **** #define CAN_ESR_EPVF     ((u32)0x00000002)    /* Error passive flag */
  67:cpu/STM32F103/stm32f10x_can.c **** #define CAN_ESR_BOFF     ((u32)0x00000004)    /* Bus-off flag */
  68:cpu/STM32F103/stm32f10x_can.c **** 
  69:cpu/STM32F103/stm32f10x_can.c **** /* CAN Mailbox Transmit Request */
  70:cpu/STM32F103/stm32f10x_can.c **** #define CAN_TMIDxR_TXRQ    ((u32)0x00000001) /* Transmit mailbox request */
  71:cpu/STM32F103/stm32f10x_can.c **** 
  72:cpu/STM32F103/stm32f10x_can.c **** /* CAN Filter Master Register bits */
  73:cpu/STM32F103/stm32f10x_can.c **** #define CAN_FMR_FINIT ((u32)0x00000001) /* Filter init mode */
  74:cpu/STM32F103/stm32f10x_can.c **** 
  75:cpu/STM32F103/stm32f10x_can.c **** 
  76:cpu/STM32F103/stm32f10x_can.c **** /* Private macro -------------------------------------------------------------*/
  77:cpu/STM32F103/stm32f10x_can.c **** /* Private variables ---------------------------------------------------------*/
  78:cpu/STM32F103/stm32f10x_can.c **** /* Private function prototypes -----------------------------------------------*/
  79:cpu/STM32F103/stm32f10x_can.c **** static ITStatus CheckITStatus(u32 CAN_Reg, u32 It_Bit);
  80:cpu/STM32F103/stm32f10x_can.c **** 
  81:cpu/STM32F103/stm32f10x_can.c **** /* Private functions ---------------------------------------------------------*/
  82:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
  83:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_DeInit
  84:cpu/STM32F103/stm32f10x_can.c **** * Description    : Deinitializes the CAN peripheral registers to their default
  85:cpu/STM32F103/stm32f10x_can.c **** *                  reset values.
  86:cpu/STM32F103/stm32f10x_can.c **** * Input          : None.
  87:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
  88:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
  89:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
  90:cpu/STM32F103/stm32f10x_can.c **** void CAN_DeInit(void)
  91:cpu/STM32F103/stm32f10x_can.c **** {
  27              		.loc 1 91 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  92:cpu/STM32F103/stm32f10x_can.c ****   /* Enable CAN reset state */
  93:cpu/STM32F103/stm32f10x_can.c ****   RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN, ENABLE);
  31              		.loc 1 93 3 view .LVU1
  91:cpu/STM32F103/stm32f10x_can.c ****   /* Enable CAN reset state */
  32              		.loc 1 91 1 is_stmt 0 view .LVU2
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  38              		.loc 1 93 3 view .LVU3
  39 0002 0121     		movs	r1, #1
  40 0004 4FF00070 		mov	r0, #33554432
  41 0008 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  42              	.LVL0:
  94:cpu/STM32F103/stm32f10x_can.c ****   /* Release CAN from reset state */
  95:cpu/STM32F103/stm32f10x_can.c ****   RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN, DISABLE);
  43              		.loc 1 95 3 is_stmt 1 view .LVU4
  96:cpu/STM32F103/stm32f10x_can.c **** }
  44              		.loc 1 96 1 is_stmt 0 view .LVU5
  45 000c BDE80840 		pop	{r3, lr}
  46              	.LCFI1:
  47              		.cfi_restore 14
  48              		.cfi_restore 3
  49              		.cfi_def_cfa_offset 0
  95:cpu/STM32F103/stm32f10x_can.c **** }
  50              		.loc 1 95 3 view .LVU6
  51 0010 0021     		movs	r1, #0
  52 0012 4FF00070 		mov	r0, #33554432
  53 0016 FFF7FEBF 		b	RCC_APB1PeriphResetCmd
  54              	.LVL1:
  55              		.cfi_endproc
  56              	.LFE0:
  58              		.align	1
  59 001a 00BF     		.p2align 2,,3
  60              		.global	CAN_Init
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	CAN_Init:
  66              	.LVL2:
  67              	.LFB1:
  97:cpu/STM32F103/stm32f10x_can.c **** 
  98:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
  99:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_Init
 100:cpu/STM32F103/stm32f10x_can.c **** * Description    : Initializes the CAN peripheral according to the specified
 101:cpu/STM32F103/stm32f10x_can.c **** *                  parameters in the CAN_InitStruct.
 102:cpu/STM32F103/stm32f10x_can.c **** * Input          : CAN_InitStruct: pointer to a CAN_InitTypeDef structure that
 103:cpu/STM32F103/stm32f10x_can.c ****                    contains the configuration information for the CAN peripheral.
 104:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 105:cpu/STM32F103/stm32f10x_can.c **** * Return         : Constant indicates initialization succeed which will be 
 106:cpu/STM32F103/stm32f10x_can.c **** *                  CANINITFAILED or CANINITOK.
 107:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 108:cpu/STM32F103/stm32f10x_can.c **** u8 CAN_Init(CAN_InitTypeDef* CAN_InitStruct)
 109:cpu/STM32F103/stm32f10x_can.c **** {
  68              		.loc 1 109 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
 110:cpu/STM32F103/stm32f10x_can.c ****   u8 InitStatus = 0;
  72              		.loc 1 110 3 view .LVU8
 111:cpu/STM32F103/stm32f10x_can.c ****   u16 WaitAck;
  73              		.loc 1 111 3 view .LVU9
 112:cpu/STM32F103/stm32f10x_can.c **** 
 113:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 114:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TTCM));
  74              		.loc 1 114 3 view .LVU10
 115:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_ABOM));
  75              		.loc 1 115 3 view .LVU11
 116:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_AWUM));
  76              		.loc 1 116 3 view .LVU12
 117:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_NART));
  77              		.loc 1 117 3 view .LVU13
 118:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_RFLM));
  78              		.loc 1 118 3 view .LVU14
 119:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TXFP));
  79              		.loc 1 119 3 view .LVU15
 120:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_MODE(CAN_InitStruct->CAN_Mode));
  80              		.loc 1 120 3 view .LVU16
 121:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_SJW(CAN_InitStruct->CAN_SJW));
  81              		.loc 1 121 3 view .LVU17
 122:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_BS1(CAN_InitStruct->CAN_BS1));
  82              		.loc 1 122 3 view .LVU18
 123:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_BS2(CAN_InitStruct->CAN_BS2));
  83              		.loc 1 123 3 view .LVU19
 124:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_PRESCALER(CAN_InitStruct->CAN_Prescaler));
  84              		.loc 1 124 3 view .LVU20
 125:cpu/STM32F103/stm32f10x_can.c **** 
 126:cpu/STM32F103/stm32f10x_can.c ****   /* Request initialisation */
 127:cpu/STM32F103/stm32f10x_can.c ****   CAN->MCR = CAN_MCR_INRQ;
  85              		.loc 1 127 3 view .LVU21
  86              		.loc 1 127 12 is_stmt 0 view .LVU22
  87 001c 0123     		movs	r3, #1
  88 001e 3049     		ldr	r1, .L23
 109:cpu/STM32F103/stm32f10x_can.c ****   u8 InitStatus = 0;
  89              		.loc 1 109 1 view .LVU23
  90 0020 0246     		mov	r2, r0
  91              		.loc 1 127 12 view .LVU24
  92 0022 0B60     		str	r3, [r1]
 128:cpu/STM32F103/stm32f10x_can.c **** 
 129:cpu/STM32F103/stm32f10x_can.c ****   /* ...and check acknowledged */
 130:cpu/STM32F103/stm32f10x_can.c ****   if ((CAN->MSR & CAN_MSR_INAK) == 0)
  93              		.loc 1 130 3 is_stmt 1 view .LVU25
  94              		.loc 1 130 11 is_stmt 0 view .LVU26
  95 0024 4B68     		ldr	r3, [r1, #4]
  96              		.loc 1 130 6 view .LVU27
  97 0026 13F00100 		ands	r0, r3, #1
  98              	.LVL3:
  99              		.loc 1 130 6 view .LVU28
 100 002a 57D0     		beq	.L20
 131:cpu/STM32F103/stm32f10x_can.c ****   {
 132:cpu/STM32F103/stm32f10x_can.c ****     InitStatus = CANINITFAILED;
 133:cpu/STM32F103/stm32f10x_can.c ****   }
 134:cpu/STM32F103/stm32f10x_can.c ****   else
 135:cpu/STM32F103/stm32f10x_can.c ****   {
 136:cpu/STM32F103/stm32f10x_can.c ****     /* Set the time triggered communication mode */
 137:cpu/STM32F103/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TTCM == ENABLE)
 101              		.loc 1 137 5 is_stmt 1 view .LVU29
 109:cpu/STM32F103/stm32f10x_can.c ****   u8 InitStatus = 0;
 102              		.loc 1 109 1 is_stmt 0 view .LVU30
 103 002c 00B5     		push	{lr}
 104              	.LCFI2:
 105              		.cfi_def_cfa_offset 4
 106              		.cfi_offset 14, -4
 107              		.loc 1 137 8 view .LVU31
 108 002e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 109 0030 012B     		cmp	r3, #1
 138:cpu/STM32F103/stm32f10x_can.c ****     {
 139:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR |= CAN_MCR_TTCM;
 110              		.loc 1 139 16 view .LVU32
 111 0032 0B68     		ldr	r3, [r1]
 112              		.loc 1 139 7 is_stmt 1 view .LVU33
 113              		.loc 1 139 16 is_stmt 0 view .LVU34
 114 0034 0CBF     		ite	eq
 115 0036 43F08003 		orreq	r3, r3, #128
 140:cpu/STM32F103/stm32f10x_can.c ****     }
 141:cpu/STM32F103/stm32f10x_can.c ****     else
 142:cpu/STM32F103/stm32f10x_can.c ****     {
 143:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR &= ~CAN_MCR_TTCM;
 116              		.loc 1 143 7 is_stmt 1 view .LVU35
 117              		.loc 1 143 16 is_stmt 0 view .LVU36
 118 003a 23F08003 		bicne	r3, r3, #128
 119 003e 0B60     		str	r3, [r1]
 144:cpu/STM32F103/stm32f10x_can.c ****     }
 145:cpu/STM32F103/stm32f10x_can.c **** 
 146:cpu/STM32F103/stm32f10x_can.c ****     /* Set the automatic bus-off management */
 147:cpu/STM32F103/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_ABOM == ENABLE)
 120              		.loc 1 147 5 is_stmt 1 view .LVU37
 121              		.loc 1 147 8 is_stmt 0 view .LVU38
 122 0040 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 148:cpu/STM32F103/stm32f10x_can.c ****     {
 149:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR |= CAN_MCR_ABOM;
 123              		.loc 1 149 16 view .LVU39
 124 0042 2749     		ldr	r1, .L23
 147:cpu/STM32F103/stm32f10x_can.c ****     {
 125              		.loc 1 147 8 view .LVU40
 126 0044 012B     		cmp	r3, #1
 127              		.loc 1 149 16 view .LVU41
 128 0046 0B68     		ldr	r3, [r1]
 129              		.loc 1 149 7 is_stmt 1 view .LVU42
 130              		.loc 1 149 16 is_stmt 0 view .LVU43
 131 0048 0CBF     		ite	eq
 132 004a 43F04003 		orreq	r3, r3, #64
 150:cpu/STM32F103/stm32f10x_can.c ****     }
 151:cpu/STM32F103/stm32f10x_can.c ****     else
 152:cpu/STM32F103/stm32f10x_can.c ****     {
 153:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR &= ~CAN_MCR_ABOM;
 133              		.loc 1 153 7 is_stmt 1 view .LVU44
 134              		.loc 1 153 16 is_stmt 0 view .LVU45
 135 004e 23F04003 		bicne	r3, r3, #64
 136 0052 0B60     		str	r3, [r1]
 154:cpu/STM32F103/stm32f10x_can.c ****     }
 155:cpu/STM32F103/stm32f10x_can.c **** 
 156:cpu/STM32F103/stm32f10x_can.c ****     /* Set the automatic wake-up mode */
 157:cpu/STM32F103/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_AWUM == ENABLE)
 137              		.loc 1 157 5 is_stmt 1 view .LVU46
 138              		.loc 1 157 8 is_stmt 0 view .LVU47
 139 0054 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 158:cpu/STM32F103/stm32f10x_can.c ****     {
 159:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR |= CAN_MCR_AWUM;
 140              		.loc 1 159 16 view .LVU48
 141 0056 2249     		ldr	r1, .L23
 157:cpu/STM32F103/stm32f10x_can.c ****     {
 142              		.loc 1 157 8 view .LVU49
 143 0058 012B     		cmp	r3, #1
 144              		.loc 1 159 16 view .LVU50
 145 005a 0B68     		ldr	r3, [r1]
 146              		.loc 1 159 7 is_stmt 1 view .LVU51
 147              		.loc 1 159 16 is_stmt 0 view .LVU52
 148 005c 0CBF     		ite	eq
 149 005e 43F02003 		orreq	r3, r3, #32
 160:cpu/STM32F103/stm32f10x_can.c ****     }
 161:cpu/STM32F103/stm32f10x_can.c ****     else
 162:cpu/STM32F103/stm32f10x_can.c ****     {
 163:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR &= ~CAN_MCR_AWUM;
 150              		.loc 1 163 7 is_stmt 1 view .LVU53
 151              		.loc 1 163 16 is_stmt 0 view .LVU54
 152 0062 23F02003 		bicne	r3, r3, #32
 153 0066 0B60     		str	r3, [r1]
 164:cpu/STM32F103/stm32f10x_can.c ****     }
 165:cpu/STM32F103/stm32f10x_can.c **** 
 166:cpu/STM32F103/stm32f10x_can.c ****     /* Set the no automatic retransmission */
 167:cpu/STM32F103/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_NART == ENABLE)
 154              		.loc 1 167 5 is_stmt 1 view .LVU55
 155              		.loc 1 167 8 is_stmt 0 view .LVU56
 156 0068 D378     		ldrb	r3, [r2, #3]	@ zero_extendqisi2
 168:cpu/STM32F103/stm32f10x_can.c ****     {
 169:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR |= CAN_MCR_NART;
 157              		.loc 1 169 16 view .LVU57
 158 006a 1D49     		ldr	r1, .L23
 167:cpu/STM32F103/stm32f10x_can.c ****     {
 159              		.loc 1 167 8 view .LVU58
 160 006c 012B     		cmp	r3, #1
 161              		.loc 1 169 16 view .LVU59
 162 006e 0B68     		ldr	r3, [r1]
 163              		.loc 1 169 7 is_stmt 1 view .LVU60
 164              		.loc 1 169 16 is_stmt 0 view .LVU61
 165 0070 0CBF     		ite	eq
 166 0072 43F01003 		orreq	r3, r3, #16
 170:cpu/STM32F103/stm32f10x_can.c ****     }
 171:cpu/STM32F103/stm32f10x_can.c ****     else
 172:cpu/STM32F103/stm32f10x_can.c ****     {
 173:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR &= ~CAN_MCR_NART;
 167              		.loc 1 173 7 is_stmt 1 view .LVU62
 168              		.loc 1 173 16 is_stmt 0 view .LVU63
 169 0076 23F01003 		bicne	r3, r3, #16
 170 007a 0B60     		str	r3, [r1]
 174:cpu/STM32F103/stm32f10x_can.c ****     }
 175:cpu/STM32F103/stm32f10x_can.c **** 
 176:cpu/STM32F103/stm32f10x_can.c ****     /* Set the receive FIFO locked mode */
 177:cpu/STM32F103/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_RFLM == ENABLE)
 171              		.loc 1 177 5 is_stmt 1 view .LVU64
 172              		.loc 1 177 8 is_stmt 0 view .LVU65
 173 007c 1379     		ldrb	r3, [r2, #4]	@ zero_extendqisi2
 178:cpu/STM32F103/stm32f10x_can.c ****     {
 179:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR |= CAN_MCR_RFLM;
 174              		.loc 1 179 16 view .LVU66
 175 007e 1849     		ldr	r1, .L23
 177:cpu/STM32F103/stm32f10x_can.c ****     {
 176              		.loc 1 177 8 view .LVU67
 177 0080 012B     		cmp	r3, #1
 178              		.loc 1 179 16 view .LVU68
 179 0082 0B68     		ldr	r3, [r1]
 180              		.loc 1 179 7 is_stmt 1 view .LVU69
 181              		.loc 1 179 16 is_stmt 0 view .LVU70
 182 0084 0CBF     		ite	eq
 183 0086 43F00803 		orreq	r3, r3, #8
 180:cpu/STM32F103/stm32f10x_can.c ****     }
 181:cpu/STM32F103/stm32f10x_can.c ****     else
 182:cpu/STM32F103/stm32f10x_can.c ****     {
 183:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR &= ~CAN_MCR_RFLM;
 184              		.loc 1 183 7 is_stmt 1 view .LVU71
 185              		.loc 1 183 16 is_stmt 0 view .LVU72
 186 008a 23F00803 		bicne	r3, r3, #8
 187 008e 0B60     		str	r3, [r1]
 184:cpu/STM32F103/stm32f10x_can.c ****     }
 185:cpu/STM32F103/stm32f10x_can.c **** 
 186:cpu/STM32F103/stm32f10x_can.c ****     /* Set the transmit FIFO priority */
 187:cpu/STM32F103/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TXFP == ENABLE)
 188              		.loc 1 187 5 is_stmt 1 view .LVU73
 189              		.loc 1 187 8 is_stmt 0 view .LVU74
 190 0090 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 188:cpu/STM32F103/stm32f10x_can.c ****     {
 189:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR |= CAN_MCR_TXFP;
 191              		.loc 1 189 16 view .LVU75
 192 0092 1349     		ldr	r1, .L23
 187:cpu/STM32F103/stm32f10x_can.c ****     {
 193              		.loc 1 187 8 view .LVU76
 194 0094 012B     		cmp	r3, #1
 195              		.loc 1 189 16 view .LVU77
 196 0096 0B68     		ldr	r3, [r1]
 197              		.loc 1 189 7 is_stmt 1 view .LVU78
 198              		.loc 1 189 16 is_stmt 0 view .LVU79
 199 0098 0CBF     		ite	eq
 200 009a 43F00403 		orreq	r3, r3, #4
 190:cpu/STM32F103/stm32f10x_can.c ****     }
 191:cpu/STM32F103/stm32f10x_can.c ****     else
 192:cpu/STM32F103/stm32f10x_can.c ****     {
 193:cpu/STM32F103/stm32f10x_can.c ****       CAN->MCR &= ~CAN_MCR_TXFP;
 201              		.loc 1 193 7 is_stmt 1 view .LVU80
 194:cpu/STM32F103/stm32f10x_can.c ****     }
 195:cpu/STM32F103/stm32f10x_can.c **** 
 196:cpu/STM32F103/stm32f10x_can.c ****     /* Set the bit timing register */
 197:cpu/STM32F103/stm32f10x_can.c ****     CAN->BTR = (u32)((u32)CAN_InitStruct->CAN_Mode << 30) | ((u32)CAN_InitStruct->CAN_SJW << 24) |
 202              		.loc 1 197 5 view .LVU81
 193:cpu/STM32F103/stm32f10x_can.c ****     }
 203              		.loc 1 193 16 is_stmt 0 view .LVU82
 204 009e 23F00403 		bicne	r3, r3, #4
 205 00a2 0B60     		str	r3, [r1]
 206              		.loc 1 197 62 view .LVU83
 207 00a4 D379     		ldrb	r3, [r2, #7]	@ zero_extendqisi2
 208              		.loc 1 197 22 view .LVU84
 209 00a6 92F806E0 		ldrb	lr, [r2, #6]	@ zero_extendqisi2
 198:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_BS1 << 16) | ((u32)CAN_InitStruct->CAN_BS2 << 20) |
 210              		.loc 1 198 17 view .LVU85
 211 00aa 92F808C0 		ldrb	ip, [r2, #8]	@ zero_extendqisi2
 197:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_BS1 << 16) | ((u32)CAN_InitStruct->CAN_BS2 << 20) |
 212              		.loc 1 197 91 view .LVU86
 213 00ae 1B06     		lsls	r3, r3, #24
 214              		.loc 1 198 56 view .LVU87
 215 00b0 507A     		ldrb	r0, [r2, #9]	@ zero_extendqisi2
 199:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_Prescaler - 1);
 216              		.loc 1 199 17 view .LVU88
 217 00b2 5189     		ldrh	r1, [r2, #10]
 197:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_BS1 << 16) | ((u32)CAN_InitStruct->CAN_BS2 << 20) |
 218              		.loc 1 197 59 view .LVU89
 219 00b4 43EA8E73 		orr	r3, r3, lr, lsl #30
 197:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_BS1 << 16) | ((u32)CAN_InitStruct->CAN_BS2 << 20) |
 220              		.loc 1 197 98 view .LVU90
 221 00b8 43EA0C43 		orr	r3, r3, ip, lsl #16
 197:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_BS1 << 16) | ((u32)CAN_InitStruct->CAN_BS2 << 20) |
 222              		.loc 1 197 14 view .LVU91
 223 00bc 084A     		ldr	r2, .L23
 224              	.LVL4:
 198:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_BS1 << 16) | ((u32)CAN_InitStruct->CAN_BS2 << 20) |
 225              		.loc 1 198 53 view .LVU92
 226 00be 43EA0053 		orr	r3, r3, r0, lsl #20
 227              		.loc 1 199 52 view .LVU93
 228 00c2 0139     		subs	r1, r1, #1
 198:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_BS1 << 16) | ((u32)CAN_InitStruct->CAN_BS2 << 20) |
 229              		.loc 1 198 92 view .LVU94
 230 00c4 0B43     		orrs	r3, r3, r1
 197:cpu/STM32F103/stm32f10x_can.c ****                ((u32)CAN_InitStruct->CAN_BS1 << 16) | ((u32)CAN_InitStruct->CAN_BS2 << 20) |
 231              		.loc 1 197 14 view .LVU95
 232 00c6 D361     		str	r3, [r2, #28]
 200:cpu/STM32F103/stm32f10x_can.c **** 
 201:cpu/STM32F103/stm32f10x_can.c ****     InitStatus = CANINITOK;
 233              		.loc 1 201 5 is_stmt 1 view .LVU96
 234              	.LVL5:
 202:cpu/STM32F103/stm32f10x_can.c **** 
 203:cpu/STM32F103/stm32f10x_can.c ****     /* Request leave initialisation */
 204:cpu/STM32F103/stm32f10x_can.c ****     CAN->MCR &= ~CAN_MCR_INRQ;
 235              		.loc 1 204 5 view .LVU97
 236              		.loc 1 204 14 is_stmt 0 view .LVU98
 237 00c8 1368     		ldr	r3, [r2]
 238 00ca 23F00103 		bic	r3, r3, #1
 239 00ce 1360     		str	r3, [r2]
 205:cpu/STM32F103/stm32f10x_can.c **** 
 206:cpu/STM32F103/stm32f10x_can.c ****     /* Wait the acknowledge */
 207:cpu/STM32F103/stm32f10x_can.c ****     for(WaitAck = 0x400; WaitAck > 0x0; WaitAck--)
 240              		.loc 1 207 5 is_stmt 1 view .LVU99
 241              		.loc 1 207 26 view .LVU100
 208:cpu/STM32F103/stm32f10x_can.c ****     {
 209:cpu/STM32F103/stm32f10x_can.c ****     }
 210:cpu/STM32F103/stm32f10x_can.c ****     
 211:cpu/STM32F103/stm32f10x_can.c ****     /* ...and check acknowledged */
 212:cpu/STM32F103/stm32f10x_can.c ****     if ((CAN->MSR & CAN_MSR_INAK) == CAN_MSR_INAK)
 242              		.loc 1 212 5 view .LVU101
 243              		.loc 1 212 13 is_stmt 0 view .LVU102
 244 00d0 5068     		ldr	r0, [r2, #4]
 245              		.loc 1 212 8 view .LVU103
 246 00d2 C043     		mvns	r0, r0
 247 00d4 00F00100 		and	r0, r0, #1
 248              	.LVL6:
 213:cpu/STM32F103/stm32f10x_can.c ****     {
 214:cpu/STM32F103/stm32f10x_can.c ****       InitStatus = CANINITFAILED;
 215:cpu/STM32F103/stm32f10x_can.c ****     }
 216:cpu/STM32F103/stm32f10x_can.c ****   }
 217:cpu/STM32F103/stm32f10x_can.c **** 
 218:cpu/STM32F103/stm32f10x_can.c ****   /* At this step, return the status of initialization */
 219:cpu/STM32F103/stm32f10x_can.c ****   return InitStatus;
 249              		.loc 1 219 3 is_stmt 1 view .LVU104
 220:cpu/STM32F103/stm32f10x_can.c **** }
 250              		.loc 1 220 1 is_stmt 0 view .LVU105
 251 00d8 5DF804FB 		ldr	pc, [sp], #4
 252              	.LVL7:
 253              	.L20:
 254              	.LCFI3:
 255              		.cfi_def_cfa_offset 0
 256              		.cfi_restore 14
 219:cpu/STM32F103/stm32f10x_can.c **** }
 257              		.loc 1 219 3 is_stmt 1 view .LVU106
 258              		.loc 1 220 1 is_stmt 0 view .LVU107
 259 00dc 7047     		bx	lr
 260              	.L24:
 261 00de 00BF     		.align	2
 262              	.L23:
 263 00e0 00640040 		.word	1073767424
 264              		.cfi_endproc
 265              	.LFE1:
 267              		.align	1
 268              		.p2align 2,,3
 269              		.global	CAN_FilterInit
 270              		.syntax unified
 271              		.thumb
 272              		.thumb_func
 274              	CAN_FilterInit:
 275              	.LVL8:
 276              	.LFB2:
 221:cpu/STM32F103/stm32f10x_can.c **** 
 222:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 223:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_FilterInit
 224:cpu/STM32F103/stm32f10x_can.c **** * Description    : Initializes the CAN peripheral according to the specified
 225:cpu/STM32F103/stm32f10x_can.c **** *                  parameters in the CAN_FilterInitStruct.
 226:cpu/STM32F103/stm32f10x_can.c **** * Input          : CAN_FilterInitStruct: pointer to a CAN_FilterInitTypeDef
 227:cpu/STM32F103/stm32f10x_can.c **** *                  structure that contains the configuration information.
 228:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 229:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
 230:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 231:cpu/STM32F103/stm32f10x_can.c **** void CAN_FilterInit(CAN_FilterInitTypeDef* CAN_FilterInitStruct)
 232:cpu/STM32F103/stm32f10x_can.c **** {
 277              		.loc 1 232 1 is_stmt 1 view -0
 278              		.cfi_startproc
 279              		@ args = 0, pretend = 0, frame = 0
 280              		@ frame_needed = 0, uses_anonymous_args = 0
 281              		@ link register save eliminated.
 233:cpu/STM32F103/stm32f10x_can.c ****   u16 FilterNumber_BitPos = 0;
 282              		.loc 1 233 3 view .LVU109
 234:cpu/STM32F103/stm32f10x_can.c **** 
 235:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 236:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_NUMBER(CAN_FilterInitStruct->CAN_FilterNumber));
 283              		.loc 1 236 3 view .LVU110
 237:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_MODE(CAN_FilterInitStruct->CAN_FilterMode));
 284              		.loc 1 237 3 view .LVU111
 238:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_SCALE(CAN_FilterInitStruct->CAN_FilterScale));
 285              		.loc 1 238 3 view .LVU112
 239:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_FIFO(CAN_FilterInitStruct->CAN_FilterFIFOAssignment));
 286              		.loc 1 239 3 view .LVU113
 240:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_FilterInitStruct->CAN_FilterActivation));
 287              		.loc 1 240 3 view .LVU114
 241:cpu/STM32F103/stm32f10x_can.c **** 
 242:cpu/STM32F103/stm32f10x_can.c ****   FilterNumber_BitPos = 
 288              		.loc 1 242 3 view .LVU115
 243:cpu/STM32F103/stm32f10x_can.c ****   (u16)((u16)0x0001 << ((u16)CAN_FilterInitStruct->CAN_FilterNumber));
 289              		.loc 1 243 21 is_stmt 0 view .LVU116
 290 00e4 0123     		movs	r3, #1
 232:cpu/STM32F103/stm32f10x_can.c ****   u16 FilterNumber_BitPos = 0;
 291              		.loc 1 232 1 view .LVU117
 292 00e6 30B4     		push	{r4, r5}
 293              	.LCFI4:
 294              		.cfi_def_cfa_offset 8
 295              		.cfi_offset 4, -8
 296              		.cfi_offset 5, -4
 244:cpu/STM32F103/stm32f10x_can.c **** 
 245:cpu/STM32F103/stm32f10x_can.c ****   /* Initialisation mode for the filter */
 246:cpu/STM32F103/stm32f10x_can.c ****   CAN->FMR |= CAN_FMR_FINIT;
 297              		.loc 1 246 12 view .LVU118
 298 00e8 3A4C     		ldr	r4, .L35
 243:cpu/STM32F103/stm32f10x_can.c **** 
 299              		.loc 1 243 50 view .LVU119
 300 00ea 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 301              	.LVL9:
 302              		.loc 1 246 3 is_stmt 1 view .LVU120
 303              		.loc 1 246 12 is_stmt 0 view .LVU121
 304 00ec D4F80012 		ldr	r1, [r4, #512]
 305 00f0 1943     		orrs	r1, r1, r3
 306 00f2 C4F80012 		str	r1, [r4, #512]
 247:cpu/STM32F103/stm32f10x_can.c **** 
 248:cpu/STM32F103/stm32f10x_can.c ****   /* Filter Deactivation */
 249:cpu/STM32F103/stm32f10x_can.c ****   CAN->FA1R &= ~(u32)FilterNumber_BitPos;
 307              		.loc 1 249 3 is_stmt 1 view .LVU122
 308              		.loc 1 249 13 is_stmt 0 view .LVU123
 309 00f6 D4F81C12 		ldr	r1, [r4, #540]
 243:cpu/STM32F103/stm32f10x_can.c **** 
 310              		.loc 1 243 21 view .LVU124
 311 00fa 9340     		lsls	r3, r3, r2
 312              		.loc 1 249 17 view .LVU125
 313 00fc 9BB2     		uxth	r3, r3
 314              		.loc 1 249 13 view .LVU126
 315 00fe 21EA0301 		bic	r1, r1, r3
 316 0102 C4F81C12 		str	r1, [r4, #540]
 250:cpu/STM32F103/stm32f10x_can.c **** 
 251:cpu/STM32F103/stm32f10x_can.c ****   /* Filter Scale */
 252:cpu/STM32F103/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_16bit)
 317              		.loc 1 252 3 is_stmt 1 view .LVU127
 318              		.loc 1 252 27 is_stmt 0 view .LVU128
 319 0106 8578     		ldrb	r5, [r0, #2]	@ zero_extendqisi2
 249:cpu/STM32F103/stm32f10x_can.c **** 
 320              		.loc 1 249 16 view .LVU129
 321 0108 D943     		mvns	r1, r3
 322              		.loc 1 252 6 view .LVU130
 323 010a 002D     		cmp	r5, #0
 324 010c 48D1     		bne	.L26
 253:cpu/STM32F103/stm32f10x_can.c ****   {
 254:cpu/STM32F103/stm32f10x_can.c ****     /* 16-bit scale for the filter */
 255:cpu/STM32F103/stm32f10x_can.c ****     CAN->FS1R &= ~(u32)FilterNumber_BitPos;
 325              		.loc 1 255 5 is_stmt 1 view .LVU131
 326              		.loc 1 255 15 is_stmt 0 view .LVU132
 327 010e D4F80C52 		ldr	r5, [r4, #524]
 328 0112 D200     		lsls	r2, r2, #3
 329              	.LVL10:
 330              		.loc 1 255 15 view .LVU133
 331 0114 0D40     		ands	r5, r5, r1
 332 0116 C4F80C52 		str	r5, [r4, #524]
 256:cpu/STM32F103/stm32f10x_can.c **** 
 257:cpu/STM32F103/stm32f10x_can.c ****     /* First 16-bit identifier and First 16-bit mask */
 258:cpu/STM32F103/stm32f10x_can.c ****     /* Or First 16-bit identifier and Second 16-bit identifier */
 259:cpu/STM32F103/stm32f10x_can.c ****     CAN->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 333              		.loc 1 259 5 is_stmt 1 view .LVU134
 260:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 334              		.loc 1 260 6 is_stmt 0 view .LVU135
 335 011a 4589     		ldrh	r5, [r0, #10]
 261:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdLow);
 336              		.loc 1 261 26 view .LVU136
 337 011c C488     		ldrh	r4, [r0, #6]
 338 011e 02F18042 		add	r2, r2, #1073741824
 260:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 339              		.loc 1 260 80 view .LVU137
 340 0122 44EA0544 		orr	r4, r4, r5, lsl #16
 341 0126 02F5C842 		add	r2, r2, #25600
 262:cpu/STM32F103/stm32f10x_can.c **** 
 263:cpu/STM32F103/stm32f10x_can.c ****     /* Second 16-bit identifier and Second 16-bit mask */
 264:cpu/STM32F103/stm32f10x_can.c ****     /* Or Third 16-bit identifier and Fourth 16-bit identifier */
 265:cpu/STM32F103/stm32f10x_can.c ****     CAN->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 266:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 342              		.loc 1 266 6 view .LVU138
 343 012a 0589     		ldrh	r5, [r0, #8]
 259:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 344              		.loc 1 259 70 view .LVU139
 345 012c C2F84042 		str	r4, [r2, #576]
 265:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 346              		.loc 1 265 5 is_stmt 1 view .LVU140
 267:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdHigh);
 347              		.loc 1 267 26 is_stmt 0 view .LVU141
 348 0130 8488     		ldrh	r4, [r0, #4]
 266:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdHigh);
 349              		.loc 1 266 81 view .LVU142
 350 0132 44EA0544 		orr	r4, r4, r5, lsl #16
 265:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 351              		.loc 1 265 70 view .LVU143
 352 0136 C2F84442 		str	r4, [r2, #580]
 268:cpu/STM32F103/stm32f10x_can.c ****   }
 269:cpu/STM32F103/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_32bit)
 353              		.loc 1 269 3 is_stmt 1 view .LVU144
 354              	.L27:
 270:cpu/STM32F103/stm32f10x_can.c ****   {
 271:cpu/STM32F103/stm32f10x_can.c ****     /* 32-bit scale for the filter */
 272:cpu/STM32F103/stm32f10x_can.c ****     CAN->FS1R |= FilterNumber_BitPos;
 273:cpu/STM32F103/stm32f10x_can.c **** 
 274:cpu/STM32F103/stm32f10x_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 275:cpu/STM32F103/stm32f10x_can.c ****     CAN->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 276:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 277:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdLow);
 278:cpu/STM32F103/stm32f10x_can.c **** 
 279:cpu/STM32F103/stm32f10x_can.c ****     /* 32-bit mask or Second 32-bit identifier */
 280:cpu/STM32F103/stm32f10x_can.c ****     CAN->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 281:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 282:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 283:cpu/STM32F103/stm32f10x_can.c **** 
 284:cpu/STM32F103/stm32f10x_can.c ****   }
 285:cpu/STM32F103/stm32f10x_can.c **** 
 286:cpu/STM32F103/stm32f10x_can.c ****   /* Filter Mode */
 287:cpu/STM32F103/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdMask)
 355              		.loc 1 287 3 view .LVU145
 356              		.loc 1 287 6 is_stmt 0 view .LVU146
 357 013a 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 288:cpu/STM32F103/stm32f10x_can.c ****   {
 289:cpu/STM32F103/stm32f10x_can.c ****     /*Id/Mask mode for the filter*/
 290:cpu/STM32F103/stm32f10x_can.c ****     CAN->FM1R &= ~(u32)FilterNumber_BitPos;
 358              		.loc 1 290 15 view .LVU147
 359 013c 254C     		ldr	r4, .L35
 287:cpu/STM32F103/stm32f10x_can.c ****   {
 360              		.loc 1 287 6 view .LVU148
 361 013e F2B9     		cbnz	r2, .L28
 362              		.loc 1 290 5 is_stmt 1 view .LVU149
 291:cpu/STM32F103/stm32f10x_can.c ****   }
 292:cpu/STM32F103/stm32f10x_can.c ****   else /* CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdList */
 293:cpu/STM32F103/stm32f10x_can.c ****   {
 294:cpu/STM32F103/stm32f10x_can.c ****     /*Identifier list mode for the filter*/
 295:cpu/STM32F103/stm32f10x_can.c ****     CAN->FM1R |= (u32)FilterNumber_BitPos;
 296:cpu/STM32F103/stm32f10x_can.c ****   }
 297:cpu/STM32F103/stm32f10x_can.c **** 
 298:cpu/STM32F103/stm32f10x_can.c ****   /* Filter FIFO assignment */
 299:cpu/STM32F103/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_FilterFIFO0)
 363              		.loc 1 299 3 view .LVU150
 290:cpu/STM32F103/stm32f10x_can.c ****   }
 364              		.loc 1 290 15 is_stmt 0 view .LVU151
 365 0140 D4F80422 		ldr	r2, [r4, #516]
 366 0144 0A40     		ands	r2, r2, r1
 367 0146 C4F80422 		str	r2, [r4, #516]
 368              		.loc 1 299 27 view .LVU152
 369 014a 8289     		ldrh	r2, [r0, #12]
 370              		.loc 1 299 6 view .LVU153
 371 014c FAB9     		cbnz	r2, .L30
 372              	.L34:
 300:cpu/STM32F103/stm32f10x_can.c ****   {
 301:cpu/STM32F103/stm32f10x_can.c ****     /* FIFO 0 assignation for the filter */
 302:cpu/STM32F103/stm32f10x_can.c ****     CAN->FFA1R &= ~(u32)FilterNumber_BitPos;
 373              		.loc 1 302 5 is_stmt 1 view .LVU154
 374              		.loc 1 302 16 is_stmt 0 view .LVU155
 375 014e 214A     		ldr	r2, .L35
 376 0150 D2F81442 		ldr	r4, [r2, #532]
 377 0154 2140     		ands	r1, r1, r4
 378 0156 C2F81412 		str	r1, [r2, #532]
 303:cpu/STM32F103/stm32f10x_can.c ****   }
 304:cpu/STM32F103/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_FilterFIFO1)
 379              		.loc 1 304 3 is_stmt 1 view .LVU156
 380              	.L31:
 305:cpu/STM32F103/stm32f10x_can.c ****   {
 306:cpu/STM32F103/stm32f10x_can.c ****     /* FIFO 1 assignation for the filter */
 307:cpu/STM32F103/stm32f10x_can.c ****     CAN->FFA1R |= (u32)FilterNumber_BitPos;
 308:cpu/STM32F103/stm32f10x_can.c ****   }
 309:cpu/STM32F103/stm32f10x_can.c ****   
 310:cpu/STM32F103/stm32f10x_can.c ****   /* Filter activation */
 311:cpu/STM32F103/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterActivation == ENABLE)
 381              		.loc 1 311 3 view .LVU157
 382              		.loc 1 311 6 is_stmt 0 view .LVU158
 383 015a 827B     		ldrb	r2, [r0, #14]	@ zero_extendqisi2
 384 015c 012A     		cmp	r2, #1
 385 015e 05D1     		bne	.L32
 312:cpu/STM32F103/stm32f10x_can.c ****   {
 313:cpu/STM32F103/stm32f10x_can.c ****     CAN->FA1R |= FilterNumber_BitPos;
 386              		.loc 1 313 5 is_stmt 1 view .LVU159
 387              		.loc 1 313 15 is_stmt 0 view .LVU160
 388 0160 1C4A     		ldr	r2, .L35
 389 0162 D2F81C12 		ldr	r1, [r2, #540]
 390 0166 0B43     		orrs	r3, r3, r1
 391 0168 C2F81C32 		str	r3, [r2, #540]
 392              	.L32:
 314:cpu/STM32F103/stm32f10x_can.c ****   }
 315:cpu/STM32F103/stm32f10x_can.c **** 
 316:cpu/STM32F103/stm32f10x_can.c ****   /* Leave the initialisation mode for the filter */
 317:cpu/STM32F103/stm32f10x_can.c ****   CAN->FMR &= ~CAN_FMR_FINIT;
 393              		.loc 1 317 3 is_stmt 1 view .LVU161
 394              		.loc 1 317 12 is_stmt 0 view .LVU162
 395 016c 194A     		ldr	r2, .L35
 318:cpu/STM32F103/stm32f10x_can.c **** }
 396              		.loc 1 318 1 view .LVU163
 397 016e 30BC     		pop	{r4, r5}
 398              	.LCFI5:
 399              		.cfi_remember_state
 400              		.cfi_restore 5
 401              		.cfi_restore 4
 402              		.cfi_def_cfa_offset 0
 317:cpu/STM32F103/stm32f10x_can.c **** }
 403              		.loc 1 317 12 view .LVU164
 404 0170 D2F80032 		ldr	r3, [r2, #512]
 405 0174 23F00103 		bic	r3, r3, #1
 406 0178 C2F80032 		str	r3, [r2, #512]
 407              		.loc 1 318 1 view .LVU165
 408 017c 7047     		bx	lr
 409              	.L28:
 410              	.LCFI6:
 411              		.cfi_restore_state
 295:cpu/STM32F103/stm32f10x_can.c ****   }
 412              		.loc 1 295 5 is_stmt 1 view .LVU166
 295:cpu/STM32F103/stm32f10x_can.c ****   }
 413              		.loc 1 295 15 is_stmt 0 view .LVU167
 414 017e D4F80422 		ldr	r2, [r4, #516]
 415 0182 1A43     		orrs	r2, r2, r3
 416 0184 C4F80422 		str	r2, [r4, #516]
 299:cpu/STM32F103/stm32f10x_can.c ****   {
 417              		.loc 1 299 3 is_stmt 1 view .LVU168
 299:cpu/STM32F103/stm32f10x_can.c ****   {
 418              		.loc 1 299 27 is_stmt 0 view .LVU169
 419 0188 8289     		ldrh	r2, [r0, #12]
 299:cpu/STM32F103/stm32f10x_can.c ****   {
 420              		.loc 1 299 6 view .LVU170
 421 018a 002A     		cmp	r2, #0
 422 018c DFD0     		beq	.L34
 423              	.L30:
 304:cpu/STM32F103/stm32f10x_can.c ****   {
 424              		.loc 1 304 3 is_stmt 1 view .LVU171
 304:cpu/STM32F103/stm32f10x_can.c ****   {
 425              		.loc 1 304 6 is_stmt 0 view .LVU172
 426 018e 012A     		cmp	r2, #1
 427 0190 E3D1     		bne	.L31
 307:cpu/STM32F103/stm32f10x_can.c ****   }
 428              		.loc 1 307 5 is_stmt 1 view .LVU173
 307:cpu/STM32F103/stm32f10x_can.c ****   }
 429              		.loc 1 307 16 is_stmt 0 view .LVU174
 430 0192 1049     		ldr	r1, .L35
 431 0194 D1F81422 		ldr	r2, [r1, #532]
 432 0198 1A43     		orrs	r2, r2, r3
 433 019a C1F81422 		str	r2, [r1, #532]
 434 019e DCE7     		b	.L31
 435              	.LVL11:
 436              	.L26:
 269:cpu/STM32F103/stm32f10x_can.c ****   {
 437              		.loc 1 269 3 is_stmt 1 view .LVU175
 269:cpu/STM32F103/stm32f10x_can.c ****   {
 438              		.loc 1 269 6 is_stmt 0 view .LVU176
 439 01a0 012D     		cmp	r5, #1
 440 01a2 CAD1     		bne	.L27
 272:cpu/STM32F103/stm32f10x_can.c **** 
 441              		.loc 1 272 5 is_stmt 1 view .LVU177
 272:cpu/STM32F103/stm32f10x_can.c **** 
 442              		.loc 1 272 15 is_stmt 0 view .LVU178
 443 01a4 D4F80C52 		ldr	r5, [r4, #524]
 444 01a8 D200     		lsls	r2, r2, #3
 445              	.LVL12:
 272:cpu/STM32F103/stm32f10x_can.c **** 
 446              		.loc 1 272 15 view .LVU179
 447 01aa 1D43     		orrs	r5, r5, r3
 448 01ac C4F80C52 		str	r5, [r4, #524]
 275:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 449              		.loc 1 275 5 is_stmt 1 view .LVU180
 276:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdLow);
 450              		.loc 1 276 6 is_stmt 0 view .LVU181
 451 01b0 8588     		ldrh	r5, [r0, #4]
 277:cpu/STM32F103/stm32f10x_can.c **** 
 452              		.loc 1 277 26 view .LVU182
 453 01b2 C488     		ldrh	r4, [r0, #6]
 454 01b4 02F18042 		add	r2, r2, #1073741824
 276:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdLow);
 455              		.loc 1 276 77 view .LVU183
 456 01b8 44EA0544 		orr	r4, r4, r5, lsl #16
 457 01bc 02F5C842 		add	r2, r2, #25600
 281:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 458              		.loc 1 281 6 view .LVU184
 459 01c0 0589     		ldrh	r5, [r0, #8]
 275:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 460              		.loc 1 275 70 view .LVU185
 461 01c2 C2F84042 		str	r4, [r2, #576]
 280:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 462              		.loc 1 280 5 is_stmt 1 view .LVU186
 282:cpu/STM32F103/stm32f10x_can.c **** 
 463              		.loc 1 282 26 is_stmt 0 view .LVU187
 464 01c6 4489     		ldrh	r4, [r0, #10]
 281:cpu/STM32F103/stm32f10x_can.c ****         ((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 465              		.loc 1 281 81 view .LVU188
 466 01c8 44EA0544 		orr	r4, r4, r5, lsl #16
 280:cpu/STM32F103/stm32f10x_can.c ****     ((u32)((u32)0x0000FFFF & CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 467              		.loc 1 280 70 view .LVU189
 468 01cc C2F84442 		str	r4, [r2, #580]
 469 01d0 B3E7     		b	.L27
 470              	.L36:
 471 01d2 00BF     		.align	2
 472              	.L35:
 473 01d4 00640040 		.word	1073767424
 474              		.cfi_endproc
 475              	.LFE2:
 477              		.align	1
 478              		.p2align 2,,3
 479              		.global	CAN_StructInit
 480              		.syntax unified
 481              		.thumb
 482              		.thumb_func
 484              	CAN_StructInit:
 485              	.LVL13:
 486              	.LFB3:
 319:cpu/STM32F103/stm32f10x_can.c **** 
 320:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 321:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_StructInit
 322:cpu/STM32F103/stm32f10x_can.c **** * Description    : Fills each CAN_InitStruct member with its default value.
 323:cpu/STM32F103/stm32f10x_can.c **** * Input          : CAN_InitStruct: pointer to a CAN_InitTypeDef structure which
 324:cpu/STM32F103/stm32f10x_can.c **** *                  will be initialized.
 325:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 326:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
 327:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 328:cpu/STM32F103/stm32f10x_can.c **** void CAN_StructInit(CAN_InitTypeDef* CAN_InitStruct)
 329:cpu/STM32F103/stm32f10x_can.c **** {
 487              		.loc 1 329 1 is_stmt 1 view -0
 488              		.cfi_startproc
 489              		@ args = 0, pretend = 0, frame = 0
 490              		@ frame_needed = 0, uses_anonymous_args = 0
 491              		@ link register save eliminated.
 330:cpu/STM32F103/stm32f10x_can.c ****   /* Reset CAN init structure parameters values */
 331:cpu/STM32F103/stm32f10x_can.c **** 
 332:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the time triggered communication mode */
 333:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_TTCM = DISABLE;
 492              		.loc 1 333 3 view .LVU191
 334:cpu/STM32F103/stm32f10x_can.c **** 
 335:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the automatic bus-off management */
 336:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_ABOM = DISABLE;
 493              		.loc 1 336 3 view .LVU192
 337:cpu/STM32F103/stm32f10x_can.c **** 
 338:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the automatic wake-up mode */
 339:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_AWUM = DISABLE;
 494              		.loc 1 339 3 view .LVU193
 340:cpu/STM32F103/stm32f10x_can.c **** 
 341:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the no automatic retransmission */
 342:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_NART = DISABLE;
 495              		.loc 1 342 3 view .LVU194
 343:cpu/STM32F103/stm32f10x_can.c **** 
 344:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the receive FIFO locked mode */
 345:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_RFLM = DISABLE;
 496              		.loc 1 345 3 view .LVU195
 346:cpu/STM32F103/stm32f10x_can.c **** 
 347:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the transmit FIFO priority */
 348:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_TXFP = DISABLE;
 497              		.loc 1 348 3 view .LVU196
 349:cpu/STM32F103/stm32f10x_can.c **** 
 350:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the CAN_Mode member */
 351:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_Mode = CAN_Mode_Normal;
 498              		.loc 1 351 3 view .LVU197
 352:cpu/STM32F103/stm32f10x_can.c **** 
 353:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the CAN_SJW member */
 354:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_SJW = CAN_SJW_1tq;
 499              		.loc 1 354 3 view .LVU198
 355:cpu/STM32F103/stm32f10x_can.c **** 
 356:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the CAN_BS1 member */
 357:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS1 = CAN_BS1_4tq;
 500              		.loc 1 357 3 view .LVU199
 358:cpu/STM32F103/stm32f10x_can.c **** 
 359:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the CAN_BS2 member */
 360:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS2 = CAN_BS2_3tq;
 501              		.loc 1 360 3 view .LVU200
 361:cpu/STM32F103/stm32f10x_can.c **** 
 362:cpu/STM32F103/stm32f10x_can.c ****   /* Initialize the CAN_Prescaler member */
 363:cpu/STM32F103/stm32f10x_can.c ****   CAN_InitStruct->CAN_Prescaler = 1;
 502              		.loc 1 363 3 view .LVU201
 333:cpu/STM32F103/stm32f10x_can.c **** 
 503              		.loc 1 333 28 is_stmt 0 view .LVU202
 504 01d8 0023     		movs	r3, #0
 357:cpu/STM32F103/stm32f10x_can.c **** 
 505              		.loc 1 357 27 view .LVU203
 506 01da 40F20321 		movw	r1, #515
 507              		.loc 1 363 33 view .LVU204
 508 01de 0122     		movs	r2, #1
 333:cpu/STM32F103/stm32f10x_can.c **** 
 509              		.loc 1 333 28 view .LVU205
 510 01e0 0380     		strh	r3, [r0]	@ movhi
 339:cpu/STM32F103/stm32f10x_can.c **** 
 511              		.loc 1 339 28 view .LVU206
 512 01e2 4380     		strh	r3, [r0, #2]	@ movhi
 345:cpu/STM32F103/stm32f10x_can.c **** 
 513              		.loc 1 345 28 view .LVU207
 514 01e4 8380     		strh	r3, [r0, #4]	@ movhi
 351:cpu/STM32F103/stm32f10x_can.c **** 
 515              		.loc 1 351 28 view .LVU208
 516 01e6 C380     		strh	r3, [r0, #6]	@ movhi
 357:cpu/STM32F103/stm32f10x_can.c **** 
 517              		.loc 1 357 27 view .LVU209
 518 01e8 0181     		strh	r1, [r0, #8]	@ movhi
 519              		.loc 1 363 33 view .LVU210
 520 01ea 4281     		strh	r2, [r0, #10]	@ movhi
 364:cpu/STM32F103/stm32f10x_can.c **** }
 521              		.loc 1 364 1 view .LVU211
 522 01ec 7047     		bx	lr
 523              		.cfi_endproc
 524              	.LFE3:
 526              		.align	1
 527 01ee 00BF     		.p2align 2,,3
 528              		.global	CAN_ITConfig
 529              		.syntax unified
 530              		.thumb
 531              		.thumb_func
 533              	CAN_ITConfig:
 534              	.LVL14:
 535              	.LFB4:
 365:cpu/STM32F103/stm32f10x_can.c **** 
 366:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 367:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_ITConfig
 368:cpu/STM32F103/stm32f10x_can.c **** * Description    : Enables or disables the specified CAN interrupts.
 369:cpu/STM32F103/stm32f10x_can.c **** * Input          : - CAN_IT: specifies the CAN interrupt sources to be enabled or
 370:cpu/STM32F103/stm32f10x_can.c **** *                    disabled.
 371:cpu/STM32F103/stm32f10x_can.c **** *                    This parameter can be: CAN_IT_TME, CAN_IT_FMP0, CAN_IT_FF0,
 372:cpu/STM32F103/stm32f10x_can.c **** *                                           CAN_IT_FOV0, CAN_IT_FMP1, CAN_IT_FF1,
 373:cpu/STM32F103/stm32f10x_can.c **** *                                           CAN_IT_FOV1, CAN_IT_EWG, CAN_IT_EPV,
 374:cpu/STM32F103/stm32f10x_can.c **** *                                           CAN_IT_LEC, CAN_IT_ERR, CAN_IT_WKU or
 375:cpu/STM32F103/stm32f10x_can.c **** *                                           CAN_IT_SLK.
 376:cpu/STM32F103/stm32f10x_can.c **** *                  - NewState: new state of the CAN interrupts.
 377:cpu/STM32F103/stm32f10x_can.c **** *                    This parameter can be: ENABLE or DISABLE.
 378:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 379:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
 380:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 381:cpu/STM32F103/stm32f10x_can.c **** void CAN_ITConfig(u32 CAN_IT, FunctionalState NewState)
 382:cpu/STM32F103/stm32f10x_can.c **** {
 536              		.loc 1 382 1 is_stmt 1 view -0
 537              		.cfi_startproc
 538              		@ args = 0, pretend = 0, frame = 0
 539              		@ frame_needed = 0, uses_anonymous_args = 0
 540              		@ link register save eliminated.
 383:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 384:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_ITConfig(CAN_IT));
 541              		.loc 1 384 3 view .LVU213
 385:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 542              		.loc 1 385 3 view .LVU214
 386:cpu/STM32F103/stm32f10x_can.c **** 
 387:cpu/STM32F103/stm32f10x_can.c ****   if (NewState != DISABLE)
 543              		.loc 1 387 3 view .LVU215
 388:cpu/STM32F103/stm32f10x_can.c ****   {
 389:cpu/STM32F103/stm32f10x_can.c ****     /* Enable the selected CAN interrupt */
 390:cpu/STM32F103/stm32f10x_can.c ****     CAN->IER |= CAN_IT;
 544              		.loc 1 390 14 is_stmt 0 view .LVU216
 545 01f0 044A     		ldr	r2, .L41
 546 01f2 5369     		ldr	r3, [r2, #20]
 387:cpu/STM32F103/stm32f10x_can.c ****   {
 547              		.loc 1 387 6 view .LVU217
 548 01f4 11B1     		cbz	r1, .L39
 549              		.loc 1 390 5 is_stmt 1 view .LVU218
 550              		.loc 1 390 14 is_stmt 0 view .LVU219
 551 01f6 1843     		orrs	r0, r0, r3
 552              	.LVL15:
 553              		.loc 1 390 14 view .LVU220
 554 01f8 5061     		str	r0, [r2, #20]
 555 01fa 7047     		bx	lr
 556              	.LVL16:
 557              	.L39:
 391:cpu/STM32F103/stm32f10x_can.c ****   }
 392:cpu/STM32F103/stm32f10x_can.c ****   else
 393:cpu/STM32F103/stm32f10x_can.c ****   {
 394:cpu/STM32F103/stm32f10x_can.c ****     /* Disable the selected CAN interrupt */
 395:cpu/STM32F103/stm32f10x_can.c ****     CAN->IER &= ~CAN_IT;
 558              		.loc 1 395 5 is_stmt 1 view .LVU221
 559              		.loc 1 395 14 is_stmt 0 view .LVU222
 560 01fc 23EA0000 		bic	r0, r3, r0
 561              	.LVL17:
 562              		.loc 1 395 14 view .LVU223
 563 0200 5061     		str	r0, [r2, #20]
 396:cpu/STM32F103/stm32f10x_can.c ****   }
 397:cpu/STM32F103/stm32f10x_can.c **** }
 564              		.loc 1 397 1 view .LVU224
 565 0202 7047     		bx	lr
 566              	.L42:
 567              		.align	2
 568              	.L41:
 569 0204 00640040 		.word	1073767424
 570              		.cfi_endproc
 571              	.LFE4:
 573              		.align	1
 574              		.p2align 2,,3
 575              		.global	CAN_Transmit
 576              		.syntax unified
 577              		.thumb
 578              		.thumb_func
 580              	CAN_Transmit:
 581              	.LVL18:
 582              	.LFB5:
 398:cpu/STM32F103/stm32f10x_can.c **** 
 399:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 400:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_Transmit
 401:cpu/STM32F103/stm32f10x_can.c **** * Description    : Initiates the transmission of a message.
 402:cpu/STM32F103/stm32f10x_can.c **** * Input          : TxMessage: pointer to a structure which contains CAN Id, CAN
 403:cpu/STM32F103/stm32f10x_can.c **** *                  DLC and CAN datas.
 404:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 405:cpu/STM32F103/stm32f10x_can.c **** * Return         : The number of the mailbox that is used for transmission
 406:cpu/STM32F103/stm32f10x_can.c **** *                  or CAN_NO_MB if there is no empty mailbox.
 407:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 408:cpu/STM32F103/stm32f10x_can.c **** u8 CAN_Transmit(CanTxMsg* TxMessage)
 409:cpu/STM32F103/stm32f10x_can.c **** {
 583              		.loc 1 409 1 is_stmt 1 view -0
 584              		.cfi_startproc
 585              		@ args = 0, pretend = 0, frame = 0
 586              		@ frame_needed = 0, uses_anonymous_args = 0
 587              		@ link register save eliminated.
 410:cpu/STM32F103/stm32f10x_can.c ****   u8 TransmitMailbox = 0;
 588              		.loc 1 410 3 view .LVU226
 411:cpu/STM32F103/stm32f10x_can.c **** 
 412:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 413:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_STDID(TxMessage->StdId));
 589              		.loc 1 413 3 view .LVU227
 414:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_EXTID(TxMessage->StdId));
 590              		.loc 1 414 3 view .LVU228
 415:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_IDTYPE(TxMessage->IDE));
 591              		.loc 1 415 3 view .LVU229
 416:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_RTR(TxMessage->RTR));
 592              		.loc 1 416 3 view .LVU230
 417:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_DLC(TxMessage->DLC));
 593              		.loc 1 417 3 view .LVU231
 418:cpu/STM32F103/stm32f10x_can.c **** 
 419:cpu/STM32F103/stm32f10x_can.c ****   /* Select one empty transmit mailbox */
 420:cpu/STM32F103/stm32f10x_can.c ****   if ((CAN->TSR&CAN_TSR_TME0) == CAN_TSR_TME0)
 594              		.loc 1 420 3 view .LVU232
 595              		.loc 1 420 11 is_stmt 0 view .LVU233
 596 0208 2F4B     		ldr	r3, .L56
 409:cpu/STM32F103/stm32f10x_can.c ****   u8 TransmitMailbox = 0;
 597              		.loc 1 409 1 view .LVU234
 598 020a 0246     		mov	r2, r0
 599              		.loc 1 420 11 view .LVU235
 600 020c 9968     		ldr	r1, [r3, #8]
 601              		.loc 1 420 6 view .LVU236
 602 020e 4801     		lsls	r0, r1, #5
 603              	.LVL19:
 604              		.loc 1 420 6 view .LVU237
 605 0210 05D4     		bmi	.L48
 421:cpu/STM32F103/stm32f10x_can.c ****   {
 422:cpu/STM32F103/stm32f10x_can.c ****     TransmitMailbox = 0;
 423:cpu/STM32F103/stm32f10x_can.c ****   }
 424:cpu/STM32F103/stm32f10x_can.c ****   else if ((CAN->TSR&CAN_TSR_TME1) == CAN_TSR_TME1)
 606              		.loc 1 424 8 is_stmt 1 view .LVU238
 607              		.loc 1 424 16 is_stmt 0 view .LVU239
 608 0212 9968     		ldr	r1, [r3, #8]
 609              		.loc 1 424 11 view .LVU240
 610 0214 0901     		lsls	r1, r1, #4
 611 0216 4ED5     		bpl	.L54
 612 0218 0121     		movs	r1, #1
 425:cpu/STM32F103/stm32f10x_can.c ****   {
 426:cpu/STM32F103/stm32f10x_can.c ****     TransmitMailbox = 1;
 613              		.loc 1 426 21 view .LVU241
 614 021a 0846     		mov	r0, r1
 615 021c 01E0     		b	.L44
 616              	.L48:
 617 021e 0021     		movs	r1, #0
 422:cpu/STM32F103/stm32f10x_can.c ****   }
 618              		.loc 1 422 21 view .LVU242
 619 0220 0846     		mov	r0, r1
 620              	.L44:
 621              	.LVL20:
 427:cpu/STM32F103/stm32f10x_can.c ****   }
 428:cpu/STM32F103/stm32f10x_can.c ****   else if ((CAN->TSR&CAN_TSR_TME2) == CAN_TSR_TME2)
 429:cpu/STM32F103/stm32f10x_can.c ****   {
 430:cpu/STM32F103/stm32f10x_can.c ****     TransmitMailbox = 2;
 431:cpu/STM32F103/stm32f10x_can.c ****   }
 432:cpu/STM32F103/stm32f10x_can.c ****   else
 433:cpu/STM32F103/stm32f10x_can.c ****   {
 434:cpu/STM32F103/stm32f10x_can.c ****     TransmitMailbox = CAN_NO_MB;
 435:cpu/STM32F103/stm32f10x_can.c ****   }
 436:cpu/STM32F103/stm32f10x_can.c **** 
 437:cpu/STM32F103/stm32f10x_can.c ****   if (TransmitMailbox != CAN_NO_MB)
 438:cpu/STM32F103/stm32f10x_can.c ****   {
 439:cpu/STM32F103/stm32f10x_can.c ****     /* Set up the Id */
 440:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TIR &= CAN_TMIDxR_TXRQ;
 622              		.loc 1 440 5 is_stmt 1 view .LVU243
 623 0222 0901     		lsls	r1, r1, #4
 624 0224 01F18043 		add	r3, r1, #1073741824
 409:cpu/STM32F103/stm32f10x_can.c ****   u8 TransmitMailbox = 0;
 625              		.loc 1 409 1 is_stmt 0 view .LVU244
 626 0228 30B4     		push	{r4, r5}
 627              	.LCFI7:
 628              		.cfi_def_cfa_offset 8
 629              		.cfi_offset 4, -8
 630              		.cfi_offset 5, -4
 631 022a 03F5C843 		add	r3, r3, #25600
 632              		.loc 1 440 42 view .LVU245
 633 022e D3F88041 		ldr	r4, [r3, #384]
 634 0232 04F00104 		and	r4, r4, #1
 635 0236 C3F88041 		str	r4, [r3, #384]
 441:cpu/STM32F103/stm32f10x_can.c ****     if (TxMessage->IDE == CAN_ID_STD)
 636              		.loc 1 441 5 is_stmt 1 view .LVU246
 637              		.loc 1 441 18 is_stmt 0 view .LVU247
 638 023a 147A     		ldrb	r4, [r2, #8]	@ zero_extendqisi2
 639              		.loc 1 441 8 view .LVU248
 640 023c 84B3     		cbz	r4, .L55
 442:cpu/STM32F103/stm32f10x_can.c ****     {
 443:cpu/STM32F103/stm32f10x_can.c ****       TxMessage->StdId &= (u32)0x000007FF;
 444:cpu/STM32F103/stm32f10x_can.c ****       TxMessage->StdId = TxMessage->StdId << 21;
 445:cpu/STM32F103/stm32f10x_can.c ****       
 446:cpu/STM32F103/stm32f10x_can.c ****       CAN->sTxMailBox[TransmitMailbox].TIR |= (TxMessage->StdId | TxMessage->IDE |
 447:cpu/STM32F103/stm32f10x_can.c ****                                                TxMessage->RTR);
 448:cpu/STM32F103/stm32f10x_can.c ****     }
 449:cpu/STM32F103/stm32f10x_can.c ****     else
 450:cpu/STM32F103/stm32f10x_can.c ****     {
 451:cpu/STM32F103/stm32f10x_can.c ****       TxMessage->ExtId &= (u32)0x1FFFFFFF;
 641              		.loc 1 451 7 is_stmt 1 view .LVU249
 452:cpu/STM32F103/stm32f10x_can.c ****       TxMessage->ExtId <<= 3;
 642              		.loc 1 452 7 view .LVU250
 643 023e 5568     		ldr	r5, [r2, #4]
 644 0240 ED00     		lsls	r5, r5, #3
 645              		.loc 1 452 24 is_stmt 0 view .LVU251
 646 0242 5560     		str	r5, [r2, #4]
 453:cpu/STM32F103/stm32f10x_can.c **** 
 454:cpu/STM32F103/stm32f10x_can.c ****       CAN->sTxMailBox[TransmitMailbox].TIR |= (TxMessage->ExtId | TxMessage->IDE | 
 647              		.loc 1 454 7 is_stmt 1 view .LVU252
 648              		.loc 1 454 65 is_stmt 0 view .LVU253
 649 0244 2C43     		orrs	r4, r4, r5
 455:cpu/STM32F103/stm32f10x_can.c ****                                                TxMessage->RTR);
 650              		.loc 1 455 57 view .LVU254
 651 0246 557A     		ldrb	r5, [r2, #9]	@ zero_extendqisi2
 454:cpu/STM32F103/stm32f10x_can.c ****                                                TxMessage->RTR);
 652              		.loc 1 454 82 view .LVU255
 653 0248 2C43     		orrs	r4, r4, r5
 454:cpu/STM32F103/stm32f10x_can.c ****                                                TxMessage->RTR);
 654              		.loc 1 454 44 view .LVU256
 655 024a D3F88051 		ldr	r5, [r3, #384]
 656 024e 2C43     		orrs	r4, r4, r5
 657 0250 C3F88041 		str	r4, [r3, #384]
 658              	.L47:
 456:cpu/STM32F103/stm32f10x_can.c ****     }
 457:cpu/STM32F103/stm32f10x_can.c ****     
 458:cpu/STM32F103/stm32f10x_can.c ****     /* Set up the DLC */
 459:cpu/STM32F103/stm32f10x_can.c ****     TxMessage->DLC &= (u8)0x0000000F;
 659              		.loc 1 459 5 is_stmt 1 view .LVU257
 660              		.loc 1 459 20 is_stmt 0 view .LVU258
 661 0254 92F80AC0 		ldrb	ip, [r2, #10]	@ zero_extendqisi2
 460:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TDTR &= (u32)0xFFFFFFF0;
 461:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TDTR |= TxMessage->DLC;
 462:cpu/STM32F103/stm32f10x_can.c **** 
 463:cpu/STM32F103/stm32f10x_can.c ****     /* Set up the data field */
 464:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TDLR = (((u32)TxMessage->Data[3] << 24) | 
 662              		.loc 1 464 43 view .LVU259
 663 0258 01F18041 		add	r1, r1, #1073741824
 459:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TDTR &= (u32)0xFFFFFFF0;
 664              		.loc 1 459 20 view .LVU260
 665 025c 0CF00F0C 		and	ip, ip, #15
 666 0260 82F80AC0 		strb	ip, [r2, #10]
 460:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TDTR &= (u32)0xFFFFFFF0;
 667              		.loc 1 460 5 is_stmt 1 view .LVU261
 460:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TDTR &= (u32)0xFFFFFFF0;
 668              		.loc 1 460 43 is_stmt 0 view .LVU262
 669 0264 D3F88441 		ldr	r4, [r3, #388]
 670              		.loc 1 464 43 view .LVU263
 671 0268 01F5C841 		add	r1, r1, #25600
 460:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TDTR &= (u32)0xFFFFFFF0;
 672              		.loc 1 460 43 view .LVU264
 673 026c 24F00F04 		bic	r4, r4, #15
 674 0270 C3F88441 		str	r4, [r3, #388]
 461:cpu/STM32F103/stm32f10x_can.c **** 
 675              		.loc 1 461 5 is_stmt 1 view .LVU265
 461:cpu/STM32F103/stm32f10x_can.c **** 
 676              		.loc 1 461 43 is_stmt 0 view .LVU266
 677 0274 D3F88441 		ldr	r4, [r3, #388]
 678 0278 4CEA0404 		orr	r4, ip, r4
 679 027c C3F88441 		str	r4, [r3, #388]
 680              		.loc 1 464 5 is_stmt 1 view .LVU267
 465:cpu/STM32F103/stm32f10x_can.c ****                                              ((u32)TxMessage->Data[2] << 16) |
 466:cpu/STM32F103/stm32f10x_can.c ****                                              ((u32)TxMessage->Data[1] << 8) | 
 681              		.loc 1 466 77 is_stmt 0 view .LVU268
 682 0280 D2F80B40 		ldr	r4, [r2, #11]	@ unaligned
 464:cpu/STM32F103/stm32f10x_can.c ****                                              ((u32)TxMessage->Data[2] << 16) |
 683              		.loc 1 464 43 view .LVU269
 684 0284 C1F88841 		str	r4, [r1, #392]
 467:cpu/STM32F103/stm32f10x_can.c ****                                              ((u32)TxMessage->Data[0]));
 468:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TDHR = (((u32)TxMessage->Data[7] << 24) | 
 685              		.loc 1 468 5 is_stmt 1 view .LVU270
 469:cpu/STM32F103/stm32f10x_can.c ****                                              ((u32)TxMessage->Data[6] << 16) |
 470:cpu/STM32F103/stm32f10x_can.c ****                                              ((u32)TxMessage->Data[5] << 8) |
 686              		.loc 1 470 77 is_stmt 0 view .LVU271
 687 0288 D2F80F20 		ldr	r2, [r2, #15]	@ unaligned
 688              	.LVL21:
 471:cpu/STM32F103/stm32f10x_can.c ****                                              ((u32)TxMessage->Data[4]));
 472:cpu/STM32F103/stm32f10x_can.c **** 
 473:cpu/STM32F103/stm32f10x_can.c ****     /* Request transmission */
 474:cpu/STM32F103/stm32f10x_can.c ****     CAN->sTxMailBox[TransmitMailbox].TIR |= CAN_TMIDxR_TXRQ;
 475:cpu/STM32F103/stm32f10x_can.c ****   }
 476:cpu/STM32F103/stm32f10x_can.c **** 
 477:cpu/STM32F103/stm32f10x_can.c ****   return TransmitMailbox;
 478:cpu/STM32F103/stm32f10x_can.c **** }
 689              		.loc 1 478 1 view .LVU272
 690 028c 30BC     		pop	{r4, r5}
 691              	.LCFI8:
 692              		.cfi_remember_state
 693              		.cfi_restore 5
 694              		.cfi_restore 4
 695              		.cfi_def_cfa_offset 0
 468:cpu/STM32F103/stm32f10x_can.c ****                                              ((u32)TxMessage->Data[6] << 16) |
 696              		.loc 1 468 43 view .LVU273
 697 028e C1F88C21 		str	r2, [r1, #396]
 474:cpu/STM32F103/stm32f10x_can.c ****   }
 698              		.loc 1 474 5 is_stmt 1 view .LVU274
 474:cpu/STM32F103/stm32f10x_can.c ****   }
 699              		.loc 1 474 42 is_stmt 0 view .LVU275
 700 0292 D3F88021 		ldr	r2, [r3, #384]
 701 0296 42F00102 		orr	r2, r2, #1
 702 029a C3F88021 		str	r2, [r3, #384]
 477:cpu/STM32F103/stm32f10x_can.c **** }
 703              		.loc 1 477 3 is_stmt 1 view .LVU276
 704              		.loc 1 478 1 is_stmt 0 view .LVU277
 705 029e 7047     		bx	lr
 706              	.LVL22:
 707              	.L55:
 708              	.LCFI9:
 709              		.cfi_restore_state
 443:cpu/STM32F103/stm32f10x_can.c ****       TxMessage->StdId = TxMessage->StdId << 21;
 710              		.loc 1 443 7 is_stmt 1 view .LVU278
 444:cpu/STM32F103/stm32f10x_can.c ****       
 711              		.loc 1 444 7 view .LVU279
 712 02a0 1468     		ldr	r4, [r2]
 713 02a2 6505     		lsls	r5, r4, #21
 447:cpu/STM32F103/stm32f10x_can.c ****     }
 714              		.loc 1 447 57 is_stmt 0 view .LVU280
 715 02a4 547A     		ldrb	r4, [r2, #9]	@ zero_extendqisi2
 444:cpu/STM32F103/stm32f10x_can.c ****       
 716              		.loc 1 444 24 view .LVU281
 717 02a6 1560     		str	r5, [r2]
 446:cpu/STM32F103/stm32f10x_can.c ****                                                TxMessage->RTR);
 718              		.loc 1 446 7 is_stmt 1 view .LVU282
 446:cpu/STM32F103/stm32f10x_can.c ****                                                TxMessage->RTR);
 719              		.loc 1 446 82 is_stmt 0 view .LVU283
 720 02a8 2C43     		orrs	r4, r4, r5
 446:cpu/STM32F103/stm32f10x_can.c ****                                                TxMessage->RTR);
 721              		.loc 1 446 44 view .LVU284
 722 02aa D3F88051 		ldr	r5, [r3, #384]
 723 02ae 2C43     		orrs	r4, r4, r5
 724 02b0 C3F88041 		str	r4, [r3, #384]
 725 02b4 CEE7     		b	.L47
 726              	.LVL23:
 727              	.L54:
 728              	.LCFI10:
 729              		.cfi_def_cfa_offset 0
 730              		.cfi_restore 4
 731              		.cfi_restore 5
 428:cpu/STM32F103/stm32f10x_can.c ****   {
 732              		.loc 1 428 8 is_stmt 1 view .LVU285
 428:cpu/STM32F103/stm32f10x_can.c ****   {
 733              		.loc 1 428 16 is_stmt 0 view .LVU286
 734 02b6 9B68     		ldr	r3, [r3, #8]
 428:cpu/STM32F103/stm32f10x_can.c ****   {
 735              		.loc 1 428 11 view .LVU287
 736 02b8 DB00     		lsls	r3, r3, #3
 737 02ba 02D5     		bpl	.L50
 738 02bc 0221     		movs	r1, #2
 430:cpu/STM32F103/stm32f10x_can.c ****   }
 739              		.loc 1 430 21 view .LVU288
 740 02be 0846     		mov	r0, r1
 741 02c0 AFE7     		b	.L44
 742              	.L50:
 434:cpu/STM32F103/stm32f10x_can.c ****   }
 743              		.loc 1 434 21 view .LVU289
 744 02c2 0420     		movs	r0, #4
 745              	.LVL24:
 477:cpu/STM32F103/stm32f10x_can.c **** }
 746              		.loc 1 477 3 is_stmt 1 view .LVU290
 747              		.loc 1 478 1 is_stmt 0 view .LVU291
 748 02c4 7047     		bx	lr
 749              	.L57:
 750 02c6 00BF     		.align	2
 751              	.L56:
 752 02c8 00640040 		.word	1073767424
 753              		.cfi_endproc
 754              	.LFE5:
 756              		.align	1
 757              		.p2align 2,,3
 758              		.global	CAN_TransmitStatus
 759              		.syntax unified
 760              		.thumb
 761              		.thumb_func
 763              	CAN_TransmitStatus:
 764              	.LVL25:
 765              	.LFB6:
 479:cpu/STM32F103/stm32f10x_can.c **** 
 480:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 481:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_TransmitStatus
 482:cpu/STM32F103/stm32f10x_can.c **** * Description    : Checks the transmission of a message.
 483:cpu/STM32F103/stm32f10x_can.c **** * Input          : TransmitMailbox: the number of the mailbox that is used for
 484:cpu/STM32F103/stm32f10x_can.c **** *                  transmission.
 485:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 486:cpu/STM32F103/stm32f10x_can.c **** * Return         : CANTXOK if the CAN driver transmits the message, CANTXFAILED
 487:cpu/STM32F103/stm32f10x_can.c **** *                  in an other case.
 488:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 489:cpu/STM32F103/stm32f10x_can.c **** u8 CAN_TransmitStatus(u8 TransmitMailbox)
 490:cpu/STM32F103/stm32f10x_can.c **** {
 766              		.loc 1 490 1 is_stmt 1 view -0
 767              		.cfi_startproc
 768              		@ args = 0, pretend = 0, frame = 0
 769              		@ frame_needed = 0, uses_anonymous_args = 0
 770              		@ link register save eliminated.
 491:cpu/STM32F103/stm32f10x_can.c ****   /* RQCP, TXOK and TME bits */
 492:cpu/STM32F103/stm32f10x_can.c ****   u8 State = 0;
 771              		.loc 1 492 3 view .LVU293
 493:cpu/STM32F103/stm32f10x_can.c **** 
 494:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 495:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(TransmitMailbox));
 772              		.loc 1 495 3 view .LVU294
 496:cpu/STM32F103/stm32f10x_can.c **** 
 497:cpu/STM32F103/stm32f10x_can.c ****   switch (TransmitMailbox)
 773              		.loc 1 497 3 view .LVU295
 774 02cc 0128     		cmp	r0, #1
 775 02ce 04D0     		beq	.L59
 776 02d0 0228     		cmp	r0, #2
 777 02d2 23D0     		beq	.L60
 778 02d4 90B1     		cbz	r0, .L65
 779 02d6 0220     		movs	r0, #2
 780              	.LVL26:
 781              		.loc 1 497 3 is_stmt 0 view .LVU296
 782 02d8 7047     		bx	lr
 783              	.LVL27:
 784              	.L59:
 498:cpu/STM32F103/stm32f10x_can.c ****   {
 499:cpu/STM32F103/stm32f10x_can.c ****     case (0): State |= (u8)((CAN->TSR & CAN_TSR_RQCP0) << 2);
 500:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK0) >> 0);
 501:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME0) >> 26);
 502:cpu/STM32F103/stm32f10x_can.c ****       break;
 503:cpu/STM32F103/stm32f10x_can.c ****     case (1): State |= (u8)((CAN->TSR & CAN_TSR_RQCP1) >> 6);
 785              		.loc 1 503 15 is_stmt 1 view .LVU297
 786              		.loc 1 503 33 is_stmt 0 view .LVU298
 787 02da 1949     		ldr	r1, .L66
 788 02dc 8B68     		ldr	r3, [r1, #8]
 789              	.LVL28:
 504:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK1) >> 8);
 790              		.loc 1 504 7 is_stmt 1 view .LVU299
 791              		.loc 1 504 25 is_stmt 0 view .LVU300
 792 02de 8A68     		ldr	r2, [r1, #8]
 503:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK1) >> 8);
 793              		.loc 1 503 56 view .LVU301
 794 02e0 9B09     		lsrs	r3, r3, #6
 795              	.LVL29:
 505:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME1) >> 27);
 796              		.loc 1 505 25 view .LVU302
 797 02e2 8968     		ldr	r1, [r1, #8]
 504:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK1) >> 8);
 798              		.loc 1 504 48 view .LVU303
 799 02e4 120A     		lsrs	r2, r2, #8
 504:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK1) >> 8);
 800              		.loc 1 504 16 view .LVU304
 801 02e6 02F00202 		and	r2, r2, #2
 503:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK1) >> 8);
 802              		.loc 1 503 24 view .LVU305
 803 02ea 03F00403 		and	r3, r3, #4
 504:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK1) >> 8);
 804              		.loc 1 504 13 view .LVU306
 805 02ee 1343     		orrs	r3, r3, r2
 806              	.LVL30:
 807              		.loc 1 505 7 is_stmt 1 view .LVU307
 808              		.loc 1 505 16 is_stmt 0 view .LVU308
 809 02f0 C1F3C062 		ubfx	r2, r1, #27, #1
 810              		.loc 1 505 13 view .LVU309
 811 02f4 1343     		orrs	r3, r3, r2
 812              	.LVL31:
 506:cpu/STM32F103/stm32f10x_can.c ****       break;
 813              		.loc 1 506 7 is_stmt 1 view .LVU310
 507:cpu/STM32F103/stm32f10x_can.c ****     case (2): State |= (u8)((CAN->TSR & CAN_TSR_RQCP2) >> 14);
 508:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK2) >> 16);
 509:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME2) >> 28);
 510:cpu/STM32F103/stm32f10x_can.c ****       break;
 511:cpu/STM32F103/stm32f10x_can.c ****     default:
 512:cpu/STM32F103/stm32f10x_can.c ****       State = CANTXFAILED;
 513:cpu/STM32F103/stm32f10x_can.c ****       break;
 514:cpu/STM32F103/stm32f10x_can.c ****   }
 515:cpu/STM32F103/stm32f10x_can.c **** 
 516:cpu/STM32F103/stm32f10x_can.c ****   switch (State)
 814              		.loc 1 516 3 view .LVU311
 815              		.loc 1 516 3 is_stmt 0 view .LVU312
 816 02f6 134A     		ldr	r2, .L66+4
 817 02f8 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 818              	.LVL32:
 517:cpu/STM32F103/stm32f10x_can.c ****   {
 518:cpu/STM32F103/stm32f10x_can.c ****       /* transmit pending  */
 519:cpu/STM32F103/stm32f10x_can.c ****     case (0x0): State = CANTXPENDING;
 520:cpu/STM32F103/stm32f10x_can.c ****       break;
 521:cpu/STM32F103/stm32f10x_can.c ****       /* transmit failed  */
 522:cpu/STM32F103/stm32f10x_can.c ****     case (0x5): State = CANTXFAILED;
 523:cpu/STM32F103/stm32f10x_can.c ****       break;
 524:cpu/STM32F103/stm32f10x_can.c ****       /* transmit succedeed  */
 525:cpu/STM32F103/stm32f10x_can.c ****     case (0x7): State = CANTXOK;
 526:cpu/STM32F103/stm32f10x_can.c ****       break;
 527:cpu/STM32F103/stm32f10x_can.c ****     default:
 528:cpu/STM32F103/stm32f10x_can.c ****       State = CANTXFAILED;
 529:cpu/STM32F103/stm32f10x_can.c ****       break;
 530:cpu/STM32F103/stm32f10x_can.c ****   }
 531:cpu/STM32F103/stm32f10x_can.c **** 
 532:cpu/STM32F103/stm32f10x_can.c ****   return State;
 819              		.loc 1 532 3 is_stmt 1 view .LVU313
 533:cpu/STM32F103/stm32f10x_can.c **** }
 820              		.loc 1 533 1 is_stmt 0 view .LVU314
 821 02fa 7047     		bx	lr
 822              	.LVL33:
 823              	.L65:
 499:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK0) >> 0);
 824              		.loc 1 499 15 is_stmt 1 view .LVU315
 499:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK0) >> 0);
 825              		.loc 1 499 33 is_stmt 0 view .LVU316
 826 02fc 1049     		ldr	r1, .L66
 827 02fe 8B68     		ldr	r3, [r1, #8]
 828              	.LVL34:
 500:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME0) >> 26);
 829              		.loc 1 500 7 is_stmt 1 view .LVU317
 500:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME0) >> 26);
 830              		.loc 1 500 25 is_stmt 0 view .LVU318
 831 0300 8A68     		ldr	r2, [r1, #8]
 832              	.LVL35:
 501:cpu/STM32F103/stm32f10x_can.c ****       break;
 833              		.loc 1 501 7 is_stmt 1 view .LVU319
 501:cpu/STM32F103/stm32f10x_can.c ****       break;
 834              		.loc 1 501 25 is_stmt 0 view .LVU320
 835 0302 8968     		ldr	r1, [r1, #8]
 499:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK0) >> 0);
 836              		.loc 1 499 56 view .LVU321
 837 0304 9B00     		lsls	r3, r3, #2
 838              	.LVL36:
 501:cpu/STM32F103/stm32f10x_can.c ****       break;
 839              		.loc 1 501 16 view .LVU322
 840 0306 C1F38061 		ubfx	r1, r1, #26, #1
 499:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK0) >> 0);
 841              		.loc 1 499 24 view .LVU323
 842 030a 03F00403 		and	r3, r3, #4
 501:cpu/STM32F103/stm32f10x_can.c ****       break;
 843              		.loc 1 501 13 view .LVU324
 844 030e 0B43     		orrs	r3, r3, r1
 500:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME0) >> 26);
 845              		.loc 1 500 16 view .LVU325
 846 0310 02F00202 		and	r2, r2, #2
 501:cpu/STM32F103/stm32f10x_can.c ****       break;
 847              		.loc 1 501 13 view .LVU326
 848 0314 1343     		orrs	r3, r3, r2
 849              	.LVL37:
 502:cpu/STM32F103/stm32f10x_can.c ****     case (1): State |= (u8)((CAN->TSR & CAN_TSR_RQCP1) >> 6);
 850              		.loc 1 502 7 is_stmt 1 view .LVU327
 516:cpu/STM32F103/stm32f10x_can.c ****   {
 851              		.loc 1 516 3 view .LVU328
 516:cpu/STM32F103/stm32f10x_can.c ****   {
 852              		.loc 1 516 3 is_stmt 0 view .LVU329
 853 0316 0B4A     		ldr	r2, .L66+4
 854 0318 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 855              	.LVL38:
 532:cpu/STM32F103/stm32f10x_can.c **** }
 856              		.loc 1 532 3 is_stmt 1 view .LVU330
 857              		.loc 1 533 1 is_stmt 0 view .LVU331
 858 031a 7047     		bx	lr
 859              	.LVL39:
 860              	.L60:
 507:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK2) >> 16);
 861              		.loc 1 507 15 is_stmt 1 view .LVU332
 507:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK2) >> 16);
 862              		.loc 1 507 33 is_stmt 0 view .LVU333
 863 031c 0849     		ldr	r1, .L66
 864 031e 8B68     		ldr	r3, [r1, #8]
 865              	.LVL40:
 508:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME2) >> 28);
 866              		.loc 1 508 7 is_stmt 1 view .LVU334
 508:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME2) >> 28);
 867              		.loc 1 508 25 is_stmt 0 view .LVU335
 868 0320 8A68     		ldr	r2, [r1, #8]
 507:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK2) >> 16);
 869              		.loc 1 507 56 view .LVU336
 870 0322 9B0B     		lsrs	r3, r3, #14
 871              	.LVL41:
 509:cpu/STM32F103/stm32f10x_can.c ****       break;
 872              		.loc 1 509 25 view .LVU337
 873 0324 8968     		ldr	r1, [r1, #8]
 508:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME2) >> 28);
 874              		.loc 1 508 48 view .LVU338
 875 0326 120C     		lsrs	r2, r2, #16
 508:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME2) >> 28);
 876              		.loc 1 508 16 view .LVU339
 877 0328 02F00202 		and	r2, r2, #2
 507:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TXOK2) >> 16);
 878              		.loc 1 507 24 view .LVU340
 879 032c 03F00403 		and	r3, r3, #4
 508:cpu/STM32F103/stm32f10x_can.c ****       State |= (u8)((CAN->TSR & CAN_TSR_TME2) >> 28);
 880              		.loc 1 508 13 view .LVU341
 881 0330 1343     		orrs	r3, r3, r2
 882              	.LVL42:
 509:cpu/STM32F103/stm32f10x_can.c ****       break;
 883              		.loc 1 509 7 is_stmt 1 view .LVU342
 509:cpu/STM32F103/stm32f10x_can.c ****       break;
 884              		.loc 1 509 16 is_stmt 0 view .LVU343
 885 0332 C1F30072 		ubfx	r2, r1, #28, #1
 509:cpu/STM32F103/stm32f10x_can.c ****       break;
 886              		.loc 1 509 13 view .LVU344
 887 0336 1343     		orrs	r3, r3, r2
 888              	.LVL43:
 510:cpu/STM32F103/stm32f10x_can.c ****     default:
 889              		.loc 1 510 7 is_stmt 1 view .LVU345
 516:cpu/STM32F103/stm32f10x_can.c ****   {
 890              		.loc 1 516 3 view .LVU346
 516:cpu/STM32F103/stm32f10x_can.c ****   {
 891              		.loc 1 516 3 is_stmt 0 view .LVU347
 892 0338 024A     		ldr	r2, .L66+4
 893 033a D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 894              	.LVL44:
 532:cpu/STM32F103/stm32f10x_can.c **** }
 895              		.loc 1 532 3 is_stmt 1 view .LVU348
 896              		.loc 1 533 1 is_stmt 0 view .LVU349
 897 033c 7047     		bx	lr
 898              	.L67:
 899 033e 00BF     		.align	2
 900              	.L66:
 901 0340 00640040 		.word	1073767424
 902 0344 00000000 		.word	.LANCHOR0
 903              		.cfi_endproc
 904              	.LFE6:
 906              		.align	1
 907              		.p2align 2,,3
 908              		.global	CAN_CancelTransmit
 909              		.syntax unified
 910              		.thumb
 911              		.thumb_func
 913              	CAN_CancelTransmit:
 914              	.LVL45:
 915              	.LFB7:
 534:cpu/STM32F103/stm32f10x_can.c **** 
 535:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 536:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_CancelTransmit
 537:cpu/STM32F103/stm32f10x_can.c **** * Description    : Cancels a transmit request.
 538:cpu/STM32F103/stm32f10x_can.c **** * Input          : Mailbox number.
 539:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 540:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
 541:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 542:cpu/STM32F103/stm32f10x_can.c **** void CAN_CancelTransmit(u8 Mailbox)
 543:cpu/STM32F103/stm32f10x_can.c **** {
 916              		.loc 1 543 1 is_stmt 1 view -0
 917              		.cfi_startproc
 918              		@ args = 0, pretend = 0, frame = 0
 919              		@ frame_needed = 0, uses_anonymous_args = 0
 920              		@ link register save eliminated.
 544:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 545:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(Mailbox));
 921              		.loc 1 545 3 view .LVU351
 546:cpu/STM32F103/stm32f10x_can.c **** 
 547:cpu/STM32F103/stm32f10x_can.c ****   /* abort transmission */
 548:cpu/STM32F103/stm32f10x_can.c ****   switch (Mailbox)
 922              		.loc 1 548 3 view .LVU352
 923 0348 0128     		cmp	r0, #1
 924 034a 03D0     		beq	.L69
 925 034c 0228     		cmp	r0, #2
 926 034e 0DD0     		beq	.L70
 927 0350 30B1     		cbz	r0, .L72
 549:cpu/STM32F103/stm32f10x_can.c ****   {
 550:cpu/STM32F103/stm32f10x_can.c ****     case (0): CAN->TSR |= CAN_TSR_ABRQ0;
 551:cpu/STM32F103/stm32f10x_can.c ****       break;
 552:cpu/STM32F103/stm32f10x_can.c ****     case (1): CAN->TSR |= CAN_TSR_ABRQ1;
 553:cpu/STM32F103/stm32f10x_can.c ****       break;
 554:cpu/STM32F103/stm32f10x_can.c ****     case (2): CAN->TSR |= CAN_TSR_ABRQ2;
 555:cpu/STM32F103/stm32f10x_can.c ****       break;
 556:cpu/STM32F103/stm32f10x_can.c ****     default:
 557:cpu/STM32F103/stm32f10x_can.c ****       break;
 558:cpu/STM32F103/stm32f10x_can.c ****   }
 559:cpu/STM32F103/stm32f10x_can.c **** }
 928              		.loc 1 559 1 is_stmt 0 view .LVU353
 929 0352 7047     		bx	lr
 930              	.L69:
 552:cpu/STM32F103/stm32f10x_can.c ****       break;
 931              		.loc 1 552 15 is_stmt 1 view .LVU354
 552:cpu/STM32F103/stm32f10x_can.c ****       break;
 932              		.loc 1 552 24 is_stmt 0 view .LVU355
 933 0354 084A     		ldr	r2, .L73
 934 0356 9368     		ldr	r3, [r2, #8]
 935 0358 43F40043 		orr	r3, r3, #32768
 936 035c 9360     		str	r3, [r2, #8]
 553:cpu/STM32F103/stm32f10x_can.c ****     case (2): CAN->TSR |= CAN_TSR_ABRQ2;
 937              		.loc 1 553 7 is_stmt 1 view .LVU356
 938 035e 7047     		bx	lr
 939              	.L72:
 550:cpu/STM32F103/stm32f10x_can.c ****       break;
 940              		.loc 1 550 15 view .LVU357
 550:cpu/STM32F103/stm32f10x_can.c ****       break;
 941              		.loc 1 550 24 is_stmt 0 view .LVU358
 942 0360 054A     		ldr	r2, .L73
 943 0362 9368     		ldr	r3, [r2, #8]
 944 0364 43F08003 		orr	r3, r3, #128
 945 0368 9360     		str	r3, [r2, #8]
 551:cpu/STM32F103/stm32f10x_can.c ****     case (1): CAN->TSR |= CAN_TSR_ABRQ1;
 946              		.loc 1 551 7 is_stmt 1 view .LVU359
 947 036a 7047     		bx	lr
 948              	.L70:
 554:cpu/STM32F103/stm32f10x_can.c ****       break;
 949              		.loc 1 554 15 view .LVU360
 554:cpu/STM32F103/stm32f10x_can.c ****       break;
 950              		.loc 1 554 24 is_stmt 0 view .LVU361
 951 036c 024A     		ldr	r2, .L73
 952 036e 9368     		ldr	r3, [r2, #8]
 953 0370 43F40003 		orr	r3, r3, #8388608
 954 0374 9360     		str	r3, [r2, #8]
 555:cpu/STM32F103/stm32f10x_can.c ****     default:
 955              		.loc 1 555 7 is_stmt 1 view .LVU362
 956              		.loc 1 559 1 is_stmt 0 view .LVU363
 957 0376 7047     		bx	lr
 958              	.L74:
 959              		.align	2
 960              	.L73:
 961 0378 00640040 		.word	1073767424
 962              		.cfi_endproc
 963              	.LFE7:
 965              		.align	1
 966              		.p2align 2,,3
 967              		.global	CAN_FIFORelease
 968              		.syntax unified
 969              		.thumb
 970              		.thumb_func
 972              	CAN_FIFORelease:
 973              	.LVL46:
 974              	.LFB8:
 560:cpu/STM32F103/stm32f10x_can.c **** 
 561:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 562:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_FIFORelease
 563:cpu/STM32F103/stm32f10x_can.c **** * Description    : Releases a FIFO.
 564:cpu/STM32F103/stm32f10x_can.c **** * Input          : FIFONumber: FIFO to release, CAN_FIFO0 or CAN_FIFO1.
 565:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 566:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
 567:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 568:cpu/STM32F103/stm32f10x_can.c **** void CAN_FIFORelease(u8 FIFONumber)
 569:cpu/STM32F103/stm32f10x_can.c **** {
 975              		.loc 1 569 1 is_stmt 1 view -0
 976              		.cfi_startproc
 977              		@ args = 0, pretend = 0, frame = 0
 978              		@ frame_needed = 0, uses_anonymous_args = 0
 979              		@ link register save eliminated.
 570:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 571:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 980              		.loc 1 571 3 view .LVU365
 572:cpu/STM32F103/stm32f10x_can.c **** 
 573:cpu/STM32F103/stm32f10x_can.c ****   /* Release FIFO0 */
 574:cpu/STM32F103/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 981              		.loc 1 574 3 view .LVU366
 575:cpu/STM32F103/stm32f10x_can.c ****   {
 576:cpu/STM32F103/stm32f10x_can.c ****     CAN->RF0R = CAN_RF0R_RFOM0;
 982              		.loc 1 576 15 is_stmt 0 view .LVU367
 983 037c 2022     		movs	r2, #32
 984 037e 034B     		ldr	r3, .L78
 574:cpu/STM32F103/stm32f10x_can.c ****   {
 985              		.loc 1 574 6 view .LVU368
 986 0380 08B9     		cbnz	r0, .L76
 987              		.loc 1 576 5 is_stmt 1 view .LVU369
 988              		.loc 1 576 15 is_stmt 0 view .LVU370
 989 0382 DA60     		str	r2, [r3, #12]
 990 0384 7047     		bx	lr
 991              	.L76:
 577:cpu/STM32F103/stm32f10x_can.c ****   }
 578:cpu/STM32F103/stm32f10x_can.c ****   /* Release FIFO1 */
 579:cpu/STM32F103/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 580:cpu/STM32F103/stm32f10x_can.c ****   {
 581:cpu/STM32F103/stm32f10x_can.c ****     CAN->RF1R = CAN_RF1R_RFOM1;
 992              		.loc 1 581 5 is_stmt 1 view .LVU371
 993              		.loc 1 581 15 is_stmt 0 view .LVU372
 994 0386 1A61     		str	r2, [r3, #16]
 582:cpu/STM32F103/stm32f10x_can.c ****   }
 583:cpu/STM32F103/stm32f10x_can.c **** }
 995              		.loc 1 583 1 view .LVU373
 996 0388 7047     		bx	lr
 997              	.L79:
 998 038a 00BF     		.align	2
 999              	.L78:
 1000 038c 00640040 		.word	1073767424
 1001              		.cfi_endproc
 1002              	.LFE8:
 1004              		.align	1
 1005              		.p2align 2,,3
 1006              		.global	CAN_MessagePending
 1007              		.syntax unified
 1008              		.thumb
 1009              		.thumb_func
 1011              	CAN_MessagePending:
 1012              	.LVL47:
 1013              	.LFB9:
 584:cpu/STM32F103/stm32f10x_can.c **** 
 585:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 586:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_MessagePending
 587:cpu/STM32F103/stm32f10x_can.c **** * Description    : Returns the number of pending messages.
 588:cpu/STM32F103/stm32f10x_can.c **** * Input          : FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 589:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 590:cpu/STM32F103/stm32f10x_can.c **** * Return         : NbMessage which is the number of pending message.
 591:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 592:cpu/STM32F103/stm32f10x_can.c **** u8 CAN_MessagePending(u8 FIFONumber)
 593:cpu/STM32F103/stm32f10x_can.c **** {
 1014              		.loc 1 593 1 is_stmt 1 view -0
 1015              		.cfi_startproc
 1016              		@ args = 0, pretend = 0, frame = 0
 1017              		@ frame_needed = 0, uses_anonymous_args = 0
 1018              		@ link register save eliminated.
 594:cpu/STM32F103/stm32f10x_can.c ****   u8 MessagePending=0;
 1019              		.loc 1 594 3 view .LVU375
 595:cpu/STM32F103/stm32f10x_can.c **** 
 596:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 597:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 1020              		.loc 1 597 3 view .LVU376
 598:cpu/STM32F103/stm32f10x_can.c **** 
 599:cpu/STM32F103/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1021              		.loc 1 599 3 view .LVU377
 1022              		.loc 1 599 6 is_stmt 0 view .LVU378
 1023 0390 20B9     		cbnz	r0, .L81
 600:cpu/STM32F103/stm32f10x_can.c ****   {
 601:cpu/STM32F103/stm32f10x_can.c ****     MessagePending = (u8)(CAN->RF0R&(u32)0x03);
 1024              		.loc 1 601 5 is_stmt 1 view .LVU379
 1025              		.loc 1 601 30 is_stmt 0 view .LVU380
 1026 0392 064B     		ldr	r3, .L84
 1027 0394 D868     		ldr	r0, [r3, #12]
 1028              	.LVL48:
 1029              		.loc 1 601 20 view .LVU381
 1030 0396 00F00300 		and	r0, r0, #3
 1031              	.LVL49:
 1032              		.loc 1 601 20 view .LVU382
 1033 039a 7047     		bx	lr
 1034              	.LVL50:
 1035              	.L81:
 602:cpu/STM32F103/stm32f10x_can.c ****   }
 603:cpu/STM32F103/stm32f10x_can.c ****   else if (FIFONumber == CAN_FIFO1)
 1036              		.loc 1 603 8 is_stmt 1 view .LVU383
 604:cpu/STM32F103/stm32f10x_can.c ****   {
 605:cpu/STM32F103/stm32f10x_can.c ****     MessagePending = (u8)(CAN->RF1R&(u32)0x03);
 1037              		.loc 1 605 5 view .LVU384
 603:cpu/STM32F103/stm32f10x_can.c ****   {
 1038              		.loc 1 603 11 is_stmt 0 view .LVU385
 1039 039c 0128     		cmp	r0, #1
 1040              		.loc 1 605 30 view .LVU386
 1041 039e 03BF     		ittte	eq
 1042 03a0 024B     		ldreq	r3, .L84
 1043 03a2 1869     		ldreq	r0, [r3, #16]
 1044              	.LVL51:
 1045              		.loc 1 605 20 view .LVU387
 1046 03a4 00F00300 		andeq	r0, r0, #3
 1047              	.LVL52:
 606:cpu/STM32F103/stm32f10x_can.c ****   }
 607:cpu/STM32F103/stm32f10x_can.c ****   else
 608:cpu/STM32F103/stm32f10x_can.c ****   {
 609:cpu/STM32F103/stm32f10x_can.c ****     MessagePending = 0;
 1048              		.loc 1 609 20 view .LVU388
 1049 03a8 0020     		movne	r0, #0
 1050              	.LVL53:
 610:cpu/STM32F103/stm32f10x_can.c ****   }
 611:cpu/STM32F103/stm32f10x_can.c ****   return MessagePending;
 1051              		.loc 1 611 3 is_stmt 1 view .LVU389
 612:cpu/STM32F103/stm32f10x_can.c **** }
 1052              		.loc 1 612 1 is_stmt 0 view .LVU390
 1053 03aa 7047     		bx	lr
 1054              	.L85:
 1055              		.align	2
 1056              	.L84:
 1057 03ac 00640040 		.word	1073767424
 1058              		.cfi_endproc
 1059              	.LFE9:
 1061              		.align	1
 1062              		.p2align 2,,3
 1063              		.global	CAN_Receive
 1064              		.syntax unified
 1065              		.thumb
 1066              		.thumb_func
 1068              	CAN_Receive:
 1069              	.LVL54:
 1070              	.LFB10:
 613:cpu/STM32F103/stm32f10x_can.c **** 
 614:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 615:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_Receive
 616:cpu/STM32F103/stm32f10x_can.c **** * Description    : Receives a message.
 617:cpu/STM32F103/stm32f10x_can.c **** * Input          : FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 618:cpu/STM32F103/stm32f10x_can.c **** * Output         : RxMessage: pointer to a structure which contains CAN Id,
 619:cpu/STM32F103/stm32f10x_can.c **** *                  CAN DLC, CAN datas and FMI number.
 620:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
 621:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 622:cpu/STM32F103/stm32f10x_can.c **** void CAN_Receive(u8 FIFONumber, CanRxMsg* RxMessage)
 623:cpu/STM32F103/stm32f10x_can.c **** {
 1071              		.loc 1 623 1 is_stmt 1 view -0
 1072              		.cfi_startproc
 1073              		@ args = 0, pretend = 0, frame = 0
 1074              		@ frame_needed = 0, uses_anonymous_args = 0
 1075              		@ link register save eliminated.
 624:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 625:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 1076              		.loc 1 625 3 view .LVU392
 626:cpu/STM32F103/stm32f10x_can.c **** 
 627:cpu/STM32F103/stm32f10x_can.c ****   /* Get the Id */
 628:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->IDE = (u8)0x04 & CAN->sFIFOMailBox[FIFONumber].RIR;
 1077              		.loc 1 628 3 view .LVU393
 1078 03b0 0301     		lsls	r3, r0, #4
 1079 03b2 03F18042 		add	r2, r3, #1073741824
 1080 03b6 02F5C842 		add	r2, r2, #25600
 623:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 1081              		.loc 1 623 1 is_stmt 0 view .LVU394
 1082 03ba 10B4     		push	{r4}
 1083              	.LCFI11:
 1084              		.cfi_def_cfa_offset 4
 1085              		.cfi_offset 4, -4
 1086              		.loc 1 628 60 view .LVU395
 1087 03bc D2F8B041 		ldr	r4, [r2, #432]
 1088              		.loc 1 628 29 view .LVU396
 1089 03c0 04F00404 		and	r4, r4, #4
 1090              		.loc 1 628 18 view .LVU397
 1091 03c4 0C72     		strb	r4, [r1, #8]
 629:cpu/STM32F103/stm32f10x_can.c ****   if (RxMessage->IDE == CAN_ID_STD)
 1092              		.loc 1 629 3 is_stmt 1 view .LVU398
 1093              		.loc 1 629 6 is_stmt 0 view .LVU399
 1094 03c6 B4BB     		cbnz	r4, .L87
 630:cpu/STM32F103/stm32f10x_can.c ****   {
 631:cpu/STM32F103/stm32f10x_can.c ****     RxMessage->StdId = (u32)0x000007FF & (CAN->sFIFOMailBox[FIFONumber].RIR >> 21);
 1095              		.loc 1 631 5 is_stmt 1 view .LVU400
 1096              		.loc 1 631 72 is_stmt 0 view .LVU401
 1097 03c8 D2F8B041 		ldr	r4, [r2, #432]
 1098              		.loc 1 631 77 view .LVU402
 1099 03cc 640D     		lsrs	r4, r4, #21
 1100              		.loc 1 631 22 view .LVU403
 1101 03ce 0C60     		str	r4, [r1]
 1102              	.L88:
 632:cpu/STM32F103/stm32f10x_can.c ****   }
 633:cpu/STM32F103/stm32f10x_can.c ****   else
 634:cpu/STM32F103/stm32f10x_can.c ****   {
 635:cpu/STM32F103/stm32f10x_can.c ****     RxMessage->ExtId = (u32)0x1FFFFFFF & (CAN->sFIFOMailBox[FIFONumber].RIR >> 3);
 636:cpu/STM32F103/stm32f10x_can.c ****   }
 637:cpu/STM32F103/stm32f10x_can.c ****   
 638:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->RTR = (u8)0x02 & CAN->sFIFOMailBox[FIFONumber].RIR;
 1103              		.loc 1 638 3 is_stmt 1 view .LVU404
 1104              		.loc 1 638 60 is_stmt 0 view .LVU405
 1105 03d0 D2F8B041 		ldr	r4, [r2, #432]
 1106              		.loc 1 638 29 view .LVU406
 1107 03d4 04F00204 		and	r4, r4, #2
 1108              		.loc 1 638 18 view .LVU407
 1109 03d8 4C72     		strb	r4, [r1, #9]
 639:cpu/STM32F103/stm32f10x_can.c **** 
 640:cpu/STM32F103/stm32f10x_can.c ****   /* Get the DLC */
 641:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->DLC = (u8)0x0F & CAN->sFIFOMailBox[FIFONumber].RDTR;
 1110              		.loc 1 641 3 is_stmt 1 view .LVU408
 1111              		.loc 1 641 60 is_stmt 0 view .LVU409
 1112 03da D2F8B441 		ldr	r4, [r2, #436]
 1113              		.loc 1 641 29 view .LVU410
 1114 03de 04F00F04 		and	r4, r4, #15
 1115              		.loc 1 641 18 view .LVU411
 1116 03e2 8C72     		strb	r4, [r1, #10]
 642:cpu/STM32F103/stm32f10x_can.c **** 
 643:cpu/STM32F103/stm32f10x_can.c ****   /* Get the FMI */
 644:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->FMI = (u8)0xFF & (CAN->sFIFOMailBox[FIFONumber].RDTR >> 8);
 1117              		.loc 1 644 3 is_stmt 1 view .LVU412
 1118              		.loc 1 644 61 is_stmt 0 view .LVU413
 1119 03e4 D2F8B421 		ldr	r2, [r2, #436]
 645:cpu/STM32F103/stm32f10x_can.c **** 
 646:cpu/STM32F103/stm32f10x_can.c ****   /* Get the data field */
 647:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->Data[0] = (u8)0xFF & CAN->sFIFOMailBox[FIFONumber].RDLR;
 1120              		.loc 1 647 64 view .LVU414
 1121 03e8 174C     		ldr	r4, .L92
 644:cpu/STM32F103/stm32f10x_can.c **** 
 1122              		.loc 1 644 67 view .LVU415
 1123 03ea 120A     		lsrs	r2, r2, #8
 644:cpu/STM32F103/stm32f10x_can.c **** 
 1124              		.loc 1 644 18 view .LVU416
 1125 03ec CA74     		strb	r2, [r1, #19]
 1126              		.loc 1 647 3 is_stmt 1 view .LVU417
 1127              		.loc 1 647 64 is_stmt 0 view .LVU418
 1128 03ee 2344     		add	r3, r3, r4
 1129 03f0 D3F8B821 		ldr	r2, [r3, #440]
 1130              		.loc 1 647 22 view .LVU419
 1131 03f4 CA72     		strb	r2, [r1, #11]
 648:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->Data[1] = (u8)0xFF & (CAN->sFIFOMailBox[FIFONumber].RDLR >> 8);
 1132              		.loc 1 648 3 is_stmt 1 view .LVU420
 1133              		.loc 1 648 65 is_stmt 0 view .LVU421
 1134 03f6 D3F8B821 		ldr	r2, [r3, #440]
 1135              		.loc 1 648 71 view .LVU422
 1136 03fa 120A     		lsrs	r2, r2, #8
 1137              		.loc 1 648 22 view .LVU423
 1138 03fc 0A73     		strb	r2, [r1, #12]
 649:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->Data[2] = (u8)0xFF & (CAN->sFIFOMailBox[FIFONumber].RDLR >> 16);
 1139              		.loc 1 649 3 is_stmt 1 view .LVU424
 1140              		.loc 1 649 65 is_stmt 0 view .LVU425
 1141 03fe D3F8B821 		ldr	r2, [r3, #440]
 1142              		.loc 1 649 71 view .LVU426
 1143 0402 120C     		lsrs	r2, r2, #16
 1144              		.loc 1 649 22 view .LVU427
 1145 0404 4A73     		strb	r2, [r1, #13]
 650:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->Data[3] = (u8)0xFF & (CAN->sFIFOMailBox[FIFONumber].RDLR >> 24);
 1146              		.loc 1 650 3 is_stmt 1 view .LVU428
 1147              		.loc 1 650 65 is_stmt 0 view .LVU429
 1148 0406 D3F8B821 		ldr	r2, [r3, #440]
 1149              		.loc 1 650 71 view .LVU430
 1150 040a 120E     		lsrs	r2, r2, #24
 1151              		.loc 1 650 22 view .LVU431
 1152 040c 8A73     		strb	r2, [r1, #14]
 651:cpu/STM32F103/stm32f10x_can.c **** 
 652:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->Data[4] = (u8)0xFF & CAN->sFIFOMailBox[FIFONumber].RDHR;
 1153              		.loc 1 652 3 is_stmt 1 view .LVU432
 1154              		.loc 1 652 64 is_stmt 0 view .LVU433
 1155 040e D3F8BC21 		ldr	r2, [r3, #444]
 1156              		.loc 1 652 22 view .LVU434
 1157 0412 CA73     		strb	r2, [r1, #15]
 653:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->Data[5] = (u8)0xFF & (CAN->sFIFOMailBox[FIFONumber].RDHR >> 8);
 1158              		.loc 1 653 3 is_stmt 1 view .LVU435
 1159              		.loc 1 653 65 is_stmt 0 view .LVU436
 1160 0414 D3F8BC21 		ldr	r2, [r3, #444]
 1161              		.loc 1 653 71 view .LVU437
 1162 0418 120A     		lsrs	r2, r2, #8
 1163              		.loc 1 653 22 view .LVU438
 1164 041a 0A74     		strb	r2, [r1, #16]
 654:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->Data[6] = (u8)0xFF & (CAN->sFIFOMailBox[FIFONumber].RDHR >> 16);
 1165              		.loc 1 654 3 is_stmt 1 view .LVU439
 1166              		.loc 1 654 65 is_stmt 0 view .LVU440
 1167 041c D3F8BC21 		ldr	r2, [r3, #444]
 1168              		.loc 1 654 71 view .LVU441
 1169 0420 120C     		lsrs	r2, r2, #16
 1170              		.loc 1 654 22 view .LVU442
 1171 0422 4A74     		strb	r2, [r1, #17]
 655:cpu/STM32F103/stm32f10x_can.c ****   RxMessage->Data[7] = (u8)0xFF & (CAN->sFIFOMailBox[FIFONumber].RDHR >> 24);
 1172              		.loc 1 655 3 is_stmt 1 view .LVU443
 1173              		.loc 1 655 65 is_stmt 0 view .LVU444
 1174 0424 D3F8BC31 		ldr	r3, [r3, #444]
 1175              		.loc 1 655 71 view .LVU445
 1176 0428 1B0E     		lsrs	r3, r3, #24
 1177              		.loc 1 655 22 view .LVU446
 1178 042a 8B74     		strb	r3, [r1, #18]
 656:cpu/STM32F103/stm32f10x_can.c **** 
 657:cpu/STM32F103/stm32f10x_can.c ****   /* Release the FIFO */
 658:cpu/STM32F103/stm32f10x_can.c ****   CAN_FIFORelease(FIFONumber);
 1179              		.loc 1 658 3 is_stmt 1 view .LVU447
 1180              	.LVL55:
 1181              	.LBB28:
 1182              	.LBI28:
 568:cpu/STM32F103/stm32f10x_can.c **** {
 1183              		.loc 1 568 6 view .LVU448
 1184              	.LBB29:
 571:cpu/STM32F103/stm32f10x_can.c **** 
 1185              		.loc 1 571 3 view .LVU449
 574:cpu/STM32F103/stm32f10x_can.c ****   {
 1186              		.loc 1 574 3 view .LVU450
 576:cpu/STM32F103/stm32f10x_can.c ****   }
 1187              		.loc 1 576 15 is_stmt 0 view .LVU451
 1188 042c 2023     		movs	r3, #32
 574:cpu/STM32F103/stm32f10x_can.c ****   {
 1189              		.loc 1 574 6 view .LVU452
 1190 042e 38B9     		cbnz	r0, .L89
 576:cpu/STM32F103/stm32f10x_can.c ****   }
 1191              		.loc 1 576 5 is_stmt 1 view .LVU453
 576:cpu/STM32F103/stm32f10x_can.c ****   }
 1192              		.loc 1 576 15 is_stmt 0 view .LVU454
 1193 0430 E360     		str	r3, [r4, #12]
 1194              	.LBE29:
 1195              	.LBE28:
 659:cpu/STM32F103/stm32f10x_can.c **** }
 1196              		.loc 1 659 1 view .LVU455
 1197 0432 10BC     		pop	{r4}
 1198              	.LCFI12:
 1199              		.cfi_remember_state
 1200              		.cfi_restore 4
 1201              		.cfi_def_cfa_offset 0
 1202 0434 7047     		bx	lr
 1203              	.LVL56:
 1204              	.L87:
 1205              	.LCFI13:
 1206              		.cfi_restore_state
 635:cpu/STM32F103/stm32f10x_can.c ****   }
 1207              		.loc 1 635 5 is_stmt 1 view .LVU456
 635:cpu/STM32F103/stm32f10x_can.c ****   }
 1208              		.loc 1 635 72 is_stmt 0 view .LVU457
 1209 0436 D2F8B041 		ldr	r4, [r2, #432]
 635:cpu/STM32F103/stm32f10x_can.c ****   }
 1210              		.loc 1 635 77 view .LVU458
 1211 043a E408     		lsrs	r4, r4, #3
 635:cpu/STM32F103/stm32f10x_can.c ****   }
 1212              		.loc 1 635 22 view .LVU459
 1213 043c 4C60     		str	r4, [r1, #4]
 1214 043e C7E7     		b	.L88
 1215              	.LVL57:
 1216              	.L89:
 1217              	.LBB31:
 1218              	.LBB30:
 581:cpu/STM32F103/stm32f10x_can.c ****   }
 1219              		.loc 1 581 5 is_stmt 1 view .LVU460
 581:cpu/STM32F103/stm32f10x_can.c ****   }
 1220              		.loc 1 581 15 is_stmt 0 view .LVU461
 1221 0440 2361     		str	r3, [r4, #16]
 1222              	.LVL58:
 581:cpu/STM32F103/stm32f10x_can.c ****   }
 1223              		.loc 1 581 15 view .LVU462
 1224              	.LBE30:
 1225              	.LBE31:
 1226              		.loc 1 659 1 view .LVU463
 1227 0442 10BC     		pop	{r4}
 1228              	.LCFI14:
 1229              		.cfi_restore 4
 1230              		.cfi_def_cfa_offset 0
 1231 0444 7047     		bx	lr
 1232              	.L93:
 1233 0446 00BF     		.align	2
 1234              	.L92:
 1235 0448 00640040 		.word	1073767424
 1236              		.cfi_endproc
 1237              	.LFE10:
 1239              		.align	1
 1240              		.p2align 2,,3
 1241              		.global	CAN_Sleep
 1242              		.syntax unified
 1243              		.thumb
 1244              		.thumb_func
 1246              	CAN_Sleep:
 1247              	.LFB11:
 660:cpu/STM32F103/stm32f10x_can.c **** 
 661:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 662:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_Sleep
 663:cpu/STM32F103/stm32f10x_can.c **** * Description    : Enters the low power mode.
 664:cpu/STM32F103/stm32f10x_can.c **** * Input          : None.
 665:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 666:cpu/STM32F103/stm32f10x_can.c **** * Return         : CANSLEEPOK if sleep entered, CANSLEEPFAILED in an other case.
 667:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 668:cpu/STM32F103/stm32f10x_can.c **** u8 CAN_Sleep(void)
 669:cpu/STM32F103/stm32f10x_can.c **** {
 1248              		.loc 1 669 1 is_stmt 1 view -0
 1249              		.cfi_startproc
 1250              		@ args = 0, pretend = 0, frame = 0
 1251              		@ frame_needed = 0, uses_anonymous_args = 0
 1252              		@ link register save eliminated.
 670:cpu/STM32F103/stm32f10x_can.c ****   u8 SleepStatus = 0;
 1253              		.loc 1 670 3 view .LVU465
 1254              	.LVL59:
 671:cpu/STM32F103/stm32f10x_can.c **** 
 672:cpu/STM32F103/stm32f10x_can.c ****   /* Sleep mode entering request */
 673:cpu/STM32F103/stm32f10x_can.c ****   CAN->MCR |= CAN_MCR_SLEEP;
 1255              		.loc 1 673 3 view .LVU466
 1256              		.loc 1 673 12 is_stmt 0 view .LVU467
 1257 044c 044B     		ldr	r3, .L95
 1258 044e 1A68     		ldr	r2, [r3]
 1259 0450 42F00202 		orr	r2, r2, #2
 1260 0454 1A60     		str	r2, [r3]
 674:cpu/STM32F103/stm32f10x_can.c ****   SleepStatus = CANSLEEPOK;
 1261              		.loc 1 674 3 is_stmt 1 view .LVU468
 1262              	.LVL60:
 675:cpu/STM32F103/stm32f10x_can.c **** 
 676:cpu/STM32F103/stm32f10x_can.c ****   /* Sleep mode status */
 677:cpu/STM32F103/stm32f10x_can.c ****   if ((CAN->MCR&CAN_MCR_SLEEP) == 0)
 1263              		.loc 1 677 3 view .LVU469
 1264              		.loc 1 677 11 is_stmt 0 view .LVU470
 1265 0456 1868     		ldr	r0, [r3]
 1266              	.LVL61:
 678:cpu/STM32F103/stm32f10x_can.c ****   {
 679:cpu/STM32F103/stm32f10x_can.c ****     /* Sleep mode not entered */
 680:cpu/STM32F103/stm32f10x_can.c ****     SleepStatus = CANSLEEPFAILED;
 681:cpu/STM32F103/stm32f10x_can.c ****   }
 682:cpu/STM32F103/stm32f10x_can.c **** 
 683:cpu/STM32F103/stm32f10x_can.c ****   /* At this step, sleep mode status */
 684:cpu/STM32F103/stm32f10x_can.c ****   return SleepStatus;
 1267              		.loc 1 684 3 is_stmt 1 view .LVU471
 685:cpu/STM32F103/stm32f10x_can.c **** }
 1268              		.loc 1 685 1 is_stmt 0 view .LVU472
 1269 0458 C0F34000 		ubfx	r0, r0, #1, #1
 1270              	.LVL62:
 1271              		.loc 1 685 1 view .LVU473
 1272 045c 7047     		bx	lr
 1273              	.L96:
 1274 045e 00BF     		.align	2
 1275              	.L95:
 1276 0460 00640040 		.word	1073767424
 1277              		.cfi_endproc
 1278              	.LFE11:
 1280              		.align	1
 1281              		.p2align 2,,3
 1282              		.global	CAN_WakeUp
 1283              		.syntax unified
 1284              		.thumb
 1285              		.thumb_func
 1287              	CAN_WakeUp:
 1288              	.LFB12:
 686:cpu/STM32F103/stm32f10x_can.c **** 
 687:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 688:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_WakeUp
 689:cpu/STM32F103/stm32f10x_can.c **** * Description    : Wakes the CAN up.
 690:cpu/STM32F103/stm32f10x_can.c **** * Input          : None.
 691:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 692:cpu/STM32F103/stm32f10x_can.c **** * Return         : CANWAKEUPOK if sleep mode left, CANWAKEUPFAILED in an other
 693:cpu/STM32F103/stm32f10x_can.c **** *                  case.
 694:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 695:cpu/STM32F103/stm32f10x_can.c **** u8 CAN_WakeUp(void)
 696:cpu/STM32F103/stm32f10x_can.c **** {
 1289              		.loc 1 696 1 is_stmt 1 view -0
 1290              		.cfi_startproc
 1291              		@ args = 0, pretend = 0, frame = 0
 1292              		@ frame_needed = 0, uses_anonymous_args = 0
 1293              		@ link register save eliminated.
 697:cpu/STM32F103/stm32f10x_can.c ****   u8 WakeUpStatus = 0;
 1294              		.loc 1 697 3 view .LVU475
 1295              	.LVL63:
 698:cpu/STM32F103/stm32f10x_can.c **** 
 699:cpu/STM32F103/stm32f10x_can.c ****   /* Wake up request */
 700:cpu/STM32F103/stm32f10x_can.c ****   CAN->MCR &= ~CAN_MCR_SLEEP;
 1296              		.loc 1 700 3 view .LVU476
 1297              		.loc 1 700 12 is_stmt 0 view .LVU477
 1298 0464 054B     		ldr	r3, .L98
 1299 0466 1A68     		ldr	r2, [r3]
 1300 0468 22F00202 		bic	r2, r2, #2
 1301 046c 1A60     		str	r2, [r3]
 701:cpu/STM32F103/stm32f10x_can.c ****   WakeUpStatus = CANWAKEUPFAILED;
 1302              		.loc 1 701 3 is_stmt 1 view .LVU478
 702:cpu/STM32F103/stm32f10x_can.c **** 
 703:cpu/STM32F103/stm32f10x_can.c ****   /* Sleep mode status */
 704:cpu/STM32F103/stm32f10x_can.c ****   if ((CAN->MCR&CAN_MCR_SLEEP) == 0)
 1303              		.loc 1 704 3 view .LVU479
 1304              		.loc 1 704 11 is_stmt 0 view .LVU480
 1305 046e 1868     		ldr	r0, [r3]
 1306              	.LVL64:
 705:cpu/STM32F103/stm32f10x_can.c ****   {
 706:cpu/STM32F103/stm32f10x_can.c ****     /* Sleep mode exited */
 707:cpu/STM32F103/stm32f10x_can.c ****     WakeUpStatus = CANWAKEUPOK;
 708:cpu/STM32F103/stm32f10x_can.c ****   }
 709:cpu/STM32F103/stm32f10x_can.c **** 
 710:cpu/STM32F103/stm32f10x_can.c ****   /* At this step, sleep mode status */
 711:cpu/STM32F103/stm32f10x_can.c ****   return WakeUpStatus;
 1307              		.loc 1 711 3 is_stmt 1 view .LVU481
 704:cpu/STM32F103/stm32f10x_can.c ****   {
 1308              		.loc 1 704 6 is_stmt 0 view .LVU482
 1309 0470 80F00200 		eor	r0, r0, #2
 1310              	.LVL65:
 712:cpu/STM32F103/stm32f10x_can.c **** }
 1311              		.loc 1 712 1 view .LVU483
 1312 0474 C0F34000 		ubfx	r0, r0, #1, #1
 1313              	.LVL66:
 1314              		.loc 1 712 1 view .LVU484
 1315 0478 7047     		bx	lr
 1316              	.L99:
 1317 047a 00BF     		.align	2
 1318              	.L98:
 1319 047c 00640040 		.word	1073767424
 1320              		.cfi_endproc
 1321              	.LFE12:
 1323              		.align	1
 1324              		.p2align 2,,3
 1325              		.global	CAN_GetFlagStatus
 1326              		.syntax unified
 1327              		.thumb
 1328              		.thumb_func
 1330              	CAN_GetFlagStatus:
 1331              	.LVL67:
 1332              	.LFB13:
 713:cpu/STM32F103/stm32f10x_can.c **** 
 714:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 715:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_GetFlagStatus
 716:cpu/STM32F103/stm32f10x_can.c **** * Description    : Checks whether the specified CAN flag is set or not.
 717:cpu/STM32F103/stm32f10x_can.c **** * Input          : CAN_FLAG: specifies the flag to check.
 718:cpu/STM32F103/stm32f10x_can.c **** *                  This parameter can be: CAN_FLAG_EWG, CAN_FLAG_EPV or
 719:cpu/STM32F103/stm32f10x_can.c **** *                                         CAN_FLAG_BOF.
 720:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 721:cpu/STM32F103/stm32f10x_can.c **** * Return         : The new state of CAN_FLAG (SET or RESET).
 722:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 723:cpu/STM32F103/stm32f10x_can.c **** FlagStatus CAN_GetFlagStatus(u32 CAN_FLAG)
 724:cpu/STM32F103/stm32f10x_can.c **** {
 1333              		.loc 1 724 1 is_stmt 1 view -0
 1334              		.cfi_startproc
 1335              		@ args = 0, pretend = 0, frame = 0
 1336              		@ frame_needed = 0, uses_anonymous_args = 0
 1337              		@ link register save eliminated.
 725:cpu/STM32F103/stm32f10x_can.c ****   FlagStatus bitstatus = RESET;
 1338              		.loc 1 725 3 view .LVU486
 726:cpu/STM32F103/stm32f10x_can.c **** 
 727:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 728:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FLAG(CAN_FLAG));
 1339              		.loc 1 728 3 view .LVU487
 729:cpu/STM32F103/stm32f10x_can.c **** 
 730:cpu/STM32F103/stm32f10x_can.c ****   /* Check the status of the specified CAN flag */
 731:cpu/STM32F103/stm32f10x_can.c ****   if ((CAN->ESR & CAN_FLAG) != (u32)RESET)
 1340              		.loc 1 731 3 view .LVU488
 1341              		.loc 1 731 11 is_stmt 0 view .LVU489
 1342 0480 034B     		ldr	r3, .L101
 1343 0482 9B69     		ldr	r3, [r3, #24]
 1344              	.LVL68:
 732:cpu/STM32F103/stm32f10x_can.c ****   {
 733:cpu/STM32F103/stm32f10x_can.c ****     /* CAN_FLAG is set */
 734:cpu/STM32F103/stm32f10x_can.c ****     bitstatus = SET;
 735:cpu/STM32F103/stm32f10x_can.c ****   }
 736:cpu/STM32F103/stm32f10x_can.c ****   else
 737:cpu/STM32F103/stm32f10x_can.c ****   {
 738:cpu/STM32F103/stm32f10x_can.c ****     /* CAN_FLAG is reset */
 739:cpu/STM32F103/stm32f10x_can.c ****     bitstatus = RESET;
 740:cpu/STM32F103/stm32f10x_can.c ****   }
 741:cpu/STM32F103/stm32f10x_can.c ****   /* Return the CAN_FLAG status */
 742:cpu/STM32F103/stm32f10x_can.c ****   return  bitstatus;
 1345              		.loc 1 742 3 is_stmt 1 view .LVU490
 731:cpu/STM32F103/stm32f10x_can.c ****   {
 1346              		.loc 1 731 6 is_stmt 0 view .LVU491
 1347 0484 0342     		tst	r3, r0
 743:cpu/STM32F103/stm32f10x_can.c **** }
 1348              		.loc 1 743 1 view .LVU492
 1349 0486 14BF     		ite	ne
 1350 0488 0120     		movne	r0, #1
 1351              	.LVL69:
 1352              		.loc 1 743 1 view .LVU493
 1353 048a 0020     		moveq	r0, #0
 1354 048c 7047     		bx	lr
 1355              	.L102:
 1356 048e 00BF     		.align	2
 1357              	.L101:
 1358 0490 00640040 		.word	1073767424
 1359              		.cfi_endproc
 1360              	.LFE13:
 1362              		.align	1
 1363              		.p2align 2,,3
 1364              		.global	CAN_ClearFlag
 1365              		.syntax unified
 1366              		.thumb
 1367              		.thumb_func
 1369              	CAN_ClearFlag:
 1370              	.LVL70:
 1371              	.LFB14:
 744:cpu/STM32F103/stm32f10x_can.c **** 
 745:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 746:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_ClearFlag
 747:cpu/STM32F103/stm32f10x_can.c **** * Description    : Clears the CAN's pending flags.
 748:cpu/STM32F103/stm32f10x_can.c **** * Input          : CAN_FLAG: specifies the flag to clear.
 749:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 750:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
 751:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 752:cpu/STM32F103/stm32f10x_can.c **** void CAN_ClearFlag(u32 CAN_FLAG)
 753:cpu/STM32F103/stm32f10x_can.c **** {
 1372              		.loc 1 753 1 is_stmt 1 view -0
 1373              		.cfi_startproc
 1374              		@ args = 0, pretend = 0, frame = 0
 1375              		@ frame_needed = 0, uses_anonymous_args = 0
 1376              		@ link register save eliminated.
 754:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 755:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_FLAG(CAN_FLAG));
 1377              		.loc 1 755 3 view .LVU495
 756:cpu/STM32F103/stm32f10x_can.c **** 
 757:cpu/STM32F103/stm32f10x_can.c ****   /* Clear the selected CAN flags */
 758:cpu/STM32F103/stm32f10x_can.c ****   CAN->ESR &= ~CAN_FLAG;
 1378              		.loc 1 758 3 view .LVU496
 1379              		.loc 1 758 12 is_stmt 0 view .LVU497
 1380 0494 024A     		ldr	r2, .L104
 1381 0496 9369     		ldr	r3, [r2, #24]
 1382 0498 23EA0003 		bic	r3, r3, r0
 1383 049c 9361     		str	r3, [r2, #24]
 759:cpu/STM32F103/stm32f10x_can.c **** }
 1384              		.loc 1 759 1 view .LVU498
 1385 049e 7047     		bx	lr
 1386              	.L105:
 1387              		.align	2
 1388              	.L104:
 1389 04a0 00640040 		.word	1073767424
 1390              		.cfi_endproc
 1391              	.LFE14:
 1393              		.align	1
 1394              		.p2align 2,,3
 1395              		.global	CAN_GetITStatus
 1396              		.syntax unified
 1397              		.thumb
 1398              		.thumb_func
 1400              	CAN_GetITStatus:
 1401              	.LVL71:
 1402              	.LFB15:
 760:cpu/STM32F103/stm32f10x_can.c **** 
 761:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 762:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_GetITStatus
 763:cpu/STM32F103/stm32f10x_can.c **** * Description    : Checks whether the specified CAN interrupt has occurred or 
 764:cpu/STM32F103/stm32f10x_can.c **** *                  not.
 765:cpu/STM32F103/stm32f10x_can.c **** * Input          : CAN_IT: specifies the CAN interrupt source to check.
 766:cpu/STM32F103/stm32f10x_can.c **** *                  This parameter can be: CAN_IT_RQCP0, CAN_IT_RQCP1, CAN_IT_RQCP2,
 767:cpu/STM32F103/stm32f10x_can.c **** *                                         CAN_IT_FF0, CAN_IT_FOV0, CAN_IT_FF1,
 768:cpu/STM32F103/stm32f10x_can.c **** *                                         CAN_IT_FOV1, CAN_IT_EWG, CAN_IT_EPV, 
 769:cpu/STM32F103/stm32f10x_can.c **** *                                         CAN_IT_BOF, CAN_IT_WKU or CAN_IT_SLK.
 770:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 771:cpu/STM32F103/stm32f10x_can.c **** * Return         : The new state of CAN_IT (SET or RESET).
 772:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 773:cpu/STM32F103/stm32f10x_can.c **** ITStatus CAN_GetITStatus(u32 CAN_IT)
 774:cpu/STM32F103/stm32f10x_can.c **** {
 1403              		.loc 1 774 1 is_stmt 1 view -0
 1404              		.cfi_startproc
 1405              		@ args = 0, pretend = 0, frame = 0
 1406              		@ frame_needed = 0, uses_anonymous_args = 0
 1407              		@ link register save eliminated.
 775:cpu/STM32F103/stm32f10x_can.c ****   ITStatus pendingbitstatus = RESET;
 1408              		.loc 1 775 3 view .LVU500
 776:cpu/STM32F103/stm32f10x_can.c **** 
 777:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 778:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_ITStatus(CAN_IT));
 1409              		.loc 1 778 3 view .LVU501
 779:cpu/STM32F103/stm32f10x_can.c **** 
 780:cpu/STM32F103/stm32f10x_can.c ****   switch (CAN_IT)
 1410              		.loc 1 780 3 view .LVU502
 1411 04a4 4028     		cmp	r0, #64
 1412 04a6 55D0     		beq	.L107
 1413 04a8 17D8     		bhi	.L108
 1414 04aa 0438     		subs	r0, r0, #4
 1415              	.LVL72:
 1416              		.loc 1 780 3 is_stmt 0 view .LVU503
 1417 04ac 1C28     		cmp	r0, #28
 1418 04ae 12D8     		bhi	.L124
 1419 04b0 1C28     		cmp	r0, #28
 1420 04b2 10D8     		bhi	.L124
 1421 04b4 DFE800F0 		tbb	[pc, r0]
 1422              	.L111:
 1423 04b8 30       		.byte	(.L116-.L111)/2
 1424 04b9 35       		.byte	(.L115-.L111)/2
 1425 04ba 3A       		.byte	(.L114-.L111)/2
 1426 04bb 3F       		.byte	(.L113-.L111)/2
 1427 04bc 44       		.byte	(.L112-.L111)/2
 1428 04bd 0F       		.byte	(.L124-.L111)/2
 1429 04be 0F       		.byte	(.L124-.L111)/2
 1430 04bf 0F       		.byte	(.L124-.L111)/2
 1431 04c0 0F       		.byte	(.L124-.L111)/2
 1432 04c1 0F       		.byte	(.L124-.L111)/2
 1433 04c2 0F       		.byte	(.L124-.L111)/2
 1434 04c3 0F       		.byte	(.L124-.L111)/2
 1435 04c4 0F       		.byte	(.L124-.L111)/2
 1436 04c5 0F       		.byte	(.L124-.L111)/2
 1437 04c6 0F       		.byte	(.L124-.L111)/2
 1438 04c7 0F       		.byte	(.L124-.L111)/2
 1439 04c8 0F       		.byte	(.L124-.L111)/2
 1440 04c9 0F       		.byte	(.L124-.L111)/2
 1441 04ca 0F       		.byte	(.L124-.L111)/2
 1442 04cb 0F       		.byte	(.L124-.L111)/2
 1443 04cc 0F       		.byte	(.L124-.L111)/2
 1444 04cd 0F       		.byte	(.L124-.L111)/2
 1445 04ce 0F       		.byte	(.L124-.L111)/2
 1446 04cf 0F       		.byte	(.L124-.L111)/2
 1447 04d0 0F       		.byte	(.L124-.L111)/2
 1448 04d1 0F       		.byte	(.L124-.L111)/2
 1449 04d2 0F       		.byte	(.L124-.L111)/2
 1450 04d3 0F       		.byte	(.L124-.L111)/2
 1451 04d4 2B       		.byte	(.L110-.L111)/2
 1452              	.LVL73:
 1453 04d5 00       		.p2align 1
 1454              	.L124:
 1455              		.loc 1 780 3 view .LVU504
 1456 04d6 0020     		movs	r0, #0
 1457              	.LVL74:
 781:cpu/STM32F103/stm32f10x_can.c ****   {
 782:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_RQCP0:
 783:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->TSR, CAN_TSR_RQCP0);
 784:cpu/STM32F103/stm32f10x_can.c ****       break;
 785:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_RQCP1:
 786:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->TSR, CAN_TSR_RQCP1);
 787:cpu/STM32F103/stm32f10x_can.c ****       break;
 788:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_RQCP2:
 789:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->TSR, CAN_TSR_RQCP2);
 790:cpu/STM32F103/stm32f10x_can.c ****       break;
 791:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FF0:
 792:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->RF0R, CAN_RF0R_FULL0);
 793:cpu/STM32F103/stm32f10x_can.c ****       break;
 794:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FOV0:
 795:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->RF0R, CAN_RF0R_FOVR0);
 796:cpu/STM32F103/stm32f10x_can.c ****       break;
 797:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FF1:
 798:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->RF1R, CAN_RF1R_FULL1);
 799:cpu/STM32F103/stm32f10x_can.c ****       break;
 800:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FOV1:
 801:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->RF1R, CAN_RF1R_FOVR1);
 802:cpu/STM32F103/stm32f10x_can.c ****       break;
 803:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_EWG:
 804:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->ESR, CAN_ESR_EWGF);
 805:cpu/STM32F103/stm32f10x_can.c ****       break;
 806:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_EPV:
 807:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->ESR, CAN_ESR_EPVF);
 808:cpu/STM32F103/stm32f10x_can.c ****       break;
 809:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_BOF:
 810:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->ESR, CAN_ESR_BOFF);
 811:cpu/STM32F103/stm32f10x_can.c ****       break;
 812:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_SLK:
 813:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->MSR, CAN_MSR_SLAKI);
 814:cpu/STM32F103/stm32f10x_can.c ****       break;
 815:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_WKU:
 816:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = CheckITStatus(CAN->MSR, CAN_MSR_WKUI);
 817:cpu/STM32F103/stm32f10x_can.c ****       break;
 818:cpu/STM32F103/stm32f10x_can.c **** 
 819:cpu/STM32F103/stm32f10x_can.c ****     default :
 820:cpu/STM32F103/stm32f10x_can.c ****       pendingbitstatus = RESET;
 821:cpu/STM32F103/stm32f10x_can.c ****       break;
 822:cpu/STM32F103/stm32f10x_can.c ****   }
 823:cpu/STM32F103/stm32f10x_can.c **** 
 824:cpu/STM32F103/stm32f10x_can.c ****   /* Return the CAN_IT status */
 825:cpu/STM32F103/stm32f10x_can.c ****   return  pendingbitstatus;
 1458              		.loc 1 825 3 is_stmt 1 view .LVU505
 826:cpu/STM32F103/stm32f10x_can.c **** }
 1459              		.loc 1 826 1 is_stmt 0 view .LVU506
 1460 04d8 7047     		bx	lr
 1461              	.LVL75:
 1462              	.L108:
 780:cpu/STM32F103/stm32f10x_can.c ****   {
 1463              		.loc 1 780 3 view .LVU507
 1464 04da B0F5806F 		cmp	r0, #1024
 1465 04de 34D0     		beq	.L117
 1466 04e0 0AD9     		bls	.L125
 1467 04e2 B0F5803F 		cmp	r0, #65536
 1468 04e6 3AD0     		beq	.L121
 1469 04e8 B0F5003F 		cmp	r0, #131072
 1470 04ec F3D1     		bne	.L124
 813:cpu/STM32F103/stm32f10x_can.c ****       break;
 1471              		.loc 1 813 7 is_stmt 1 view .LVU508
 813:cpu/STM32F103/stm32f10x_can.c ****       break;
 1472              		.loc 1 813 26 is_stmt 0 view .LVU509
 1473 04ee 214B     		ldr	r3, .L126
 1474 04f0 5868     		ldr	r0, [r3, #4]
 1475              	.LVL76:
 1476              	.LBB32:
 1477              	.LBI32:
 827:cpu/STM32F103/stm32f10x_can.c **** 
 828:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 829:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CAN_ClearITPendingBit
 830:cpu/STM32F103/stm32f10x_can.c **** * Description    : Clears the CANs interrupt pending bits.
 831:cpu/STM32F103/stm32f10x_can.c **** * Input          : CAN_IT: specifies the interrupt pending bit to clear.
 832:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 833:cpu/STM32F103/stm32f10x_can.c **** * Return         : None.
 834:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 835:cpu/STM32F103/stm32f10x_can.c **** void CAN_ClearITPendingBit(u32 CAN_IT)
 836:cpu/STM32F103/stm32f10x_can.c **** {
 837:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 838:cpu/STM32F103/stm32f10x_can.c ****   assert_param(IS_CAN_ITStatus(CAN_IT));
 839:cpu/STM32F103/stm32f10x_can.c **** 
 840:cpu/STM32F103/stm32f10x_can.c ****   switch (CAN_IT)
 841:cpu/STM32F103/stm32f10x_can.c ****   {
 842:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_RQCP0:
 843:cpu/STM32F103/stm32f10x_can.c ****       CAN->TSR = CAN_TSR_RQCP0; /* rc_w1*/
 844:cpu/STM32F103/stm32f10x_can.c ****       break;
 845:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_RQCP1:
 846:cpu/STM32F103/stm32f10x_can.c ****       CAN->TSR = CAN_TSR_RQCP1; /* rc_w1*/
 847:cpu/STM32F103/stm32f10x_can.c ****       break;
 848:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_RQCP2:
 849:cpu/STM32F103/stm32f10x_can.c ****       CAN->TSR = CAN_TSR_RQCP2; /* rc_w1*/
 850:cpu/STM32F103/stm32f10x_can.c ****       break;
 851:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FF0:
 852:cpu/STM32F103/stm32f10x_can.c ****       CAN->RF0R = CAN_RF0R_FULL0; /* rc_w1*/
 853:cpu/STM32F103/stm32f10x_can.c ****       break;
 854:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FOV0:
 855:cpu/STM32F103/stm32f10x_can.c ****       CAN->RF0R = CAN_RF0R_FOVR0; /* rc_w1*/
 856:cpu/STM32F103/stm32f10x_can.c ****       break;
 857:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FF1:
 858:cpu/STM32F103/stm32f10x_can.c ****       CAN->RF1R = CAN_RF1R_FULL1; /* rc_w1*/
 859:cpu/STM32F103/stm32f10x_can.c ****       break;
 860:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FOV1:
 861:cpu/STM32F103/stm32f10x_can.c ****       CAN->RF1R = CAN_RF1R_FOVR1; /* rc_w1*/
 862:cpu/STM32F103/stm32f10x_can.c ****       break;
 863:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_EWG:
 864:cpu/STM32F103/stm32f10x_can.c ****       CAN->ESR &= ~ CAN_ESR_EWGF; /* rw */
 865:cpu/STM32F103/stm32f10x_can.c ****       break;
 866:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_EPV:
 867:cpu/STM32F103/stm32f10x_can.c ****       CAN->ESR &= ~ CAN_ESR_EPVF; /* rw */
 868:cpu/STM32F103/stm32f10x_can.c ****       break;
 869:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_BOF:
 870:cpu/STM32F103/stm32f10x_can.c ****       CAN->ESR &= ~ CAN_ESR_BOFF; /* rw */
 871:cpu/STM32F103/stm32f10x_can.c ****       break;
 872:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_WKU:
 873:cpu/STM32F103/stm32f10x_can.c ****       CAN->MSR = CAN_MSR_WKUI;  /* rc_w1*/
 874:cpu/STM32F103/stm32f10x_can.c ****       break;
 875:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_SLK:
 876:cpu/STM32F103/stm32f10x_can.c ****       CAN->MSR = CAN_MSR_SLAKI;  /* rc_w1*/
 877:cpu/STM32F103/stm32f10x_can.c ****       break;
 878:cpu/STM32F103/stm32f10x_can.c ****     default :
 879:cpu/STM32F103/stm32f10x_can.c ****       break;
 880:cpu/STM32F103/stm32f10x_can.c ****   }
 881:cpu/STM32F103/stm32f10x_can.c **** }
 882:cpu/STM32F103/stm32f10x_can.c **** 
 883:cpu/STM32F103/stm32f10x_can.c **** /*******************************************************************************
 884:cpu/STM32F103/stm32f10x_can.c **** * Function Name  : CheckITStatus
 885:cpu/STM32F103/stm32f10x_can.c **** * Description    : Checks whether the CAN interrupt has occurred or not.
 886:cpu/STM32F103/stm32f10x_can.c **** * Input          : CAN_Reg: specifies the CAN interrupt register to check.
 887:cpu/STM32F103/stm32f10x_can.c **** *                  It_Bit: specifies the interrupt source bit to check.
 888:cpu/STM32F103/stm32f10x_can.c **** * Output         : None.
 889:cpu/STM32F103/stm32f10x_can.c **** * Return         : The new state of the CAN Interrupt (SET or RESET).
 890:cpu/STM32F103/stm32f10x_can.c **** *******************************************************************************/
 891:cpu/STM32F103/stm32f10x_can.c **** static ITStatus CheckITStatus(u32 CAN_Reg, u32 It_Bit)
 1478              		.loc 1 891 17 is_stmt 1 view .LVU510
 1479              	.LBB33:
 892:cpu/STM32F103/stm32f10x_can.c **** {
 893:cpu/STM32F103/stm32f10x_can.c ****   ITStatus pendingbitstatus = RESET;
 1480              		.loc 1 893 3 view .LVU511
 894:cpu/STM32F103/stm32f10x_can.c **** 
 895:cpu/STM32F103/stm32f10x_can.c ****   if ((CAN_Reg & It_Bit) != (u32)RESET)
 1481              		.loc 1 895 3 view .LVU512
 1482              	.LBE33:
 1483              	.LBE32:
 1484              	.LBB35:
 1485              	.LBB36:
 896:cpu/STM32F103/stm32f10x_can.c ****   {
 897:cpu/STM32F103/stm32f10x_can.c ****     /* CAN_IT is set */
 898:cpu/STM32F103/stm32f10x_can.c ****     pendingbitstatus = SET;
 1486              		.loc 1 898 22 is_stmt 0 view .LVU513
 1487 04f2 C0F30010 		ubfx	r0, r0, #4, #1
 1488              	.LVL77:
 1489              		.loc 1 898 22 view .LVU514
 1490              	.LBE36:
 1491              	.LBE35:
 1492              	.LBB46:
 1493              	.LBB34:
 1494 04f6 7047     		bx	lr
 1495              	.LVL78:
 1496              	.L125:
 1497              		.loc 1 898 22 view .LVU515
 1498              	.LBE34:
 1499              	.LBE46:
 780:cpu/STM32F103/stm32f10x_can.c ****   {
 1500              		.loc 1 780 3 view .LVU516
 1501 04f8 B0F5807F 		cmp	r0, #256
 1502 04fc 34D0     		beq	.L119
 1503 04fe B0F5007F 		cmp	r0, #512
 1504 0502 E8D1     		bne	.L124
 807:cpu/STM32F103/stm32f10x_can.c ****       break;
 1505              		.loc 1 807 7 is_stmt 1 view .LVU517
 807:cpu/STM32F103/stm32f10x_can.c ****       break;
 1506              		.loc 1 807 26 is_stmt 0 view .LVU518
 1507 0504 1B4B     		ldr	r3, .L126
 1508 0506 9869     		ldr	r0, [r3, #24]
 1509              	.LVL79:
 1510              	.LBB47:
 1511              	.LBI47:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1512              		.loc 1 891 17 is_stmt 1 view .LVU519
 1513              	.LBB48:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1514              		.loc 1 893 3 view .LVU520
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1515              		.loc 1 895 3 view .LVU521
 1516              	.LBE48:
 1517              	.LBE47:
 1518              	.LBB50:
 1519              	.LBB37:
 1520              		.loc 1 898 22 is_stmt 0 view .LVU522
 1521 0508 C0F34000 		ubfx	r0, r0, #1, #1
 1522              	.LVL80:
 1523              		.loc 1 898 22 view .LVU523
 1524              	.LBE37:
 1525              	.LBE50:
 1526              	.LBB51:
 1527              	.LBB49:
 1528 050c 7047     		bx	lr
 1529              	.LVL81:
 1530              	.L110:
 1531              		.loc 1 898 22 view .LVU524
 1532              	.LBE49:
 1533              	.LBE51:
 798:cpu/STM32F103/stm32f10x_can.c ****       break;
 1534              		.loc 1 798 7 is_stmt 1 view .LVU525
 798:cpu/STM32F103/stm32f10x_can.c ****       break;
 1535              		.loc 1 798 26 is_stmt 0 view .LVU526
 1536 050e 194B     		ldr	r3, .L126
 1537 0510 1869     		ldr	r0, [r3, #16]
 1538              	.LVL82:
 1539              	.LBB52:
 1540              	.LBI52:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1541              		.loc 1 891 17 is_stmt 1 view .LVU527
 1542              	.LBB53:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1543              		.loc 1 893 3 view .LVU528
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1544              		.loc 1 895 3 view .LVU529
 1545              	.LBE53:
 1546              	.LBE52:
 1547              	.LBB55:
 1548              	.LBB38:
 1549              		.loc 1 898 22 is_stmt 0 view .LVU530
 1550 0512 C0F3C000 		ubfx	r0, r0, #3, #1
 1551              	.LVL83:
 1552              		.loc 1 898 22 view .LVU531
 1553              	.LBE38:
 1554              	.LBE55:
 1555              	.LBB56:
 1556              	.LBB54:
 1557 0516 7047     		bx	lr
 1558              	.LVL84:
 1559              	.L116:
 1560              		.loc 1 898 22 view .LVU532
 1561              	.LBE54:
 1562              	.LBE56:
 792:cpu/STM32F103/stm32f10x_can.c ****       break;
 1563              		.loc 1 792 7 is_stmt 1 view .LVU533
 792:cpu/STM32F103/stm32f10x_can.c ****       break;
 1564              		.loc 1 792 26 is_stmt 0 view .LVU534
 1565 0518 164B     		ldr	r3, .L126
 1566 051a D868     		ldr	r0, [r3, #12]
 1567              	.LVL85:
 1568              	.LBB57:
 1569              	.LBI57:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1570              		.loc 1 891 17 is_stmt 1 view .LVU535
 1571              	.LBB58:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1572              		.loc 1 893 3 view .LVU536
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1573              		.loc 1 895 3 view .LVU537
 1574              	.LBE58:
 1575              	.LBE57:
 1576              	.LBB60:
 1577              	.LBB39:
 1578              		.loc 1 898 22 is_stmt 0 view .LVU538
 1579 051c C0F3C000 		ubfx	r0, r0, #3, #1
 1580              	.LVL86:
 1581              		.loc 1 898 22 view .LVU539
 1582              	.LBE39:
 1583              	.LBE60:
 1584              	.LBB61:
 1585              	.LBB59:
 1586 0520 7047     		bx	lr
 1587              	.LVL87:
 1588              	.L115:
 1589              		.loc 1 898 22 view .LVU540
 1590              	.LBE59:
 1591              	.LBE61:
 783:cpu/STM32F103/stm32f10x_can.c ****       break;
 1592              		.loc 1 783 7 is_stmt 1 view .LVU541
 783:cpu/STM32F103/stm32f10x_can.c ****       break;
 1593              		.loc 1 783 26 is_stmt 0 view .LVU542
 1594 0522 144B     		ldr	r3, .L126
 1595 0524 9868     		ldr	r0, [r3, #8]
 1596              	.LVL88:
 1597              	.LBB62:
 1598              	.LBI62:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1599              		.loc 1 891 17 is_stmt 1 view .LVU543
 1600              	.LBB63:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1601              		.loc 1 893 3 view .LVU544
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1602              		.loc 1 895 3 view .LVU545
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1603              		.loc 1 895 6 is_stmt 0 view .LVU546
 1604 0526 00F00100 		and	r0, r0, #1
 1605              	.LVL89:
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1606              		.loc 1 895 6 view .LVU547
 1607 052a 7047     		bx	lr
 1608              	.LVL90:
 1609              	.L114:
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1610              		.loc 1 895 6 view .LVU548
 1611              	.LBE63:
 1612              	.LBE62:
 786:cpu/STM32F103/stm32f10x_can.c ****       break;
 1613              		.loc 1 786 7 is_stmt 1 view .LVU549
 786:cpu/STM32F103/stm32f10x_can.c ****       break;
 1614              		.loc 1 786 26 is_stmt 0 view .LVU550
 1615 052c 114B     		ldr	r3, .L126
 1616 052e 9868     		ldr	r0, [r3, #8]
 1617              	.LVL91:
 1618              	.LBB64:
 1619              	.LBI35:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1620              		.loc 1 891 17 is_stmt 1 view .LVU551
 1621              	.LBB40:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1622              		.loc 1 893 3 view .LVU552
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1623              		.loc 1 895 3 view .LVU553
 1624              		.loc 1 898 22 is_stmt 0 view .LVU554
 1625 0530 C0F30020 		ubfx	r0, r0, #8, #1
 1626              	.LVL92:
 1627              		.loc 1 898 22 view .LVU555
 1628 0534 7047     		bx	lr
 1629              	.LVL93:
 1630              	.L113:
 1631              		.loc 1 898 22 view .LVU556
 1632              	.LBE40:
 1633              	.LBE64:
 789:cpu/STM32F103/stm32f10x_can.c ****       break;
 1634              		.loc 1 789 7 is_stmt 1 view .LVU557
 789:cpu/STM32F103/stm32f10x_can.c ****       break;
 1635              		.loc 1 789 26 is_stmt 0 view .LVU558
 1636 0536 0F4B     		ldr	r3, .L126
 1637 0538 9868     		ldr	r0, [r3, #8]
 1638              	.LVL94:
 1639              	.LBB65:
 1640              	.LBI65:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1641              		.loc 1 891 17 is_stmt 1 view .LVU559
 1642              	.LBB66:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1643              		.loc 1 893 3 view .LVU560
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1644              		.loc 1 895 3 view .LVU561
 1645              	.LBE66:
 1646              	.LBE65:
 1647              	.LBB68:
 1648              	.LBB41:
 1649              		.loc 1 898 22 is_stmt 0 view .LVU562
 1650 053a C0F30040 		ubfx	r0, r0, #16, #1
 1651              	.LVL95:
 1652              		.loc 1 898 22 view .LVU563
 1653              	.LBE41:
 1654              	.LBE68:
 1655              	.LBB69:
 1656              	.LBB67:
 1657 053e 7047     		bx	lr
 1658              	.LVL96:
 1659              	.L112:
 1660              		.loc 1 898 22 view .LVU564
 1661              	.LBE67:
 1662              	.LBE69:
 795:cpu/STM32F103/stm32f10x_can.c ****       break;
 1663              		.loc 1 795 7 is_stmt 1 view .LVU565
 795:cpu/STM32F103/stm32f10x_can.c ****       break;
 1664              		.loc 1 795 26 is_stmt 0 view .LVU566
 1665 0540 0C4B     		ldr	r3, .L126
 1666 0542 D868     		ldr	r0, [r3, #12]
 1667              	.LVL97:
 1668              	.LBB70:
 1669              	.LBI70:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1670              		.loc 1 891 17 is_stmt 1 view .LVU567
 1671              	.LBB71:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1672              		.loc 1 893 3 view .LVU568
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1673              		.loc 1 895 3 view .LVU569
 1674              	.LBE71:
 1675              	.LBE70:
 1676              	.LBB73:
 1677              	.LBB42:
 1678              		.loc 1 898 22 is_stmt 0 view .LVU570
 1679 0544 C0F30010 		ubfx	r0, r0, #4, #1
 1680              	.LVL98:
 1681              		.loc 1 898 22 view .LVU571
 1682              	.LBE42:
 1683              	.LBE73:
 1684              	.LBB74:
 1685              	.LBB72:
 1686 0548 7047     		bx	lr
 1687              	.LVL99:
 1688              	.L117:
 1689              		.loc 1 898 22 view .LVU572
 1690              	.LBE72:
 1691              	.LBE74:
 810:cpu/STM32F103/stm32f10x_can.c ****       break;
 1692              		.loc 1 810 7 is_stmt 1 view .LVU573
 810:cpu/STM32F103/stm32f10x_can.c ****       break;
 1693              		.loc 1 810 26 is_stmt 0 view .LVU574
 1694 054a 0A4B     		ldr	r3, .L126
 1695 054c 9869     		ldr	r0, [r3, #24]
 1696              	.LVL100:
 1697              	.LBB75:
 1698              	.LBI75:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1699              		.loc 1 891 17 is_stmt 1 view .LVU575
 1700              	.LBB76:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1701              		.loc 1 893 3 view .LVU576
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1702              		.loc 1 895 3 view .LVU577
 1703              	.LBE76:
 1704              	.LBE75:
 1705              	.LBB78:
 1706              	.LBB43:
 1707              		.loc 1 898 22 is_stmt 0 view .LVU578
 1708 054e C0F38000 		ubfx	r0, r0, #2, #1
 1709              	.LVL101:
 1710              		.loc 1 898 22 view .LVU579
 1711              	.LBE43:
 1712              	.LBE78:
 1713              	.LBB79:
 1714              	.LBB77:
 1715 0552 7047     		bx	lr
 1716              	.LVL102:
 1717              	.L107:
 1718              		.loc 1 898 22 view .LVU580
 1719              	.LBE77:
 1720              	.LBE79:
 801:cpu/STM32F103/stm32f10x_can.c ****       break;
 1721              		.loc 1 801 7 is_stmt 1 view .LVU581
 801:cpu/STM32F103/stm32f10x_can.c ****       break;
 1722              		.loc 1 801 26 is_stmt 0 view .LVU582
 1723 0554 074B     		ldr	r3, .L126
 1724 0556 1869     		ldr	r0, [r3, #16]
 1725              	.LVL103:
 1726              	.LBB80:
 1727              	.LBI80:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1728              		.loc 1 891 17 is_stmt 1 view .LVU583
 1729              	.LBB81:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1730              		.loc 1 893 3 view .LVU584
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1731              		.loc 1 895 3 view .LVU585
 1732              	.LBE81:
 1733              	.LBE80:
 1734              	.LBB83:
 1735              	.LBB44:
 1736              		.loc 1 898 22 is_stmt 0 view .LVU586
 1737 0558 C0F30010 		ubfx	r0, r0, #4, #1
 1738              	.LVL104:
 1739              		.loc 1 898 22 view .LVU587
 1740              	.LBE44:
 1741              	.LBE83:
 1742              	.LBB84:
 1743              	.LBB82:
 1744 055c 7047     		bx	lr
 1745              	.LVL105:
 1746              	.L121:
 1747              		.loc 1 898 22 view .LVU588
 1748              	.LBE82:
 1749              	.LBE84:
 816:cpu/STM32F103/stm32f10x_can.c ****       break;
 1750              		.loc 1 816 7 is_stmt 1 view .LVU589
 816:cpu/STM32F103/stm32f10x_can.c ****       break;
 1751              		.loc 1 816 26 is_stmt 0 view .LVU590
 1752 055e 054B     		ldr	r3, .L126
 1753 0560 5868     		ldr	r0, [r3, #4]
 1754              	.LVL106:
 1755              	.LBB85:
 1756              	.LBI85:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1757              		.loc 1 891 17 is_stmt 1 view .LVU591
 1758              	.LBB86:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1759              		.loc 1 893 3 view .LVU592
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1760              		.loc 1 895 3 view .LVU593
 1761              	.LBE86:
 1762              	.LBE85:
 1763              	.LBB88:
 1764              	.LBB45:
 1765              		.loc 1 898 22 is_stmt 0 view .LVU594
 1766 0562 C0F3C000 		ubfx	r0, r0, #3, #1
 1767              	.LVL107:
 1768              		.loc 1 898 22 view .LVU595
 1769              	.LBE45:
 1770              	.LBE88:
 1771              	.LBB89:
 1772              	.LBB87:
 1773 0566 7047     		bx	lr
 1774              	.LVL108:
 1775              	.L119:
 1776              		.loc 1 898 22 view .LVU596
 1777              	.LBE87:
 1778              	.LBE89:
 804:cpu/STM32F103/stm32f10x_can.c ****       break;
 1779              		.loc 1 804 7 is_stmt 1 view .LVU597
 804:cpu/STM32F103/stm32f10x_can.c ****       break;
 1780              		.loc 1 804 26 is_stmt 0 view .LVU598
 1781 0568 024B     		ldr	r3, .L126
 1782 056a 9869     		ldr	r0, [r3, #24]
 1783              	.LVL109:
 1784              	.LBB90:
 1785              	.LBI90:
 891:cpu/STM32F103/stm32f10x_can.c **** {
 1786              		.loc 1 891 17 is_stmt 1 view .LVU599
 1787              	.LBB91:
 893:cpu/STM32F103/stm32f10x_can.c **** 
 1788              		.loc 1 893 3 view .LVU600
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1789              		.loc 1 895 3 view .LVU601
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1790              		.loc 1 895 6 is_stmt 0 view .LVU602
 1791 056c 00F00100 		and	r0, r0, #1
 1792              	.LVL110:
 895:cpu/STM32F103/stm32f10x_can.c ****   {
 1793              		.loc 1 895 6 view .LVU603
 1794 0570 7047     		bx	lr
 1795              	.L127:
 1796 0572 00BF     		.align	2
 1797              	.L126:
 1798 0574 00640040 		.word	1073767424
 1799              	.LBE91:
 1800              	.LBE90:
 1801              		.cfi_endproc
 1802              	.LFE15:
 1804              		.align	1
 1805              		.p2align 2,,3
 1806              		.global	CAN_ClearITPendingBit
 1807              		.syntax unified
 1808              		.thumb
 1809              		.thumb_func
 1811              	CAN_ClearITPendingBit:
 1812              	.LVL111:
 1813              	.LFB16:
 836:cpu/STM32F103/stm32f10x_can.c ****   /* Check the parameters */
 1814              		.loc 1 836 1 is_stmt 1 view -0
 1815              		.cfi_startproc
 1816              		@ args = 0, pretend = 0, frame = 0
 1817              		@ frame_needed = 0, uses_anonymous_args = 0
 1818              		@ link register save eliminated.
 838:cpu/STM32F103/stm32f10x_can.c **** 
 1819              		.loc 1 838 3 view .LVU605
 840:cpu/STM32F103/stm32f10x_can.c ****   {
 1820              		.loc 1 840 3 view .LVU606
 1821 0578 4028     		cmp	r0, #64
 1822 057a 50D0     		beq	.L129
 1823 057c 15D8     		bhi	.L130
 1824 057e 0438     		subs	r0, r0, #4
 1825              	.LVL112:
 840:cpu/STM32F103/stm32f10x_can.c ****   {
 1826              		.loc 1 840 3 is_stmt 0 view .LVU607
 1827 0580 1C28     		cmp	r0, #28
 1828 0582 1FD8     		bhi	.L128
 1829 0584 1C28     		cmp	r0, #28
 1830 0586 1DD8     		bhi	.L128
 1831 0588 DFE800F0 		tbb	[pc, r0]
 1832              	.L133:
 1833 058c 2D       		.byte	(.L138-.L133)/2
 1834 058d 31       		.byte	(.L137-.L133)/2
 1835 058e 35       		.byte	(.L136-.L133)/2
 1836 058f 3A       		.byte	(.L135-.L133)/2
 1837 0590 3F       		.byte	(.L134-.L133)/2
 1838 0591 1C       		.byte	(.L128-.L133)/2
 1839 0592 1C       		.byte	(.L128-.L133)/2
 1840 0593 1C       		.byte	(.L128-.L133)/2
 1841 0594 1C       		.byte	(.L128-.L133)/2
 1842 0595 1C       		.byte	(.L128-.L133)/2
 1843 0596 1C       		.byte	(.L128-.L133)/2
 1844 0597 1C       		.byte	(.L128-.L133)/2
 1845 0598 1C       		.byte	(.L128-.L133)/2
 1846 0599 1C       		.byte	(.L128-.L133)/2
 1847 059a 1C       		.byte	(.L128-.L133)/2
 1848 059b 1C       		.byte	(.L128-.L133)/2
 1849 059c 1C       		.byte	(.L128-.L133)/2
 1850 059d 1C       		.byte	(.L128-.L133)/2
 1851 059e 1C       		.byte	(.L128-.L133)/2
 1852 059f 1C       		.byte	(.L128-.L133)/2
 1853 05a0 1C       		.byte	(.L128-.L133)/2
 1854 05a1 1C       		.byte	(.L128-.L133)/2
 1855 05a2 1C       		.byte	(.L128-.L133)/2
 1856 05a3 1C       		.byte	(.L128-.L133)/2
 1857 05a4 1C       		.byte	(.L128-.L133)/2
 1858 05a5 1C       		.byte	(.L128-.L133)/2
 1859 05a6 1C       		.byte	(.L128-.L133)/2
 1860 05a7 1C       		.byte	(.L128-.L133)/2
 1861 05a8 29       		.byte	(.L132-.L133)/2
 1862              	.LVL113:
 1863 05a9 00       		.p2align 1
 1864              	.L130:
 840:cpu/STM32F103/stm32f10x_can.c ****   {
 1865              		.loc 1 840 3 view .LVU608
 1866 05aa B0F5806F 		cmp	r0, #1024
 1867 05ae 30D0     		beq	.L139
 1868 05b0 09D9     		bls	.L145
 1869 05b2 B0F5803F 		cmp	r0, #65536
 1870 05b6 36D0     		beq	.L143
 1871 05b8 B0F5003F 		cmp	r0, #131072
 1872 05bc 3ED1     		bne	.L146
 876:cpu/STM32F103/stm32f10x_can.c ****       break;
 1873              		.loc 1 876 7 is_stmt 1 view .LVU609
 876:cpu/STM32F103/stm32f10x_can.c ****       break;
 1874              		.loc 1 876 16 is_stmt 0 view .LVU610
 1875 05be 1022     		movs	r2, #16
 1876 05c0 1F4B     		ldr	r3, .L148
 1877 05c2 5A60     		str	r2, [r3, #4]
 877:cpu/STM32F103/stm32f10x_can.c ****     default :
 1878              		.loc 1 877 7 is_stmt 1 view .LVU611
 1879              	.LVL114:
 1880              	.L128:
 881:cpu/STM32F103/stm32f10x_can.c **** 
 1881              		.loc 1 881 1 is_stmt 0 view .LVU612
 1882 05c4 7047     		bx	lr
 1883              	.LVL115:
 1884              	.L145:
 840:cpu/STM32F103/stm32f10x_can.c ****   {
 1885              		.loc 1 840 3 view .LVU613
 1886 05c6 B0F5807F 		cmp	r0, #256
 1887 05ca 30D0     		beq	.L141
 1888 05cc B0F5007F 		cmp	r0, #512
 1889 05d0 33D1     		bne	.L147
 867:cpu/STM32F103/stm32f10x_can.c ****       break;
 1890              		.loc 1 867 7 is_stmt 1 view .LVU614
 867:cpu/STM32F103/stm32f10x_can.c ****       break;
 1891              		.loc 1 867 16 is_stmt 0 view .LVU615
 1892 05d2 1B4A     		ldr	r2, .L148
 1893 05d4 9369     		ldr	r3, [r2, #24]
 1894 05d6 23F00203 		bic	r3, r3, #2
 1895 05da 9361     		str	r3, [r2, #24]
 868:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_BOF:
 1896              		.loc 1 868 7 is_stmt 1 view .LVU616
 1897 05dc 7047     		bx	lr
 1898              	.LVL116:
 1899              	.L132:
 858:cpu/STM32F103/stm32f10x_can.c ****       break;
 1900              		.loc 1 858 7 view .LVU617
 858:cpu/STM32F103/stm32f10x_can.c ****       break;
 1901              		.loc 1 858 17 is_stmt 0 view .LVU618
 1902 05de 0822     		movs	r2, #8
 1903 05e0 174B     		ldr	r3, .L148
 1904 05e2 1A61     		str	r2, [r3, #16]
 859:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FOV1:
 1905              		.loc 1 859 7 is_stmt 1 view .LVU619
 1906 05e4 7047     		bx	lr
 1907              	.L138:
 852:cpu/STM32F103/stm32f10x_can.c ****       break;
 1908              		.loc 1 852 7 view .LVU620
 852:cpu/STM32F103/stm32f10x_can.c ****       break;
 1909              		.loc 1 852 17 is_stmt 0 view .LVU621
 1910 05e6 0822     		movs	r2, #8
 1911 05e8 154B     		ldr	r3, .L148
 1912 05ea DA60     		str	r2, [r3, #12]
 853:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FOV0:
 1913              		.loc 1 853 7 is_stmt 1 view .LVU622
 1914 05ec 7047     		bx	lr
 1915              	.L137:
 843:cpu/STM32F103/stm32f10x_can.c ****       break;
 1916              		.loc 1 843 7 view .LVU623
 843:cpu/STM32F103/stm32f10x_can.c ****       break;
 1917              		.loc 1 843 16 is_stmt 0 view .LVU624
 1918 05ee 0122     		movs	r2, #1
 1919 05f0 134B     		ldr	r3, .L148
 1920 05f2 9A60     		str	r2, [r3, #8]
 844:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_RQCP1:
 1921              		.loc 1 844 7 is_stmt 1 view .LVU625
 1922 05f4 7047     		bx	lr
 1923              	.L136:
 846:cpu/STM32F103/stm32f10x_can.c ****       break;
 1924              		.loc 1 846 7 view .LVU626
 846:cpu/STM32F103/stm32f10x_can.c ****       break;
 1925              		.loc 1 846 16 is_stmt 0 view .LVU627
 1926 05f6 4FF48072 		mov	r2, #256
 1927 05fa 114B     		ldr	r3, .L148
 1928 05fc 9A60     		str	r2, [r3, #8]
 847:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_RQCP2:
 1929              		.loc 1 847 7 is_stmt 1 view .LVU628
 1930 05fe 7047     		bx	lr
 1931              	.L135:
 849:cpu/STM32F103/stm32f10x_can.c ****       break;
 1932              		.loc 1 849 7 view .LVU629
 849:cpu/STM32F103/stm32f10x_can.c ****       break;
 1933              		.loc 1 849 16 is_stmt 0 view .LVU630
 1934 0600 4FF48032 		mov	r2, #65536
 1935 0604 0E4B     		ldr	r3, .L148
 1936 0606 9A60     		str	r2, [r3, #8]
 850:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FF0:
 1937              		.loc 1 850 7 is_stmt 1 view .LVU631
 1938 0608 7047     		bx	lr
 1939              	.L134:
 855:cpu/STM32F103/stm32f10x_can.c ****       break;
 1940              		.loc 1 855 7 view .LVU632
 855:cpu/STM32F103/stm32f10x_can.c ****       break;
 1941              		.loc 1 855 17 is_stmt 0 view .LVU633
 1942 060a 1022     		movs	r2, #16
 1943 060c 0C4B     		ldr	r3, .L148
 1944 060e DA60     		str	r2, [r3, #12]
 856:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_FF1:
 1945              		.loc 1 856 7 is_stmt 1 view .LVU634
 1946 0610 7047     		bx	lr
 1947              	.LVL117:
 1948              	.L139:
 870:cpu/STM32F103/stm32f10x_can.c ****       break;
 1949              		.loc 1 870 7 view .LVU635
 870:cpu/STM32F103/stm32f10x_can.c ****       break;
 1950              		.loc 1 870 16 is_stmt 0 view .LVU636
 1951 0612 0B4A     		ldr	r2, .L148
 1952 0614 9369     		ldr	r3, [r2, #24]
 1953 0616 23F00403 		bic	r3, r3, #4
 1954 061a 9361     		str	r3, [r2, #24]
 871:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_WKU:
 1955              		.loc 1 871 7 is_stmt 1 view .LVU637
 1956 061c 7047     		bx	lr
 1957              	.L129:
 861:cpu/STM32F103/stm32f10x_can.c ****       break;
 1958              		.loc 1 861 7 view .LVU638
 861:cpu/STM32F103/stm32f10x_can.c ****       break;
 1959              		.loc 1 861 17 is_stmt 0 view .LVU639
 1960 061e 1022     		movs	r2, #16
 1961 0620 074B     		ldr	r3, .L148
 1962 0622 1A61     		str	r2, [r3, #16]
 862:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_EWG:
 1963              		.loc 1 862 7 is_stmt 1 view .LVU640
 1964 0624 7047     		bx	lr
 1965              	.L143:
 873:cpu/STM32F103/stm32f10x_can.c ****       break;
 1966              		.loc 1 873 7 view .LVU641
 873:cpu/STM32F103/stm32f10x_can.c ****       break;
 1967              		.loc 1 873 16 is_stmt 0 view .LVU642
 1968 0626 0822     		movs	r2, #8
 1969 0628 054B     		ldr	r3, .L148
 1970 062a 5A60     		str	r2, [r3, #4]
 874:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_SLK:
 1971              		.loc 1 874 7 is_stmt 1 view .LVU643
 1972 062c 7047     		bx	lr
 1973              	.L141:
 864:cpu/STM32F103/stm32f10x_can.c ****       break;
 1974              		.loc 1 864 7 view .LVU644
 864:cpu/STM32F103/stm32f10x_can.c ****       break;
 1975              		.loc 1 864 16 is_stmt 0 view .LVU645
 1976 062e 044A     		ldr	r2, .L148
 1977 0630 9369     		ldr	r3, [r2, #24]
 1978 0632 23F00103 		bic	r3, r3, #1
 1979 0636 9361     		str	r3, [r2, #24]
 865:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_EPV:
 1980              		.loc 1 865 7 is_stmt 1 view .LVU646
 1981 0638 7047     		bx	lr
 1982              	.L147:
 1983 063a 7047     		bx	lr
 1984              	.L146:
 865:cpu/STM32F103/stm32f10x_can.c ****     case CAN_IT_EPV:
 1985              		.loc 1 865 7 is_stmt 0 view .LVU647
 1986 063c 7047     		bx	lr
 1987              	.L149:
 1988 063e 00BF     		.align	2
 1989              	.L148:
 1990 0640 00640040 		.word	1073767424
 1991              		.cfi_endproc
 1992              	.LFE16:
 1994              		.section	.rodata
 1995              		.align	2
 1996              		.set	.LANCHOR0,. + 0
 1999              	CSWTCH.9:
 2000 0000 02       		.byte	2
 2001 0001 00       		.byte	0
 2002 0002 00       		.byte	0
 2003 0003 00       		.byte	0
 2004 0004 00       		.byte	0
 2005 0005 00       		.byte	0
 2006 0006 00       		.byte	0
 2007 0007 01       		.byte	1
 2008              		.text
 2009              	.Letext0:
 2010              		.file 2 "cpu/STM32F103/stm32f10x_type.h"
 2011              		.file 3 "cpu/STM32F103/stm32f10x_map.h"
 2012              		.file 4 "cpu/STM32F103/stm32f10x_can.h"
 2013              		.file 5 "cpu/STM32F103/stm32f10x_rcc.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_can.c
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:17     .text:00000000 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:24     .text:00000000 CAN_DeInit
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:65     .text:0000001c CAN_Init
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:263    .text:000000e0 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:267    .text:000000e4 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:274    .text:000000e4 CAN_FilterInit
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:473    .text:000001d4 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:477    .text:000001d8 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:484    .text:000001d8 CAN_StructInit
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:533    .text:000001f0 CAN_ITConfig
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:569    .text:00000204 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:573    .text:00000208 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:580    .text:00000208 CAN_Transmit
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:752    .text:000002c8 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:756    .text:000002cc $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:763    .text:000002cc CAN_TransmitStatus
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:901    .text:00000340 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:906    .text:00000348 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:913    .text:00000348 CAN_CancelTransmit
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:961    .text:00000378 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:965    .text:0000037c $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:972    .text:0000037c CAN_FIFORelease
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1000   .text:0000038c $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1004   .text:00000390 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1011   .text:00000390 CAN_MessagePending
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1057   .text:000003ac $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1061   .text:000003b0 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1068   .text:000003b0 CAN_Receive
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1235   .text:00000448 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1239   .text:0000044c $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1246   .text:0000044c CAN_Sleep
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1276   .text:00000460 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1280   .text:00000464 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1287   .text:00000464 CAN_WakeUp
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1319   .text:0000047c $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1323   .text:00000480 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1330   .text:00000480 CAN_GetFlagStatus
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1358   .text:00000490 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1362   .text:00000494 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1369   .text:00000494 CAN_ClearFlag
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1389   .text:000004a0 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1393   .text:000004a4 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1400   .text:000004a4 CAN_GetITStatus
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1423   .text:000004b8 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1798   .text:00000574 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1804   .text:00000578 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1811   .text:00000578 CAN_ClearITPendingBit
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1833   .text:0000058c $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1990   .text:00000640 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1995   .rodata:00000000 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1999   .rodata:00000000 CSWTCH.9
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1453   .text:000004d5 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1453   .text:000004d6 $t
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1863   .text:000005a9 $d
C:\Users\forre\AppData\Local\Temp\ccCWNJzf.s:1863   .text:000005aa $t

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd
